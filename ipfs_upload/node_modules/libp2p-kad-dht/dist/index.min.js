(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2pKadDht = factory()}(typeof self !== 'undefined' ? self : this, function () {
var Libp2pKadDht=(()=>{var X4=Object.defineProperty;var zt=(t,e)=>()=>(t&&(e=t(t=0)),e),C=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),_n=(t,e)=>{for(var r in e)X4(t,r,{get:e[r],enumerable:!0})};var qs=C((mB,Wf)=>{"use strict";var Ii=typeof Reflect=="object"?Reflect:null,nh=Ii&&typeof Ii.apply=="function"?Ii.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Ms;Ii&&typeof Ii.ownKeys=="function"?Ms=Ii.ownKeys:Object.getOwnPropertySymbols?Ms=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Ms=function(e){return Object.getOwnPropertyNames(e)};function e6(t){console&&console.warn&&console.warn(t)}var ih=Number.isNaN||function(e){return e!==e};function Re(){Re.init.call(this)}Wf.exports=Re;Wf.exports.once=t6;Re.EventEmitter=Re;Re.prototype._events=void 0;Re.prototype._eventsCount=0;Re.prototype._maxListeners=void 0;var ah=10;function Rs(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Re,"defaultMaxListeners",{enumerable:!0,get:function(){return ah},set:function(t){if(typeof t!="number"||t<0||ih(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");ah=t}});Re.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Re.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||ih(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function sh(t){return t._maxListeners===void 0?Re.defaultMaxListeners:t._maxListeners}Re.prototype.getMaxListeners=function(){return sh(this)};Re.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var f=a[e];if(f===void 0)return!1;if(typeof f=="function")nh(f,this,r);else for(var u=f.length,c=oh(f,u),n=0;n<u;++n)nh(c[n],this,r);return!0};function fh(t,e,r,n){var i,a,s;if(Rs(r),a=t._events,a===void 0?(a=t._events=Object.create(null),t._eventsCount=0):(a.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),a=t._events),s=a[e]),s===void 0)s=a[e]=r,++t._eventsCount;else if(typeof s=="function"?s=a[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=sh(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=s.length,e6(o)}return t}Re.prototype.addListener=function(e,r){return fh(this,e,r,!1)};Re.prototype.on=Re.prototype.addListener;Re.prototype.prependListener=function(e,r){return fh(this,e,r,!0)};function r6(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function uh(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=r6.bind(n);return i.listener=r,n.wrapFn=i,i}Re.prototype.once=function(e,r){return Rs(r),this.on(e,uh(this,e,r)),this};Re.prototype.prependOnceListener=function(e,r){return Rs(r),this.prependListener(e,uh(this,e,r)),this};Re.prototype.removeListener=function(e,r){var n,i,a,s,o;if(Rs(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount==0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(a=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){o=n[s].listener,a=s;break}if(a<0)return this;a===0?n.shift():n6(n,a),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,o||r)}return this};Re.prototype.off=Re.prototype.removeListener;Re.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var a=Object.keys(n),s;for(i=0;i<a.length;++i)s=a[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function ch(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?i6(i):oh(i,i.length)}Re.prototype.listeners=function(e){return ch(this,e,!0)};Re.prototype.rawListeners=function(e){return ch(this,e,!1)};Re.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):hh.call(t,e)};Re.prototype.listenerCount=hh;function hh(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Re.prototype.eventNames=function(){return this._eventsCount>0?Ms(this._events):[]};function oh(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function n6(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function i6(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function t6(t,e){return new Promise(function(r,n){function i(s){t.removeListener(e,a),n(s)}function a(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}lh(t,e,a,{once:!0}),e!=="error"&&a6(t,i,{once:!0})})}function a6(t,e,r){typeof t.on=="function"&&lh(t,"error",e,r)}function lh(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(a){n.once&&t.removeEventListener(e,i),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var qe=C((xB,dh)=>{"use strict";function ph(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function s6(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return ph(t,r)}catch(n){r.message=t.message,r.stack=t.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),ph(new i,r)}}dh.exports=s6});var bh=C((wB,yh)=>{"use strict";yh.exports=o6;function o6(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,a=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(o,f){r[n]=function(c){if(a)if(a=!1,c)f(c);else{for(var l=new Array(arguments.length-1),y=0;y<l.length;)l[y++]=arguments[y];o.apply(null,l)}};try{t.apply(e||null,r)}catch(u){a&&(a=!1,f(u))}})}});var xh=C(vh=>{"use strict";var ks=vh;ks.length=function(e){var r=e.length;if(!r)return 0;for(var n=0;--r%4>1&&e.charAt(r)==="=";)++n;return Math.ceil(e.length*3)/4-n};var Ci=new Array(64),gh=new Array(123);for(var qr=0;qr<64;)gh[Ci[qr]=qr<26?qr+65:qr<52?qr+71:qr<62?qr-4:qr-59|43]=qr++;ks.encode=function(e,r,n){for(var i=null,a=[],s=0,o=0,f;r<n;){var u=e[r++];switch(o){case 0:a[s++]=Ci[u>>2],f=(u&3)<<4,o=1;break;case 1:a[s++]=Ci[f|u>>4],f=(u&15)<<2,o=2;break;case 2:a[s++]=Ci[f|u>>6],a[s++]=Ci[u&63],o=0;break}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return o&&(a[s++]=Ci[f],a[s++]=61,o===1&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var mh="invalid encoding";ks.decode=function(e,r,n){for(var i=n,a=0,s,o=0;o<e.length;){var f=e.charCodeAt(o++);if(f===61&&a>1)break;if((f=gh[f])===void 0)throw Error(mh);switch(a){case 0:s=f,a=1;break;case 1:r[n++]=s<<2|(f&48)>>4,s=f,a=2;break;case 2:r[n++]=(s&15)<<4|(f&60)>>2,s=f,a=3;break;case 3:r[n++]=(s&3)<<6|f,a=0;break}}if(a===1)throw Error(mh);return n-i};ks.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var Eh=C((_B,wh)=>{"use strict";wh.exports=Ns;function Ns(){this._listeners={}}Ns.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};Ns.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};Ns.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var Th=C((SB,_h)=>{"use strict";_h.exports=Sh(Sh);function Sh(t){return typeof Float32Array!="undefined"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function i(f,u,c){e[0]=f,u[c]=r[0],u[c+1]=r[1],u[c+2]=r[2],u[c+3]=r[3]}function a(f,u,c){e[0]=f,u[c]=r[3],u[c+1]=r[2],u[c+2]=r[1],u[c+3]=r[0]}t.writeFloatLE=n?i:a,t.writeFloatBE=n?a:i;function s(f,u){return r[0]=f[u],r[1]=f[u+1],r[2]=f[u+2],r[3]=f[u+3],e[0]}function o(f,u){return r[3]=f[u],r[2]=f[u+1],r[1]=f[u+2],r[0]=f[u+3],e[0]}t.readFloatLE=n?s:o,t.readFloatBE=n?o:s}():function(){function e(n,i,a,s){var o=i<0?1:0;if(o&&(i=-i),i===0)n(1/i>0?0:2147483648,a,s);else if(isNaN(i))n(2143289344,a,s);else if(i>34028234663852886e22)n((o<<31|2139095040)>>>0,a,s);else if(i<11754943508222875e-54)n((o<<31|Math.round(i/1401298464324817e-60))>>>0,a,s);else{var f=Math.floor(Math.log(i)/Math.LN2),u=Math.round(i*Math.pow(2,-f)*8388608)&8388607;n((o<<31|f+127<<23|u)>>>0,a,s)}}t.writeFloatLE=e.bind(null,Ah),t.writeFloatBE=e.bind(null,Bh);function r(n,i,a){var s=n(i,a),o=(s>>31)*2+1,f=s>>>23&255,u=s&8388607;return f===255?u?NaN:o*Infinity:f===0?o*1401298464324817e-60*u:o*Math.pow(2,f-150)*(u+8388608)}t.readFloatLE=r.bind(null,Ih),t.readFloatBE=r.bind(null,Ch)}(),typeof Float64Array!="undefined"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function i(f,u,c){e[0]=f,u[c]=r[0],u[c+1]=r[1],u[c+2]=r[2],u[c+3]=r[3],u[c+4]=r[4],u[c+5]=r[5],u[c+6]=r[6],u[c+7]=r[7]}function a(f,u,c){e[0]=f,u[c]=r[7],u[c+1]=r[6],u[c+2]=r[5],u[c+3]=r[4],u[c+4]=r[3],u[c+5]=r[2],u[c+6]=r[1],u[c+7]=r[0]}t.writeDoubleLE=n?i:a,t.writeDoubleBE=n?a:i;function s(f,u){return r[0]=f[u],r[1]=f[u+1],r[2]=f[u+2],r[3]=f[u+3],r[4]=f[u+4],r[5]=f[u+5],r[6]=f[u+6],r[7]=f[u+7],e[0]}function o(f,u){return r[7]=f[u],r[6]=f[u+1],r[5]=f[u+2],r[4]=f[u+3],r[3]=f[u+4],r[2]=f[u+5],r[1]=f[u+6],r[0]=f[u+7],e[0]}t.readDoubleLE=n?s:o,t.readDoubleBE=n?o:s}():function(){function e(n,i,a,s,o,f){var u=s<0?1:0;if(u&&(s=-s),s===0)n(0,o,f+i),n(1/s>0?0:2147483648,o,f+a);else if(isNaN(s))n(0,o,f+i),n(2146959360,o,f+a);else if(s>17976931348623157e292)n(0,o,f+i),n((u<<31|2146435072)>>>0,o,f+a);else{var c;if(s<22250738585072014e-324)c=s/5e-324,n(c>>>0,o,f+i),n((u<<31|c/4294967296)>>>0,o,f+a);else{var l=Math.floor(Math.log(s)/Math.LN2);l===1024&&(l=1023),c=s*Math.pow(2,-l),n(c*4503599627370496>>>0,o,f+i),n((u<<31|l+1023<<20|c*1048576&1048575)>>>0,o,f+a)}}}t.writeDoubleLE=e.bind(null,Ah,0,4),t.writeDoubleBE=e.bind(null,Bh,4,0);function r(n,i,a,s,o){var f=n(s,o+i),u=n(s,o+a),c=(u>>31)*2+1,l=u>>>20&2047,y=4294967296*(u&1048575)+f;return l===2047?y?NaN:c*Infinity:l===0?c*5e-324*y:c*Math.pow(2,l-1075)*(y+4503599627370496)}t.readDoubleLE=r.bind(null,Ih,0,4),t.readDoubleBE=r.bind(null,Ch,4,0)}(),t}function Ah(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function Bh(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function Ih(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function Ch(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var Ph=C((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var Rh=C(Mh=>{"use strict";var Qf=Mh;Qf.length=function(e){for(var r=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)==55296&&(e.charCodeAt(i+1)&64512)==56320?(++i,r+=4):r+=3;return r};Qf.read=function(e,r,n){var i=n-r;if(i<1)return"";for(var a=null,s=[],o=0,f;r<n;)f=e[r++],f<128?s[o++]=f:f>191&&f<224?s[o++]=(f&31)<<6|e[r++]&63:f>239&&f<365?(f=((f&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,s[o++]=55296+(f>>10),s[o++]=56320+(f&1023)):s[o++]=(f&15)<<12|(e[r++]&63)<<6|e[r++]&63,o>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,s)),o=0);return a?(o&&a.push(String.fromCharCode.apply(String,s.slice(0,o))),a.join("")):String.fromCharCode.apply(String,s.slice(0,o))};Qf.write=function(e,r,n){for(var i=n,a,s,o=0;o<e.length;++o)a=e.charCodeAt(o),a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):(a&64512)==55296&&((s=e.charCodeAt(o+1))&64512)==56320?(a=65536+((a&1023)<<10)+(s&1023),++o,r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128);return n-i}});var kh=C((BB,qh)=>{"use strict";qh.exports=f6;function f6(t,e,r){var n=r||8192,i=n>>>1,a=null,s=n;return function(f){if(f<1||f>i)return t(f);s+f>n&&(a=t(n),s=0);var u=e.call(a,s,s+=f);return s&7&&(s=(s|7)+1),u}}});var Lh=C((IB,Nh)=>{"use strict";Nh.exports=_t;var Ma=Sn();function _t(t,e){this.lo=t>>>0,this.hi=e>>>0}var Xn=_t.zero=new _t(0,0);Xn.toNumber=function(){return 0};Xn.zzEncode=Xn.zzDecode=function(){return this};Xn.length=function(){return 1};var u6=_t.zeroHash="\0\0\0\0\0\0\0\0";_t.fromNumber=function(e){if(e===0)return Xn;var r=e<0;r&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new _t(n,i)};_t.from=function(e){if(typeof e=="number")return _t.fromNumber(e);if(Ma.isString(e))if(Ma.Long)e=Ma.Long.fromString(e);else return _t.fromNumber(parseInt(e,10));return e.low||e.high?new _t(e.low>>>0,e.high>>>0):Xn};_t.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};_t.prototype.toLong=function(e){return Ma.Long?new Ma.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var An=String.prototype.charCodeAt;_t.fromHash=function(e){return e===u6?Xn:new _t((An.call(e,0)|An.call(e,1)<<8|An.call(e,2)<<16|An.call(e,3)<<24)>>>0,(An.call(e,4)|An.call(e,5)<<8|An.call(e,6)<<16|An.call(e,7)<<24)>>>0)};_t.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};_t.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};_t.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};_t.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var Sn=C(Jf=>{"use strict";var te=Jf;te.asPromise=bh();te.base64=xh();te.EventEmitter=Eh();te.float=Th();te.inquire=Ph();te.utf8=Rh();te.pool=kh();te.LongBits=Lh();te.isNode=Boolean(typeof globalThis!="undefined"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);te.global=te.isNode&&globalThis||typeof window!="undefined"&&window||typeof self!="undefined"&&self||Jf;te.emptyArray=Object.freeze?Object.freeze([]):[];te.emptyObject=Object.freeze?Object.freeze({}):{};te.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};te.isString=function(e){return typeof e=="string"||e instanceof String};te.isObject=function(e){return e&&typeof e=="object"};te.isset=te.isSet=function(e,r){var n=e[r];return n!=null&&e.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};te.Buffer=function(){try{var t=te.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(e){return null}}();te._Buffer_from=null;te._Buffer_allocUnsafe=null;te.newBuffer=function(e){return typeof e=="number"?te.Buffer?te._Buffer_allocUnsafe(e):new te.Array(e):te.Buffer?te._Buffer_from(e):typeof Uint8Array=="undefined"?e:new Uint8Array(e)};te.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;te.Long=te.global.dcodeIO&&te.global.dcodeIO.Long||te.global.Long||te.inquire("long");te.key2Re=/^true|false|0|1$/;te.key32Re=/^-?(?:0|[1-9][0-9]*)$/;te.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;te.longToHash=function(e){return e?te.LongBits.from(e).toHash():te.LongBits.zeroHash};te.longFromHash=function(e,r){var n=te.LongBits.fromHash(e);return te.Long?te.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))};function Dh(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)(t[n[i]]===void 0||!r)&&(t[n[i]]=e[n[i]]);return t}te.merge=Dh;te.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function Oh(t){function e(r,n){if(!(this instanceof e))return new e(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&Dh(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}te.newError=Oh;te.ProtocolError=Oh("ProtocolError");te.oneOfGetter=function(e){for(var r={},n=0;n<e.length;++n)r[e[n]]=1;return function(){for(var i=Object.keys(this),a=i.length-1;a>-1;--a)if(r[i[a]]===1&&this[i[a]]!==void 0&&this[i[a]]!==null)return i[a]}};te.oneOfSetter=function(e){return function(r){for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}};te.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};te._configure=function(){var t=te.Buffer;if(!t){te._Buffer_from=te._Buffer_allocUnsafe=null;return}te._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},te._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var i0=C((TB,Kh)=>{"use strict";Kh.exports=Se;var ar=Sn(),Zf,Ls=ar.LongBits,Fh=ar.base64,Uh=ar.utf8;function Ra(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function Xf(){}function c6(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function Se(){this.len=0,this.head=new Ra(Xf,0,0),this.tail=this.head,this.states=null}var zh=function(){return ar.Buffer?function(){return(Se.create=function(){return new Zf})()}:function(){return new Se}};Se.create=zh();Se.alloc=function(e){return new ar.Array(e)};ar.Array!==Array&&(Se.alloc=ar.pool(Se.alloc,ar.Array.prototype.subarray));Se.prototype._push=function(e,r,n){return this.tail=this.tail.next=new Ra(e,r,n),this.len+=r,this};function e0(t,e,r){e[r]=t&255}function h6(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function t0(t,e){this.len=t,this.next=void 0,this.val=e}t0.prototype=Object.create(Ra.prototype);t0.prototype.fn=h6;Se.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new t0((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Se.prototype.int32=function(e){return e<0?this._push(r0,10,Ls.fromNumber(e)):this.uint32(e)};Se.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function r0(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}Se.prototype.uint64=function(e){var r=Ls.from(e);return this._push(r0,r.length(),r)};Se.prototype.int64=Se.prototype.uint64;Se.prototype.sint64=function(e){var r=Ls.from(e).zzEncode();return this._push(r0,r.length(),r)};Se.prototype.bool=function(e){return this._push(e0,1,e?1:0)};function n0(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}Se.prototype.fixed32=function(e){return this._push(n0,4,e>>>0)};Se.prototype.sfixed32=Se.prototype.fixed32;Se.prototype.fixed64=function(e){var r=Ls.from(e);return this._push(n0,4,r.lo)._push(n0,4,r.hi)};Se.prototype.sfixed64=Se.prototype.fixed64;Se.prototype.float=function(e){return this._push(ar.float.writeFloatLE,4,e)};Se.prototype.double=function(e){return this._push(ar.float.writeDoubleLE,8,e)};var l6=ar.Array.prototype.set?function(e,r,n){r.set(e,n)}:function(e,r,n){for(var i=0;i<e.length;++i)r[n+i]=e[i]};Se.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(e0,1,0);if(ar.isString(e)){var n=Se.alloc(r=Fh.length(e));Fh.decode(e,n,0),e=n}return this.uint32(r)._push(l6,r,e)};Se.prototype.string=function(e){var r=Uh.length(e);return r?this.uint32(r)._push(Uh.write,r,e):this._push(e0,1,0)};Se.prototype.fork=function(){return this.states=new c6(this),this.head=this.tail=new Ra(Xf,0,0),this.len=0,this};Se.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Ra(Xf,0,0),this.len=0),this};Se.prototype.ldelim=function(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};Se.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};Se._configure=function(t){Zf=t,Se.create=zh(),Zf._configure()}});var jh=C((PB,Vh)=>{"use strict";Vh.exports=kr;var Hh=i0();(kr.prototype=Object.create(Hh.prototype)).constructor=kr;var Bn=Sn();function kr(){Hh.call(this)}kr._configure=function(){kr.alloc=Bn._Buffer_allocUnsafe,kr.writeBytesBuffer=Bn.Buffer&&Bn.Buffer.prototype instanceof Uint8Array&&Bn.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var i=0;i<e.length;)r[n++]=e[i++]}};kr.prototype.bytes=function(e){Bn.isString(e)&&(e=Bn._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(kr.writeBytesBuffer,r,e),this};function d6(t,e,r){t.length<40?Bn.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}kr.prototype.string=function(e){var r=Bn.Buffer.byteLength(e);return this.uint32(r),r&&this._push(d6,r,e),this};kr._configure()});var o0=C((MB,Gh)=>{"use strict";Gh.exports=Qe;var Nr=Sn(),a0,$h=Nr.LongBits,p6=Nr.utf8;function wr(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Qe(t){this.buf=t,this.pos=0,this.len=t.length}var Yh=typeof Uint8Array!="undefined"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Qe(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Qe(e);throw Error("illegal buffer")},Wh=function(){return Nr.Buffer?function(r){return(Qe.create=function(i){return Nr.Buffer.isBuffer(i)?new a0(i):Yh(i)})(r)}:Yh};Qe.create=Wh();Qe.prototype._slice=Nr.Array.prototype.subarray||Nr.Array.prototype.slice;Qe.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,wr(this,10);return e}}();Qe.prototype.int32=function(){return this.uint32()|0};Qe.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function s0(){var t=new $h(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw wr(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw wr(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Qe.prototype.bool=function(){return this.uint32()!==0};function Ds(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Qe.prototype.fixed32=function(){if(this.pos+4>this.len)throw wr(this,4);return Ds(this.buf,this.pos+=4)};Qe.prototype.sfixed32=function(){if(this.pos+4>this.len)throw wr(this,4);return Ds(this.buf,this.pos+=4)|0};function Qh(){if(this.pos+8>this.len)throw wr(this,8);return new $h(Ds(this.buf,this.pos+=4),Ds(this.buf,this.pos+=4))}Qe.prototype.float=function(){if(this.pos+4>this.len)throw wr(this,4);var e=Nr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Qe.prototype.double=function(){if(this.pos+8>this.len)throw wr(this,4);var e=Nr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Qe.prototype.bytes=function(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw wr(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};Qe.prototype.string=function(){var e=this.bytes();return p6.read(e,0,e.length)};Qe.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw wr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw wr(this);while(this.buf[this.pos++]&128);return this};Qe.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!=4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Qe._configure=function(t){a0=t,Qe.create=Wh(),a0._configure();var e=Nr.Long?"toLong":"toNumber";Nr.merge(Qe.prototype,{int64:function(){return s0.call(this)[e](!1)},uint64:function(){return s0.call(this)[e](!0)},sint64:function(){return s0.call(this).zzDecode()[e](!1)},fixed64:function(){return Qh.call(this)[e](!0)},sfixed64:function(){return Qh.call(this)[e](!1)}})}});var el=C((RB,Jh)=>{"use strict";Jh.exports=ei;var Zh=o0();(ei.prototype=Object.create(Zh.prototype)).constructor=ei;var Xh=Sn();function ei(t){Zh.call(this,t)}ei._configure=function(){Xh.Buffer&&(ei.prototype._slice=Xh.Buffer.prototype.slice)};ei.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};ei._configure()});var rl=C((qB,tl)=>{"use strict";tl.exports=qa;var f0=Sn();(qa.prototype=Object.create(f0.EventEmitter.prototype)).constructor=qa;function qa(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");f0.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(r)}qa.prototype.rpcCall=function t(e,r,n,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return f0.asPromise(t,s,e,r,n,i);if(!s.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return s.rpcImpl(e,r[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(f,u){if(f)return s.emit("error",f,e),a(f);if(u===null){s.end(!0);return}if(!(u instanceof n))try{u=n[s.responseDelimited?"decodeDelimited":"decode"](u)}catch(c){return s.emit("error",c,e),a(c)}return s.emit("data",u,e),a(null,u)})}catch(o){s.emit("error",o,e),setTimeout(function(){a(o)},0);return}};qa.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var il=C(nl=>{"use strict";var y6=nl;y6.Service=rl()});var sl=C((NB,al)=>{"use strict";al.exports={}});var ul=C(ol=>{"use strict";var Yt=ol;Yt.build="minimal";Yt.Writer=i0();Yt.BufferWriter=jh();Yt.Reader=o0();Yt.BufferReader=el();Yt.util=Sn();Yt.rpc=il();Yt.roots=sl();Yt.configure=fl;function fl(){Yt.util._configure(),Yt.Writer._configure(Yt.BufferWriter),Yt.Reader._configure(Yt.BufferReader)}fl()});var ka=C((DB,cl)=>{"use strict";cl.exports=ul()});var dl=C((OB,hl)=>{"use strict";var Ti=ka(),ll=Ti.Reader,b6=Ti.Writer,sr=Ti.util,Na=Ti.roots["libp2p-record"]||(Ti.roots["libp2p-record"]={});Na.Record=function(){function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.key=sr.newBuffer([]),t.prototype.value=sr.newBuffer([]),t.prototype.timeReceived="",t.encode=function(r,n){return n||(n=b6.create()),r.key!=null&&Object.hasOwnProperty.call(r,"key")&&n.uint32(10).bytes(r.key),r.value!=null&&Object.hasOwnProperty.call(r,"value")&&n.uint32(18).bytes(r.value),r.timeReceived!=null&&Object.hasOwnProperty.call(r,"timeReceived")&&n.uint32(42).string(r.timeReceived),n},t.decode=function(r,n){r instanceof ll||(r=ll.create(r));for(var i=n===void 0?r.len:r.pos+n,a=new Na.Record;r.pos<i;){var s=r.uint32();switch(s>>>3){case 1:a.key=r.bytes();break;case 2:a.value=r.bytes();break;case 5:a.timeReceived=r.string();break;default:r.skipType(s&7);break}}return a},t.fromObject=function(r){if(r instanceof Na.Record)return r;var n=new Na.Record;return r.key!=null&&(typeof r.key=="string"?sr.base64.decode(r.key,n.key=sr.newBuffer(sr.base64.length(r.key)),0):r.key.length&&(n.key=r.key)),r.value!=null&&(typeof r.value=="string"?sr.base64.decode(r.value,n.value=sr.newBuffer(sr.base64.length(r.value)),0):r.value.length&&(n.value=r.value)),r.timeReceived!=null&&(n.timeReceived=String(r.timeReceived)),n},t.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(n.bytes===String?i.key="":(i.key=[],n.bytes!==Array&&(i.key=sr.newBuffer(i.key))),n.bytes===String?i.value="":(i.value=[],n.bytes!==Array&&(i.value=sr.newBuffer(i.value))),i.timeReceived=""),r.key!=null&&r.hasOwnProperty("key")&&(i.key=n.bytes===String?sr.base64.encode(r.key,0,r.key.length):n.bytes===Array?Array.prototype.slice.call(r.key):r.key),r.value!=null&&r.hasOwnProperty("value")&&(i.value=n.bytes===String?sr.base64.encode(r.value,0,r.value.length):n.bytes===Array?Array.prototype.slice.call(r.value):r.value),r.timeReceived!=null&&r.hasOwnProperty("timeReceived")&&(i.timeReceived=r.timeReceived),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,Ti.util.toJSONOptions)},t}();hl.exports=Na});var pl=C((KB,u0)=>{"use strict";u0.exports.toRFC3339=t=>{let e=t.getUTCFullYear(),r=String(t.getUTCMonth()+1).padStart(2,"0"),n=String(t.getUTCDate()).padStart(2,"0"),i=String(t.getUTCHours()).padStart(2,"0"),a=String(t.getUTCMinutes()).padStart(2,"0"),s=String(t.getUTCSeconds()).padStart(2,"0"),f=t.getUTCMilliseconds()*1e3*1e3;return`${e}-${r}-${n}T${i}:${a}:${s}.${f}Z`};u0.exports.parseRFC3339=t=>{let e=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})\\.(\\d+)Z"),r=String(t).trim().match(e);if(!r)throw new Error("Invalid format");let n=parseInt(r[1],10),i=parseInt(r[2],10)-1,a=parseInt(r[3],10),s=parseInt(r[4],10),o=parseInt(r[5],10),f=parseInt(r[6],10),u=parseInt(r[7].slice(0,-6),10);return new Date(Date.UTC(n,i,a,s,o,f,u))}});var vl=C((FB,yl)=>{"use strict";var{Record:c0}=dl(),bl=pl(),La=class{constructor(e,r,n){if(!(e instanceof Uint8Array))throw new Error("key must be a Uint8Array");if(!(r instanceof Uint8Array))throw new Error("value must be a Uint8Array");this.key=e,this.value=r,this.timeReceived=n}serialize(){return c0.encode(this.prepareSerialize()).finish()}prepareSerialize(){return{key:this.key,value:this.value,timeReceived:this.timeReceived&&bl.toRFC3339(this.timeReceived)}}static deserialize(e){let r=c0.decode(e);return La.fromDeserialized(c0.toObject(r,{defaults:!1,arrays:!0,longs:Number,objects:!1}))}static fromDeserialized(e){let r;return e.timeReceived&&(r=bl.parseRFC3339(e.timeReceived)),new La(e.key,e.value,r)}};yl.exports=La});var ml=C((UB,gl)=>{"use strict";function v6(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),a=i.charCodeAt(0);if(e[a]!==255)throw new TypeError(i+" is ambiguous");e[a]=n}var s=t.length,o=t.charAt(0),f=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function c(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var g=0,v=0,E=0,A=b.length;E!==A&&b[E]===0;)E++,g++;for(var P=(A-E)*u+1>>>0,q=new Uint8Array(P);E!==A;){for(var F=b[E],D=0,O=P-1;(F!==0||D<v)&&O!==-1;O--,D++)F+=256*q[O]>>>0,q[O]=F%s>>>0,F=F/s>>>0;if(F!==0)throw new Error("Non-zero carry");v=D,E++}for(var j=P-v;j!==P&&q[j]===0;)j++;for(var H=o.repeat(g);j<P;++j)H+=t.charAt(q[j]);return H}function l(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var g=0;if(b[g]!==" "){for(var v=0,E=0;b[g]===o;)v++,g++;for(var A=(b.length-g)*f+1>>>0,P=new Uint8Array(A);b[g];){var q=e[b.charCodeAt(g)];if(q===255)return;for(var F=0,D=A-1;(q!==0||F<E)&&D!==-1;D--,F++)q+=s*P[D]>>>0,P[D]=q%256>>>0,q=q/256>>>0;if(q!==0)throw new Error("Non-zero carry");E=F,g++}if(b[g]!==" "){for(var O=A-E;O!==A&&P[O]===0;)O++;for(var j=new Uint8Array(v+(A-O)),H=v;O!==A;)j[H++]=P[O++];return j}}}function y(b){var g=l(b);if(g)return g;throw new Error("Non-base"+s+" character")}return{encode:c,decodeUnsafe:l,decode:y}}gl.exports=v6});var Os=C((zB,xl)=>{"use strict";var g6=new TextDecoder,m6=t=>g6.decode(t),x6=new TextEncoder,w6=t=>x6.encode(t);function E6(t,e){let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}xl.exports={decodeText:m6,encodeText:w6,concat:E6}});var _l=C((VB,wl)=>{"use strict";var{encodeText:_6}=Os(),El=class{constructor(e,r,n,i){this.name=e,this.code=r,this.codeBuf=_6(this.code),this.alphabet=i,this.codec=n(i)}encode(e){return this.codec.encode(e)}decode(e){for(let r of e)if(this.alphabet&&this.alphabet.indexOf(r)<0)throw new Error(`invalid character '${r}' in '${e}'`);return this.codec.decode(e)}};wl.exports=El});var Al=C((HB,Sl)=>{"use strict";var S6=(t,e,r)=>{let n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;let a=new Uint8Array(i*r/8|0),s=0,o=0,f=0;for(let u=0;u<i;++u){let c=n[t[u]];if(c===void 0)throw new SyntaxError("Invalid character "+t[u]);o=o<<r|c,s+=r,s>=8&&(s-=8,a[f++]=255&o>>s)}if(s>=r||255&o<<8-s)throw new SyntaxError("Unexpected end of data");return a},A6=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,a="",s=0,o=0;for(let f=0;f<t.length;++f)for(o=o<<8|t[f],s+=8;s>r;)s-=r,a+=e[i&o>>s];if(s&&(a+=e[i&o<<r-s]),n)for(;a.length*r&7;)a+="=";return a},B6=t=>e=>({encode(r){return A6(r,e,t)},decode(r){return S6(r,e,t)}});Sl.exports={rfc4648:B6}});var Tl=C((jB,Bl)=>{"use strict";var Da=ml(),I6=_l(),{rfc4648:Rt}=Al(),{decodeText:C6,encodeText:T6}=Os(),P6=()=>({encode:C6,decode:T6}),Il=[["identity","\0",P6,""],["base2","0",Rt(1),"01"],["base8","7",Rt(3),"01234567"],["base10","9",Da,"0123456789"],["base16","f",Rt(4),"0123456789abcdef"],["base16upper","F",Rt(4),"0123456789ABCDEF"],["base32hex","v",Rt(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",Rt(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",Rt(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",Rt(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",Rt(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",Rt(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",Rt(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",Rt(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",Rt(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",Da,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",Da,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",Da,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",Da,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",Rt(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",Rt(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",Rt(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",Rt(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],Cl=Il.reduce((t,e)=>(t[e[0]]=new I6(e[0],e[1],e[2],e[3]),t),{}),M6=Il.reduce((t,e)=>(t[e[1]]=Cl[e[0]],t),{});Bl.exports={names:Cl,codes:M6}});var Oa=C((fn,Pl)=>{"use strict";var Pi=Tl(),{encodeText:R6,decodeText:Ks,concat:Ml}=Os();function k6(t,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:r,codeBuf:n}=ti(t);return q6(r,e),Ml([n,e],n.length+e.length)}function N6(t,e){let r=ti(t),n=R6(r.encode(e));return Ml([r.codeBuf,n],r.codeBuf.length+n.length)}function L6(t){t instanceof Uint8Array&&(t=Ks(t));let e=t[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(t=t.toLowerCase()),ti(t[0]).decode(t.substring(1))}function D6(t){if(t instanceof Uint8Array&&(t=Ks(t)),Object.prototype.toString.call(t)!=="[object String]")return!1;try{return ti(t[0]).name}catch(e){return!1}}function q6(t,e){ti(t).decode(Ks(e))}function ti(t){if(Object.prototype.hasOwnProperty.call(Pi.names,t))return Pi.names[t];if(Object.prototype.hasOwnProperty.call(Pi.codes,t))return Pi.codes[t];throw new Error(`Unsupported encoding: ${t}`)}function O6(t){return t instanceof Uint8Array&&(t=Ks(t)),ti(t[0])}fn=Pl.exports=k6;fn.encode=N6;fn.decode=L6;fn.isEncoded=D6;fn.encoding=ti;fn.encodingFromData=O6;var K6=Object.freeze(Pi.names),F6=Object.freeze(Pi.codes);fn.names=K6;fn.codes=F6});var Je=C((GB,Rl)=>{"use strict";var{encoding:U6}=Oa(),z6=new TextDecoder("utf8");function V6(t){let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}function H6(t,e="utf8"){return e==="utf8"||e==="utf-8"?z6.decode(t):e==="ascii"?V6(t):U6(e).encode(t)}Rl.exports=H6});var j6,h0,l0,ql,In,Mi=zt(()=>{j6=new Uint8Array(0),h0=t=>t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),""),l0=t=>{let e=t.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):j6},ql=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},In=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")}});function kl(t,e,r){e=e||[],r=r||0;for(var n=r;t>=W6;)e[r++]=t&255|Nl,t/=128;for(;t&Y6;)e[r++]=t&255|Nl,t>>>=7;return e[r]=t|0,kl.bytes=r-n+1,e}function d0(t,e){var r=0,e=e||0,n=0,i=e,a,s=t.length;do{if(i>=s)throw d0.bytes=0,new RangeError("Could not decode varint");a=t[i++],r+=n<28?(a&Ll)<<n:(a&Ll)*Math.pow(2,n),n+=7}while(a>=J6);return d0.bytes=i-e,r}var G6,Nl,$6,Y6,W6,Q6,J6,Ll,Z6,X6,e8,t8,r8,n8,i8,a8,s8,o8,f8,u8,Ka,Dl=zt(()=>{G6=kl,Nl=128,$6=127,Y6=~$6,W6=Math.pow(2,31);Q6=d0,J6=128,Ll=127;Z6=Math.pow(2,7),X6=Math.pow(2,14),e8=Math.pow(2,21),t8=Math.pow(2,28),r8=Math.pow(2,35),n8=Math.pow(2,42),i8=Math.pow(2,49),a8=Math.pow(2,56),s8=Math.pow(2,63),o8=function(t){return t<Z6?1:t<X6?2:t<e8?3:t<t8?4:t<r8?5:t<n8?6:t<i8?7:t<a8?8:t<s8?9:10},f8={encode:G6,decode:Q6,encodingLength:o8},u8=f8,Ka=u8});var Fa,Ri,qi,p0=zt(()=>{Dl();Fa=t=>[Ka.decode(t),Ka.decode.bytes],Ri=(t,e,r=0)=>(Ka.encode(t,e,r),e),qi=t=>Ka.encodingLength(t)});var y0={};_n(y0,{Digest:()=>ki,create:()=>Ua,decode:()=>b0,equals:()=>v0});var Ua,b0,v0,ki,za=zt(()=>{Mi();p0();Ua=(t,e)=>{let r=e.byteLength,n=qi(t),i=n+qi(r),a=new Uint8Array(i+r);return Ri(t,a,0),Ri(r,a,n),a.set(e,i),new ki(t,r,e,a)},b0=t=>{let e=In(t),[r,n]=Fa(e),[i,a]=Fa(e.subarray(n)),s=e.subarray(n+a);if(s.byteLength!==i)throw new Error("Incorrect length");return new ki(r,i,s,e)},v0=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&ql(t.bytes,e.bytes),ki=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}});var Va,Ol,g0=zt(()=>{za();Va=({name:t,code:e,encode:r})=>new Ol(t,e,r),Ol=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}async digest(e){if(e instanceof Uint8Array){let r=await this.encode(e);return Ua(this.code,r)}else throw Error("Unknown type, must be binary type")}}});var Cn={};_n(Cn,{__browser:()=>l8,sha256:()=>c8,sha512:()=>h8});var Kl,c8,h8,l8,Tn=zt(()=>{g0();Kl=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),c8=Va({name:"sha2-256",code:18,encode:Kl("SHA-256")}),h8=Va({name:"sha2-512",code:19,encode:Kl("SHA-512")}),l8=!0});var or=C((rI,Fl)=>{"use strict";function d8(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}Fl.exports=d8});var zl=C((nI,Ul)=>{"use strict";var{sha256:p8}=(Tn(),Cn),Fs=qe(),y8=Je(),b8=or(),v8=async(t,e)=>{if(!(t instanceof Uint8Array))throw Fs(new Error('"key" must be a Uint8Array'),"ERR_INVALID_RECORD_KEY_NOT_BUFFER");if(t.byteLength<5)throw Fs(new Error("invalid public key record"),"ERR_INVALID_RECORD_KEY_TOO_SHORT");if(y8(t.subarray(0,4))!=="/pk/")throw Fs(new Error("key was not prefixed with /pk/"),"ERR_INVALID_RECORD_KEY_BAD_PREFIX");let n=t.slice(4),i=await p8.digest(e);if(!b8(n,i.bytes))throw Fs(new Error("public key does not match passed in key"),"ERR_INVALID_RECORD_HASH_MISMATCH")};Ul.exports={func:v8,sign:!1}});var Hl=C((iI,Vl)=>{"use strict";Vl.exports={pk:zl()}});var Gl=C((aI,jl)=>{"use strict";var g8=qe(),m8=Je(),x8=(t,e)=>{let r=e.key,i=m8(r).split("/");if(i.length<3)return;let a=t[i[1].toString()];if(!a){let s="Invalid record keytype";throw g8(new Error(s),"ERR_INVALID_RECORD_KEY_TYPE")}return a.func(r,e.value)};jl.exports={verifyRecord:x8,validators:Hl()}});var Yl=C((sI,$l)=>{"use strict";var w8=(t,e)=>0;$l.exports=w8});var Ql=C((oI,Wl)=>{"use strict";Wl.exports={pk:Yl()}});var Zl=C((fI,Jl)=>{"use strict";var m0=qe(),E8=Je(),_8=(t,e,r)=>{if(r.length===0){let s="No records given";throw m0(new Error(s),"ERR_NO_RECORDS_RECEIVED")}let i=E8(e).split("/");if(i.length<3){let s="Record key does not have a selector function";throw m0(new Error(s),"ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY")}let a=t[i[1].toString()];if(!a){let s=`Unrecognized key prefix: ${i[1]}`;throw m0(new Error(s),"ERR_UNRECOGNIZED_KEY_PREFIX")}return a(e,r)};Jl.exports={bestRecord:_8,selectors:Ql()}});var Ni=C((uI,Xl)=>{"use strict";Xl.exports={Record:vl(),validator:Gl(),selection:Zl()}});var ed,td=zt(()=>{ed="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"});var x0={};_n(x0,{customAlphabet:()=>S8,customRandom:()=>nd,nanoid:()=>A8,random:()=>rd,urlAlphabet:()=>ed});var rd,nd,S8,A8,w0=zt(()=>{td();rd=t=>crypto.getRandomValues(new Uint8Array(t)),nd=(t,e,r)=>{let n=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*n*e/t.length);return()=>{let a="";for(;;){let s=r(i),o=i;for(;o--;)if(a+=t[s[o]&n]||"",a.length===e)return a}}},S8=(t,e)=>nd(t,e,rd),A8=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let n=r[t]&63;n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n<63?e+="_":e+="-"}return e}});var fr=C((lI,id)=>{"use strict";var{encoding:B8}=Oa(),I8=new TextEncoder;function C8(t){let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function T8(t,e="utf8"){return e==="utf8"||e==="utf-8"?I8.encode(t):e==="ascii"?C8(t):B8(e).decode(t)}id.exports=T8});var E0=C((dI,ad)=>{"use strict";var{nanoid:P8}=(w0(),x0),M8=Je(),R8=fr(),un="/",sd=new TextEncoder().encode(un),Us=sd[0],ur=class{constructor(e,r){if(typeof e=="string")this._buf=R8(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(r==null&&(r=!0),r&&this.clean(),this._buf.byteLength===0||this._buf[0]!==Us)throw new Error("Invalid key")}toString(e="utf8"){return M8(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new ur(e.join(un))}static random(){return new ur(P8().replace(/-/g,""))}clean(){if((!this._buf||this._buf.byteLength===0)&&(this._buf=sd),this._buf[0]!==Us){let e=new Uint8Array(this._buf.byteLength+1);e.fill(Us,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===Us;)this._buf=this._buf.subarray(0,-1)}less(e){let r=this.list(),n=e.list();for(let i=0;i<r.length;i++){if(n.length<i+1)return!1;let a=r[i],s=n[i];if(a<s)return!0;if(a>s)return!1}return r.length<n.length}reverse(){return ur.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(un).slice(1)}type(){return q8(this.baseNamespace())}name(){return k8(this.baseNamespace())}instance(e){return new ur(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(un)||(e+=un),e+=this.type(),new ur(e)}parent(){let e=this.list();return e.length===1?new ur(un):new ur(e.slice(0,-1).join(un))}child(e){return this.toString()===un?e:e.toString()===un?this:new ur(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return ur.withNamespaces([...this.namespaces(),...N8(e.map(r=>r.namespaces()))])}};function q8(t){let e=t.split(":");return e.length<2?"":e.slice(0,-1).join(":")}function k8(t){let e=t.split(":");return e[e.length-1]}function N8(t){return[].concat(...t)}ad.exports=ur});var fd=C((pI,od)=>{"use strict";var{nanoid:L8}=(w0(),x0),D8=(t=e=>e)=>t(L8());od.exports=D8});var cd=C((yI,ud)=>{"use strict";var O8=async t=>{let e=[];for await(let r of t)e.push(r);return e};ud.exports=O8});var _0=C((bI,hd)=>{"use strict";var K8=fd(),F8=cd(),U8=(t,e)=>async function*(){yield*(await F8(t)).sort(e)}(),z8=(t,e)=>{let r=new RegExp("^"+e);return t.replace(r,"")};hd.exports={sortAll:U8,tmpdir:K8,replaceStartWith:z8}});var dd=C((vI,ld)=>{"use strict";var V8=async t=>{for await(let e of t);};ld.exports=V8});var yd=C((gI,pd)=>{"use strict";var H8=async function*(t,e){for await(let r of t)await e(r)&&(yield r)};pd.exports=H8});var vd=C((mI,bd)=>{"use strict";var j8=async function*(t,e){let r=0;if(!(e<1)){for await(let n of t)if(yield n,r++,r===e)return}};bd.exports=j8});var S0=C((xI,gd)=>{"use strict";var{sortAll:md}=_0(),xd=dd(),Li=yd(),wd=vd(),Ed=class{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,r,n){return Promise.reject(new Error(".put is not implemented"))}get(e,r){return Promise.reject(new Error(".get is not implemented"))}has(e,r){return Promise.reject(new Error(".has is not implemented"))}delete(e,r){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,r={}){for await(let{key:n,value:i}of e)await this.put(n,i,r),yield{key:n,value:i}}async*getMany(e,r={}){for await(let n of e)yield this.get(n,r)}async*deleteMany(e,r={}){for await(let n of e)await this.delete(n,r),yield n}batch(){let e=[],r=[];return{put(n,i){e.push({key:n,value:i})},delete(n){r.push(n)},commit:async n=>{await xd(this.putMany(e,n)),e=[],await xd(this.deleteMany(r,n)),r=[]}}}async*_all(e,r){throw new Error("._all is not implemented")}async*_allKeys(e,r){throw new Error("._allKeys is not implemented")}query(e,r){let n=this._all(e,r);if(e.prefix!=null&&(n=Li(n,i=>i.key.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(n=e.filters.reduce((i,a)=>Li(i,a),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((i,a)=>md(i,a),n)),e.offset!=null){let i=0;n=Li(n,()=>i++>=e.offset)}return e.limit!=null&&(n=wd(n,e.limit)),n}queryKeys(e,r){let n=this._allKeys(e,r);if(e.prefix!=null&&(n=Li(n,i=>i.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(n=e.filters.reduce((i,a)=>Li(i,a),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((i,a)=>md(i,a),n)),e.offset!=null){let i=0;n=Li(n,()=>i++>=e.offset)}return e.limit!=null&&(n=wd(n,e.limit)),n}};gd.exports=Ed});var A0=C((wI,_d)=>{"use strict";var Ha=qe();function G8(t){return t=t||new Error("Cannot open database"),Ha(t,"ERR_DB_OPEN_FAILED")}function $8(t){return t=t||new Error("Delete failed"),Ha(t,"ERR_DB_DELETE_FAILED")}function Y8(t){return t=t||new Error("Write failed"),Ha(t,"ERR_DB_WRITE_FAILED")}function W8(t){return t=t||new Error("Not Found"),Ha(t,"ERR_NOT_FOUND")}function Q8(t){return t=t||new Error("Aborted"),Ha(t,"ERR_ABORTED")}_d.exports={dbOpenFailedError:G8,dbDeleteFailedError:$8,dbWriteFailedError:Y8,notFoundError:W8,abortedError:Q8}});var Id=C((EI,Sd)=>{"use strict";var Ad=E0(),J8=S0(),Z8=A0(),Bd=class extends J8{constructor(){super();this.data={}}open(){return Promise.resolve()}close(){return Promise.resolve()}async put(e,r){this.data[e.toString()]=r}async get(e){if(!await this.has(e))throw Z8.notFoundError();return this.data[e.toString()]}async has(e){return this.data[e.toString()]!==void 0}async delete(e){delete this.data[e.toString()]}async*_all(){yield*Object.entries(this.data).map(([e,r])=>({key:new Ad(e),value:r}))}async*_allKeys(){yield*Object.entries(this.data).map(([e])=>new Ad(e))}};Sd.exports=Bd});var zs=C((_I,Cd)=>{"use strict";var X8=E0(),em=Id(),tm=_0(),rm=A0(),nm=S0();Cd.exports={Key:X8,MemoryDatastore:em,utils:tm,Errors:rm,Adapter:nm}});var Pd=C(Vs=>{"use strict";Vs.byteLength=im;Vs.toByteArray=am;Vs.fromByteArray=sm;var Lr=[],cr=[],om=typeof Uint8Array!="undefined"?Uint8Array:Array,B0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Di=0,fm=B0.length;Di<fm;++Di)Lr[Di]=B0[Di],cr[B0.charCodeAt(Di)]=Di;cr["-".charCodeAt(0)]=62;cr["_".charCodeAt(0)]=63;function Td(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function im(t){var e=Td(t),r=e[0],n=e[1];return(r+n)*3/4-n}function um(t,e,r){return(e+r)*3/4-r}function am(t){var e,r=Td(t),n=r[0],i=r[1],a=new om(um(t,n,i)),s=0,o=i>0?n-4:n,f;for(f=0;f<o;f+=4)e=cr[t.charCodeAt(f)]<<18|cr[t.charCodeAt(f+1)]<<12|cr[t.charCodeAt(f+2)]<<6|cr[t.charCodeAt(f+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return i===2&&(e=cr[t.charCodeAt(f)]<<2|cr[t.charCodeAt(f+1)]>>4,a[s++]=e&255),i===1&&(e=cr[t.charCodeAt(f)]<<10|cr[t.charCodeAt(f+1)]<<4|cr[t.charCodeAt(f+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}function cm(t){return Lr[t>>18&63]+Lr[t>>12&63]+Lr[t>>6&63]+Lr[t&63]}function hm(t,e,r){for(var n,i=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),i.push(cm(n));return i.join("")}function sm(t){for(var e,r=t.length,n=r%3,i=[],a=16383,s=0,o=r-n;s<o;s+=a)i.push(hm(t,s,s+a>o?o:s+a));return n===1?(e=t[r-1],i.push(Lr[e>>2]+Lr[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Lr[e>>10]+Lr[e>>4&63]+Lr[e<<2&63]+"=")),i.join("")}});var Md=C(I0=>{I0.read=function(t,e,r,n,i){var a,s,o=i*8-n-1,f=(1<<o)-1,u=f>>1,c=-7,l=r?i-1:0,y=r?-1:1,b=t[e+l];for(l+=y,a=b&(1<<-c)-1,b>>=-c,c+=o;c>0;a=a*256+t[e+l],l+=y,c-=8);for(s=a&(1<<-c)-1,a>>=-c,c+=n;c>0;s=s*256+t[e+l],l+=y,c-=8);if(a===0)a=1-u;else{if(a===f)return s?NaN:(b?-1:1)*Infinity;s=s+Math.pow(2,n),a=a-u}return(b?-1:1)*s*Math.pow(2,a-n)};I0.write=function(t,e,r,n,i,a){var s,o,f,u=a*8-i-1,c=(1<<u)-1,l=c>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=n?0:a-1,g=n?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===Infinity?(o=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+l>=1?e+=y/f:e+=y*Math.pow(2,1-l),e*f>=2&&(s++,f/=2),s+l>=c?(o=0,s=c):s+l>=1?(o=(e*f-1)*Math.pow(2,i),s=s+l):(o=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[r+b]=o&255,b+=g,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;t[r+b]=s&255,b+=g,s/=256,u-=8);t[r+b-g]|=v*128}});var Mn=C(Oi=>{"use strict";var C0=Pd(),Ki=Md(),Rd=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Oi.Buffer=U;Oi.SlowBuffer=lm;Oi.INSPECT_MAX_BYTES=50;var Hs=2147483647;Oi.kMaxLength=Hs;U.TYPED_ARRAY_SUPPORT=dm();!U.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function dm(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch(t){return!1}}Object.defineProperty(U.prototype,"parent",{enumerable:!0,get:function(){if(!!U.isBuffer(this))return this.buffer}});Object.defineProperty(U.prototype,"offset",{enumerable:!0,get:function(){if(!!U.isBuffer(this))return this.byteOffset}});function cn(t){if(t>Hs)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,U.prototype),e}function U(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T0(t)}return qd(t,e,r)}U.poolSize=8192;function qd(t,e,r){if(typeof t=="string")return pm(t,e);if(ArrayBuffer.isView(t))return ym(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Dr(t,ArrayBuffer)||t&&Dr(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Dr(t,SharedArrayBuffer)||t&&Dr(t.buffer,SharedArrayBuffer)))return P0(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return U.from(n,e,r);let i=bm(t);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return U.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}U.from=function(t,e,r){return qd(t,e,r)};Object.setPrototypeOf(U.prototype,Uint8Array.prototype);Object.setPrototypeOf(U,Uint8Array);function kd(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function vm(t,e,r){return kd(t),t<=0?cn(t):e!==void 0?typeof r=="string"?cn(t).fill(e,r):cn(t).fill(e):cn(t)}U.alloc=function(t,e,r){return vm(t,e,r)};function T0(t){return kd(t),cn(t<0?0:M0(t)|0)}U.allocUnsafe=function(t){return T0(t)};U.allocUnsafeSlow=function(t){return T0(t)};function pm(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!U.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=Nd(t,e)|0,n=cn(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function R0(t){let e=t.length<0?0:M0(t.length)|0,r=cn(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function ym(t){if(Dr(t,Uint8Array)){let e=new Uint8Array(t);return P0(e.buffer,e.byteOffset,e.byteLength)}return R0(t)}function P0(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,U.prototype),n}function bm(t){if(U.isBuffer(t)){let e=M0(t.length)|0,r=cn(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||q0(t.length)?cn(0):R0(t);if(t.type==="Buffer"&&Array.isArray(t.data))return R0(t.data)}function M0(t){if(t>=Hs)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Hs.toString(16)+" bytes");return t|0}function lm(t){return+t!=t&&(t=0),U.alloc(+t)}U.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==U.prototype};U.compare=function(e,r){if(Dr(e,Uint8Array)&&(e=U.from(e,e.offset,e.byteLength)),Dr(r,Uint8Array)&&(r=U.from(r,r.offset,r.byteLength)),!U.isBuffer(e)||!U.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let a=0,s=Math.min(n,i);a<s;++a)if(e[a]!==r[a]){n=e[a],i=r[a];break}return n<i?-1:i<n?1:0};U.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};U.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return U.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=U.allocUnsafe(r),a=0;for(n=0;n<e.length;++n){let s=e[n];if(Dr(s,Uint8Array))a+s.length>i.length?(U.isBuffer(s)||(s=U.from(s)),s.copy(i,a)):Uint8Array.prototype.set.call(i,s,a);else if(U.isBuffer(s))s.copy(i,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=s.length}return i};function Nd(t,e){if(U.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Dr(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return k0(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Ld(t).length;default:if(i)return n?-1:k0(t).length;e=(""+e).toLowerCase(),i=!0}}U.byteLength=Nd;function _m(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return wm(this,e,r);case"utf8":case"utf-8":return Dd(this,e,r);case"ascii":return mm(this,e,r);case"latin1":case"binary":return xm(this,e,r);case"base64":return gm(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Em(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}U.prototype._isBuffer=!0;function ri(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}U.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)ri(this,r,r+1);return this};U.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)ri(this,r,r+3),ri(this,r+1,r+2);return this};U.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)ri(this,r,r+7),ri(this,r+1,r+6),ri(this,r+2,r+5),ri(this,r+3,r+4);return this};U.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Dd(this,0,e):_m.apply(this,arguments)};U.prototype.toLocaleString=U.prototype.toString;U.prototype.equals=function(e){if(!U.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:U.compare(this,e)===0};U.prototype.inspect=function(){let e="",r=Oi.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};Rd&&(U.prototype[Rd]=U.prototype.inspect);U.prototype.compare=function(e,r,n,i,a){if(Dr(e,Uint8Array)&&(e=U.from(e,e.offset,e.byteLength)),!U.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),a===void 0&&(a=this.length),r<0||n>e.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&r>=n)return 0;if(i>=a)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,a>>>=0,this===e)return 0;let s=a-i,o=n-r,f=Math.min(s,o),u=this.slice(i,a),c=e.slice(r,n);for(let l=0;l<f;++l)if(u[l]!==c[l]){s=u[l],o=c[l];break}return s<o?-1:o<s?1:0};function Kd(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,q0(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=U.from(e,n)),U.isBuffer(e))return e.length===0?-1:Od(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Od(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Od(t,e,r,n,i){let a=1,s=t.length,o=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;a=2,s/=2,o/=2,r/=2}function f(c,l){return a===1?c[l]:c.readUInt16BE(l*a)}let u;if(i){let c=-1;for(u=r;u<s;u++)if(f(t,u)===f(e,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===o)return c*a}else c!==-1&&(u-=u-c),c=-1}else for(r+o>s&&(r=s-o),u=r;u>=0;u--){let c=!0;for(let l=0;l<o;l++)if(f(t,u+l)!==f(e,l)){c=!1;break}if(c)return u}return-1}U.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};U.prototype.indexOf=function(e,r,n){return Kd(this,e,r,n,!0)};U.prototype.lastIndexOf=function(e,r,n){return Kd(this,e,r,n,!1)};function Sm(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let a=e.length;n>a/2&&(n=a/2);let s;for(s=0;s<n;++s){let o=parseInt(e.substr(s*2,2),16);if(q0(o))return s;t[r+s]=o}return s}function Am(t,e,r,n){return js(k0(e,t.length-r),t,r,n)}function Im(t,e,r,n){return js(Bm(e),t,r,n)}function Cm(t,e,r,n){return js(Ld(e),t,r,n)}function Pm(t,e,r,n){return js(Tm(e,t.length-r),t,r,n)}U.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let a=this.length-r;if((n===void 0||n>a)&&(n=a),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return Sm(this,e,r,n);case"utf8":case"utf-8":return Am(this,e,r,n);case"ascii":case"latin1":case"binary":return Im(this,e,r,n);case"base64":return Cm(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pm(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};U.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function gm(t,e,r){return e===0&&r===t.length?C0.fromByteArray(t):C0.fromByteArray(t.slice(e,r))}function Dd(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let a=t[i],s=null,o=a>239?4:a>223?3:a>191?2:1;if(i+o<=r){let f,u,c,l;switch(o){case 1:a<128&&(s=a);break;case 2:f=t[i+1],(f&192)==128&&(l=(a&31)<<6|f&63,l>127&&(s=l));break;case 3:f=t[i+1],u=t[i+2],(f&192)==128&&(u&192)==128&&(l=(a&15)<<12|(f&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(s=l));break;case 4:f=t[i+1],u=t[i+2],c=t[i+3],(f&192)==128&&(u&192)==128&&(c&192)==128&&(l=(a&15)<<18|(f&63)<<12|(u&63)<<6|c&63,l>65535&&l<1114112&&(s=l))}}s===null?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=o}return Mm(n)}var Fd=4096;function Mm(t){let e=t.length;if(e<=Fd)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Fd));return r}function mm(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function xm(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function wm(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let a=e;a<r;++a)i+=Rm[t[a]];return i}function Em(t,e,r){let n=t.slice(e,r),i="";for(let a=0;a<n.length-1;a+=2)i+=String.fromCharCode(n[a]+n[a+1]*256);return i}U.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,U.prototype),i};function St(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}U.prototype.readUintLE=U.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||St(e,r,this.length);let i=this[e],a=1,s=0;for(;++s<r&&(a*=256);)i+=this[e+s]*a;return i};U.prototype.readUintBE=U.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||St(e,r,this.length);let i=this[e+--r],a=1;for(;r>0&&(a*=256);)i+=this[e+--r]*a;return i};U.prototype.readUint8=U.prototype.readUInt8=function(e,r){return e=e>>>0,r||St(e,1,this.length),this[e]};U.prototype.readUint16LE=U.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||St(e,2,this.length),this[e]|this[e+1]<<8};U.prototype.readUint16BE=U.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||St(e,2,this.length),this[e]<<8|this[e+1]};U.prototype.readUint32LE=U.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||St(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};U.prototype.readUint32BE=U.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||St(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};U.prototype.readBigUInt64LE=Pn(function(e){e=e>>>0,Fi(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&ja(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,a=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(a)<<BigInt(32))});U.prototype.readBigUInt64BE=Pn(function(e){e=e>>>0,Fi(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&ja(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],a=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(a)});U.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||St(e,r,this.length);let i=this[e],a=1,s=0;for(;++s<r&&(a*=256);)i+=this[e+s]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*r)),i};U.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||St(e,r,this.length);let i=r,a=1,s=this[e+--i];for(;i>0&&(a*=256);)s+=this[e+--i]*a;return a*=128,s>=a&&(s-=Math.pow(2,8*r)),s};U.prototype.readInt8=function(e,r){return e=e>>>0,r||St(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};U.prototype.readInt16LE=function(e,r){e=e>>>0,r||St(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};U.prototype.readInt16BE=function(e,r){e=e>>>0,r||St(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};U.prototype.readInt32LE=function(e,r){return e=e>>>0,r||St(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};U.prototype.readInt32BE=function(e,r){return e=e>>>0,r||St(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};U.prototype.readBigInt64LE=Pn(function(e){e=e>>>0,Fi(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&ja(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});U.prototype.readBigInt64BE=Pn(function(e){e=e>>>0,Fi(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&ja(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});U.prototype.readFloatLE=function(e,r){return e=e>>>0,r||St(e,4,this.length),Ki.read(this,e,!0,23,4)};U.prototype.readFloatBE=function(e,r){return e=e>>>0,r||St(e,4,this.length),Ki.read(this,e,!1,23,4)};U.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||St(e,8,this.length),Ki.read(this,e,!0,52,8)};U.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||St(e,8,this.length),Ki.read(this,e,!1,52,8)};function Wt(t,e,r,n,i,a){if(!U.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}U.prototype.writeUintLE=U.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let o=Math.pow(2,8*n)-1;Wt(this,e,r,n,o,0)}let a=1,s=0;for(this[r]=e&255;++s<n&&(a*=256);)this[r+s]=e/a&255;return r+n};U.prototype.writeUintBE=U.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let o=Math.pow(2,8*n)-1;Wt(this,e,r,n,o,0)}let a=n-1,s=1;for(this[r+a]=e&255;--a>=0&&(s*=256);)this[r+a]=e/s&255;return r+n};U.prototype.writeUint8=U.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||Wt(this,e,r,1,255,0),this[r]=e&255,r+1};U.prototype.writeUint16LE=U.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Wt(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};U.prototype.writeUint16BE=U.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Wt(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};U.prototype.writeUint32LE=U.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Wt(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};U.prototype.writeUint32BE=U.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Wt(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function zd(t,e,r,n,i){Ud(e,n,i,t,r,7);let a=Number(e&BigInt(4294967295));t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function Vd(t,e,r,n,i){Ud(e,n,i,t,r,7);let a=Number(e&BigInt(4294967295));t[r+7]=a,a=a>>8,t[r+6]=a,a=a>>8,t[r+5]=a,a=a>>8,t[r+4]=a;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}U.prototype.writeBigUInt64LE=Pn(function(e,r=0){return zd(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});U.prototype.writeBigUInt64BE=Pn(function(e,r=0){return Vd(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});U.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let f=Math.pow(2,8*n-1);Wt(this,e,r,n,f-1,-f)}let a=0,s=1,o=0;for(this[r]=e&255;++a<n&&(s*=256);)e<0&&o===0&&this[r+a-1]!==0&&(o=1),this[r+a]=(e/s>>0)-o&255;return r+n};U.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let f=Math.pow(2,8*n-1);Wt(this,e,r,n,f-1,-f)}let a=n-1,s=1,o=0;for(this[r+a]=e&255;--a>=0&&(s*=256);)e<0&&o===0&&this[r+a+1]!==0&&(o=1),this[r+a]=(e/s>>0)-o&255;return r+n};U.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||Wt(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};U.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Wt(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};U.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Wt(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};U.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Wt(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};U.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Wt(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};U.prototype.writeBigInt64LE=Pn(function(e,r=0){return zd(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});U.prototype.writeBigInt64BE=Pn(function(e,r=0){return Vd(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Hd(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function jd(t,e,r,n,i){return e=+e,r=r>>>0,i||Hd(t,e,r,4,34028234663852886e22,-34028234663852886e22),Ki.write(t,e,r,n,23,4),r+4}U.prototype.writeFloatLE=function(e,r,n){return jd(this,e,r,!0,n)};U.prototype.writeFloatBE=function(e,r,n){return jd(this,e,r,!1,n)};function Gd(t,e,r,n,i){return e=+e,r=r>>>0,i||Hd(t,e,r,8,17976931348623157e292,-17976931348623157e292),Ki.write(t,e,r,n,52,8),r+8}U.prototype.writeDoubleLE=function(e,r,n){return Gd(this,e,r,!0,n)};U.prototype.writeDoubleBE=function(e,r,n){return Gd(this,e,r,!1,n)};U.prototype.copy=function(e,r,n,i){if(!U.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let a=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),a};U.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!U.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let a;if(typeof e=="number")for(a=r;a<n;++a)this[a]=e;else{let s=U.isBuffer(e)?e:U.from(e,i),o=s.length;if(o===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-r;++a)this[a+r]=s[a%o]}return this};var Ui={};function N0(t,e,r){Ui[t]=class extends r{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}N0("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);N0("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);N0("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=$d(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=$d(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function $d(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function qm(t,e,r){Fi(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&ja(e,t.length-(r+1))}function Ud(t,e,r,n,i,a){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",o;throw a>3?e===0||e===BigInt(0)?o=`>= 0${s} and < 2${s} ** ${(a+1)*8}${s}`:o=`>= -(2${s} ** ${(a+1)*8-1}${s}) and < 2 ** ${(a+1)*8-1}${s}`:o=`>= ${e}${s} and <= ${r}${s}`,new Ui.ERR_OUT_OF_RANGE("value",o,t)}qm(n,i,a)}function Fi(t,e){if(typeof t!="number")throw new Ui.ERR_INVALID_ARG_TYPE(e,"number",t)}function ja(t,e,r){throw Math.floor(t)!==t?(Fi(t,r),new Ui.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Ui.ERR_BUFFER_OUT_OF_BOUNDS:new Ui.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var km=/[^+/0-9A-Za-z-_]/g;function Nm(t){if(t=t.split("=")[0],t=t.trim().replace(km,""),t.length<2)return"";for(;t.length%4!=0;)t=t+"=";return t}function k0(t,e){e=e||Infinity;let r,n=t.length,i=null,a=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return a}function Bm(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function Tm(t,e){let r,n,i,a=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function Ld(t){return C0.toByteArray(Nm(t))}function js(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Dr(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function q0(t){return t!==t}var Rm=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Pn(t){return typeof BigInt=="undefined"?Lm:t}function Lm(){throw new Error("BigInt not supported")}});var Qd=C((L0,Yd)=>{var Gs=Mn(),Or=Gs.Buffer;function Wd(t,e){for(var r in t)e[r]=t[r]}Or.from&&Or.alloc&&Or.allocUnsafe&&Or.allocUnsafeSlow?Yd.exports=Gs:(Wd(Gs,L0),L0.Buffer=ni);function ni(t,e,r){return Or(t,e,r)}ni.prototype=Object.create(Or.prototype);Wd(Or,ni);ni.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Or(t,e,r)};ni.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Or(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};ni.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Or(t)};ni.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Gs.SlowBuffer(t)}});var Jd=C((CI,D0)=>{"use strict";var O0=65536,Dm=4294967295;function Om(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Km=Qd().Buffer,$s=globalThis.crypto||globalThis.msCrypto;$s&&$s.getRandomValues?D0.exports=Fm:D0.exports=Om;function Fm(t,e){if(t>Dm)throw new RangeError("requested too many random bytes");var r=Km.allocUnsafe(t);if(t>0)if(t>O0)for(var n=0;n<t;n+=O0)$s.getRandomValues(r.slice(n,n+O0));else $s.getRandomValues(r);return typeof e=="function"?process.nextTick(function(){e(null,r)}):r}});var ep=C((TI,Zd)=>{"use strict";var Um=Jd(),{EventEmitter:zm}=qs();function Xd(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;++r)if(t[r]!==e[r])return!1;return!0}function K0(){return{contacts:[],dontSplit:!1,left:null,right:null}}function Ga(t,e){if(!(e instanceof Uint8Array))throw new TypeError(t+" is not a Uint8Array")}var $a=class extends zm{constructor(e={}){super();this.localNodeId=e.localNodeId||Um(20),this.numberOfNodesPerKBucket=e.numberOfNodesPerKBucket||20,this.numberOfNodesToPing=e.numberOfNodesToPing||3,this.distance=e.distance||$a.distance,this.arbiter=e.arbiter||$a.arbiter,this.metadata=Object.assign({},e.metadata),Ga("option.localNodeId as parameter 1",this.localNodeId),this.root=K0()}static arbiter(e,r){return e.vectorClock>r.vectorClock?e:r}static distance(e,r){let n=0,i=0,a=Math.min(e.length,r.length),s=Math.max(e.length,r.length);for(;i<a;++i)n=n*256+(e[i]^r[i]);for(;i<s;++i)n=n*256+255;return n}add(e){Ga("contact.id",(e||{}).id);let r=0,n=this.root;for(;n.contacts===null;)n=this._determineNode(n,e.id,r++);let i=this._indexOf(n,e.id);return i>=0?(this._update(n,i,e),this):n.contacts.length<this.numberOfNodesPerKBucket?(n.contacts.push(e),this.emit("added",e),this):n.dontSplit?(this.emit("ping",n.contacts.slice(0,this.numberOfNodesToPing),e),this):(this._split(n,r),this.add(e))}closest(e,r=Infinity){if(Ga("id",e),!Number.isInteger(r)&&r!==Infinity||r<=0)throw new TypeError("n is not positive number");let n=[];for(let i=[this.root],a=0;i.length>0&&n.length<r;){let s=i.pop();if(s.contacts===null){let o=this._determineNode(s,e,a++);i.push(s.left===o?s.right:s.left),i.push(o)}else n=n.concat(s.contacts)}return n.map(i=>[this.distance(i.id,e),i]).sort((i,a)=>i[0]-a[0]).slice(0,r).map(i=>i[1])}count(){let e=0;for(let r=[this.root];r.length>0;){let n=r.pop();n.contacts===null?r.push(n.right,n.left):e+=n.contacts.length}return e}_determineNode(e,r,n){let i=n>>3,a=n%8;return r.length<=i&&a!==0?e.left:r[i]&1<<7-a?e.right:e.left}get(e){Ga("id",e);let r=0,n=this.root;for(;n.contacts===null;)n=this._determineNode(n,e,r++);let i=this._indexOf(n,e);return i>=0?n.contacts[i]:null}_indexOf(e,r){for(let n=0;n<e.contacts.length;++n)if(Xd(e.contacts[n].id,r))return n;return-1}remove(e){Ga("the id as parameter 1",e);let r=0,n=this.root;for(;n.contacts===null;)n=this._determineNode(n,e,r++);let i=this._indexOf(n,e);if(i>=0){let a=n.contacts.splice(i,1)[0];this.emit("removed",a)}return this}_split(e,r){e.left=K0(),e.right=K0();for(let a of e.contacts)this._determineNode(e,a.id,r).contacts.push(a);e.contacts=null;let n=this._determineNode(e,this.localNodeId,r),i=e.left===n?e.right:e.left;i.dontSplit=!0}toArray(){let e=[];for(let r=[this.root];r.length>0;){let n=r.pop();n.contacts===null?r.push(n.right,n.left):e=e.concat(n.contacts)}return e}*toIterable(){for(let e=[this.root];e.length>0;){let r=e.pop();r.contacts===null?e.push(r.right,r.left):yield*r.contacts}}_update(e,r,n){if(!Xd(e.contacts[r].id,n.id))throw new Error("wrong index for _update");let i=e.contacts[r],a=this.arbiter(i,n);a===i&&i!==n||(e.contacts.splice(r,1),e.contacts.push(a),this.emit("updated",i,a))}};Zd.exports=$a});var rp=C((PI,tp)=>{var zi=1e3,Vi=zi*60,Hi=Vi*60,ii=Hi*24,Vm=ii*7,Hm=ii*365.25;tp.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return jm(t);if(r==="number"&&isFinite(t))return e.long?$m(t):Gm(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function jm(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Hm;case"weeks":case"week":case"w":return r*Vm;case"days":case"day":case"d":return r*ii;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Hi;case"minutes":case"minute":case"mins":case"min":case"m":return r*Vi;case"seconds":case"second":case"secs":case"sec":case"s":return r*zi;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Gm(t){var e=Math.abs(t);return e>=ii?Math.round(t/ii)+"d":e>=Hi?Math.round(t/Hi)+"h":e>=Vi?Math.round(t/Vi)+"m":e>=zi?Math.round(t/zi)+"s":t+"ms"}function $m(t){var e=Math.abs(t);return e>=ii?Ys(t,e,ii,"day"):e>=Hi?Ys(t,e,Hi,"hour"):e>=Vi?Ys(t,e,Vi,"minute"):e>=zi?Ys(t,e,zi,"second"):t+" ms"}function Ys(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var ip=C((MI,np)=>{function Ym(t){r.debug=r,r.default=r,r.coerce=f,r.disable=a,r.enable=i,r.enabled=s,r.humanize=rp(),r.destroy=u,Object.keys(t).forEach(c=>{r[c]=t[c]}),r.names=[],r.skips=[],r.formatters={};function e(c){let l=0;for(let y=0;y<c.length;y++)l=(l<<5)-l+c.charCodeAt(y),l|=0;return r.colors[Math.abs(l)%r.colors.length]}r.selectColor=e;function r(c){let l,y=null,b,g;function v(...E){if(!v.enabled)return;let A=v,P=Number(new Date),q=P-(l||P);A.diff=q,A.prev=l,A.curr=P,l=P,E[0]=r.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let F=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(O,j)=>{if(O==="%%")return"%";F++;let H=r.formatters[j];if(typeof H=="function"){let ne=E[F];O=H.call(A,ne),E.splice(F,1),F--}return O}),r.formatArgs.call(A,E),(A.log||r.log).apply(A,E)}return v.namespace=c,v.useColors=r.useColors(),v.color=r.selectColor(c),v.extend=n,v.destroy=r.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(b!==r.namespaces&&(b=r.namespaces,g=r.enabled(c)),g),set:E=>{y=E}}),typeof r.init=="function"&&r.init(v),v}function n(c,l){let y=r(this.namespace+(typeof l=="undefined"?":":l)+c);return y.log=this.log,y}function i(c){r.save(c),r.namespaces=c,r.names=[],r.skips=[];let l,y=(typeof c=="string"?c:"").split(/[\s,]+/),b=y.length;for(l=0;l<b;l++)!y[l]||(c=y[l].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.substr(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function a(){let c=[...r.names.map(o),...r.skips.map(o).map(l=>"-"+l)].join(",");return r.enable(""),c}function s(c){if(c[c.length-1]==="*")return!0;let l,y;for(l=0,y=r.skips.length;l<y;l++)if(r.skips[l].test(c))return!1;for(l=0,y=r.names.length;l<y;l++)if(r.names[l].test(c))return!0;return!1}function o(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function f(c){return c instanceof Error?c.stack||c.message:c}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}np.exports=Ym});var F0=C((tr,Ws)=>{tr.formatArgs=Wm;tr.save=Qm;tr.load=Jm;tr.useColors=Zm;tr.storage=Xm();tr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();tr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Zm(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Wm(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Ws.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}tr.log=console.debug||console.log||(()=>{});function Qm(t){try{t?tr.storage.setItem("debug",t):tr.storage.removeItem("debug")}catch(e){}}function Jm(){let t;try{t=tr.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function Xm(){try{return localStorage}catch(t){}}Ws.exports=ip()(tr);var{formatters:e5}=Ws.exports;e5.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});function t5(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),a=i.charCodeAt(0);if(e[a]!==255)throw new TypeError(i+" is ambiguous");e[a]=n}var s=t.length,o=t.charAt(0),f=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function c(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var g=0,v=0,E=0,A=b.length;E!==A&&b[E]===0;)E++,g++;for(var P=(A-E)*u+1>>>0,q=new Uint8Array(P);E!==A;){for(var F=b[E],D=0,O=P-1;(F!==0||D<v)&&O!==-1;O--,D++)F+=256*q[O]>>>0,q[O]=F%s>>>0,F=F/s>>>0;if(F!==0)throw new Error("Non-zero carry");v=D,E++}for(var j=P-v;j!==P&&q[j]===0;)j++;for(var H=o.repeat(g);j<P;++j)H+=t.charAt(q[j]);return H}function l(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var g=0;if(b[g]!==" "){for(var v=0,E=0;b[g]===o;)v++,g++;for(var A=(b.length-g)*f+1>>>0,P=new Uint8Array(A);b[g];){var q=e[b.charCodeAt(g)];if(q===255)return;for(var F=0,D=A-1;(q!==0||F<E)&&D!==-1;D--,F++)q+=s*P[D]>>>0,P[D]=q%256>>>0,q=q/256>>>0;if(q!==0)throw new Error("Non-zero carry");E=F,g++}if(b[g]!==" "){for(var O=A-E;O!==A&&P[O]===0;)O++;for(var j=new Uint8Array(v+(A-O)),H=v;O!==A;)j[H++]=P[O++];return j}}}function y(b){var g=l(b);if(g)return g;throw new Error("Non-base"+s+" character")}return{encode:c,decodeUnsafe:l,decode:y}}var r5,n5,ap,sp=zt(()=>{r5=t5,n5=r5,ap=n5});var op,fp,Qs,up,rr,Js,Zs=zt(()=>{op=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},fp=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseDecode=n}decode(e){if(typeof e=="string")switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(e){let r={[this.prefix]:this,...e.decoders||{[e.prefix]:e}};return new Qs(r)}},Qs=class{constructor(e){this.decoders=e}or(e){let r=e.decoders||{[e.prefix]:e};return new Qs({...this.decoders,...r})}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},up=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new op(e,r,n),this.decoder=new fp(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},rr=({name:t,prefix:e,encode:r,decode:n,alphabet:i})=>Js({name:t,prefix:e,encode:a=>r(a,i),decode:a=>{for(let s of a)if(i.indexOf(s)<0)throw new Error(`invalid ${t} character`);return n(a,i)}}),Js=({name:t,prefix:e,encode:r,decode:n})=>new up(t,e,r,n)});var ai={};_n(ai,{base58btc:()=>Kr,base58flickr:()=>i5});var cp,Kr,i5,Rn=zt(()=>{sp();Mi();Zs();cp=t=>{let{encode:e,decode:r}=ap(t);return{encode:e,decode:n=>In(r(n))}},Kr=Js({name:"base58btc",prefix:"z",...cp("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}),i5=Js({name:"base58flickr",prefix:"Z",...cp("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ")})});var Xs=C((DI,hp)=>{hp.exports=qn;function qn(t,e){if(t.length!==e.length)throw new Error("Inputs should have the same length");for(var r=Buffer.allocUnsafe(t.length),n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}qn.compare=function(e,r){if(e.length!==r.length)throw new Error("Inputs should have the same length");for(var n=0;n<e.length;n++)if(e[n]!==r[n])return e[n]<r[n]?-1:1;return 0};qn.gt=function(e,r){return qn.compare(e,r)===1};qn.lt=function(e,r){return qn.compare(e,r)===-1};qn.eq=function(e,r){return qn.compare(e,r)===0}});var dp=C((OI,lp)=>{"use strict";lp.exports=(t,e=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},typeof t!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof t}\``);if(typeof e!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof e}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(e===0)return t;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return t.replace(n,r.indent.repeat(e))}});var pp=C(()=>{});var gp=C((UI,yp)=>{"use strict";var bp=pp(),vp=/\s+at.*(?:\(|\s)(.*)\)?/,a5=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,s5=typeof bp.homedir=="undefined"?"":bp.homedir();yp.exports=(t,e)=>(e=Object.assign({pretty:!1},e),t.replace(/\\/g,"/").split(`
`).filter(r=>{let n=r.match(vp);if(n===null||!n[1])return!0;let i=n[1];return i.includes(".app/Contents/Resources/electron.asar")||i.includes(".app/Contents/Resources/default_app.asar")?!1:!a5.test(i)}).filter(r=>r.trim()!=="").map(r=>e.pretty?r.replace(vp,(n,i)=>n.replace(i,i.replace(s5,"~"))):r).join(`
`))});var wp=C((zI,mp)=>{"use strict";var o5=dp(),f5=gp(),u5=t=>t.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""),xp=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);e=[...e].map(n=>n instanceof Error?n:n!==null&&typeof n=="object"?Object.assign(new Error(n.message),n):new Error(n));let r=e.map(n=>typeof n.stack=="string"?u5(f5(n.stack)):String(n)).join(`
`);r=`
`+o5(r,4),super(r),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:e})}*[Symbol.iterator](){for(let e of this._errors)yield e}};mp.exports=xp});var eo=C((VI,Ep)=>{"use strict";var c5=wp();Ep.exports=async(t,e,{concurrency:r=Infinity,stopOnError:n=!0}={})=>new Promise((i,a)=>{if(typeof e!="function")throw new TypeError("Mapper function is required");if(!((Number.isSafeInteger(r)||r===Infinity)&&r>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${r}\` (${typeof r})`);let s=[],o=[],f=t[Symbol.iterator](),u=!1,c=!1,l=0,y=0,b=()=>{if(u)return;let g=f.next(),v=y;if(y++,g.done){c=!0,l===0&&(!n&&o.length!==0?a(new c5(o)):i(s));return}l++,(async()=>{try{let E=await g.value;s[v]=await e(E,v),l--,b()}catch(E){n?(u=!0,a(E)):(o.push(E),l--,b())}})()};for(let g=0;g<r&&(b(),!c);g++);})});var _p={};_n(_p,{base32:()=>ji,base32hex:()=>p5,base32hexpad:()=>b5,base32hexpadupper:()=>v5,base32hexupper:()=>y5,base32pad:()=>l5,base32padupper:()=>d5,base32upper:()=>h5,base32z:()=>g5});function hn(t,e){t=t.replace(/=/g,"");let r=t.length,n=0,i=0,a=0,s=new Uint8Array(r*5/8|0);for(let o=0;o<r;o++)i=i<<5|e.indexOf(t[o]),n+=5,n>=8&&(s[a++]=i>>>n-8&255,n-=8);return s}function ln(t,e){let r=t.byteLength,n=new Uint8Array(t),i=e.indexOf("=")===e.length-1;i&&(e=e.substring(0,e.length-1));let a=0,s=0,o="";for(let f=0;f<r;f++)for(s=s<<8|n[f],a+=8;a>=5;)o+=e[s>>>a-5&31],a-=5;if(a>0&&(o+=e[s<<5-a&31]),i)for(;o.length%8!=0;)o+="=";return o}var ji,h5,l5,d5,p5,y5,b5,v5,g5,U0=zt(()=>{Zs();ji=rr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",encode:ln,decode:hn}),h5=rr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",encode:ln,decode:hn}),l5=rr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",encode:ln,decode:hn}),d5=rr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",encode:ln,decode:hn}),p5=rr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",encode:ln,decode:hn}),y5=rr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",encode:ln,decode:hn}),b5=rr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",encode:ln,decode:hn}),v5=rr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",encode:ln,decode:hn}),g5=rr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",encode:ln,decode:hn})});var Gi={};_n(Gi,{CID:()=>qt});var qt,m5,x5,w5,Ya,E5,Sp,Ap,to,ro,A5,_5,S5,$i=zt(()=>{p0();za();Rn();U0();Mi();qt=class{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:ro,byteLength:ro,code:to,version:to,multihash:to,bytes:to,_baseCache:ro,asCID:ro})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==Ya)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==E5)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return qt.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Ua(e,r);return qt.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&v0(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return x5(r,i,e||Kr.encoder);default:return w5(r,i,e||ji.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return _5(/^0\.0/,S5),!!(e&&(e[Ap]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof qt)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:i,bytes:a}=e;return new qt(r,n,i,a||Sp(r,n,i.bytes))}else if(e!=null&&e[Ap]===!0){let{version:r,multihash:n,code:i}=e,a=b0(n);return qt.create(r,i,a)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==Ya)throw new Error(`Version 0 CID must use dag-pb (code: ${Ya}) block encoding`);return new qt(e,r,n,n.bytes)}case 1:{let i=Sp(e,r,n.bytes);return new qt(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return qt.create(0,Ya,e)}static createV1(e,r){return qt.create(1,e,r)}static decode(e){let[r,n]=qt.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=qt.inspectBytes(e),n=r.size-r.multihashSize,i=In(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let a=i.subarray(r.multihashSize-r.digestSize),s=new ki(r.multihashCode,r.digestSize,a,i);return[r.version===0?qt.createV0(s):qt.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[l,y]=Fa(e.subarray(r));return r+=y,l},i=n(),a=Ya;if(i===18?(i=0,r=0):i===1&&(a=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=r,o=n(),f=n(),u=r+f,c=u-s;return{version:i,codec:a,multihashCode:o,digestSize:f,multihashSize:c,size:u}}static parse(e,r){let[n,i]=m5(e,r),a=qt.decode(i);return a._baseCache.set(n,e),a}},m5=(t,e)=>{switch(t[0]){case"Q":{let r=e||Kr;return[Kr.prefix,r.decode(`${Kr.prefix}${t}`)]}case Kr.prefix:{let r=e||Kr;return[Kr.prefix,r.decode(t)]}case ji.prefix:{let r=e||ji;return[ji.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},x5=(t,e,r)=>{let{prefix:n}=r;if(n!==Kr.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let a=r.encode(t).slice(1);return e.set(n,a),a}else return i},w5=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let a=r.encode(t);return e.set(n,a),a}else return i},Ya=112,E5=18,Sp=(t,e,r)=>{let n=qi(t),i=n+qi(e),a=new Uint8Array(i+r.byteLength);return Ri(t,a,0),Ri(e,a,n),a.set(r,i),a},Ap=Symbol.for("@ipld/js-cid/CID"),to={writable:!1,configurable:!1,enumerable:!0},ro={writable:!1,enumerable:!1,configurable:!1},A5="0.0.0-dev",_5=(t,e)=>{if(t.test(A5))console.warn(e);else throw new Error(e)},S5=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var Bp={};_n(Bp,{base16:()=>B5,base16upper:()=>I5});var B5,I5,Ip=zt(()=>{Mi();Zs();B5=rr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",encode:h0,decode:l0}),I5=rr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",encode:h0,decode:l0})});var io=C((ZI,Cp)=>{"use strict";var si=ka(),no=si.Reader,Tp=si.Writer,Ot=si.util,hr=si.roots["libp2p-crypto-keys"]||(si.roots["libp2p-crypto-keys"]={});hr.KeyType=function(){var t={},e=Object.create(t);return e[t[0]="RSA"]=0,e[t[1]="Ed25519"]=1,e[t[2]="Secp256k1"]=2,e}();hr.PublicKey=function(){function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.Type=0,t.prototype.Data=Ot.newBuffer([]),t.encode=function(r,n){return n||(n=Tp.create()),n.uint32(8).int32(r.Type),n.uint32(18).bytes(r.Data),n},t.decode=function(r,n){r instanceof no||(r=no.create(r));for(var i=n===void 0?r.len:r.pos+n,a=new hr.PublicKey;r.pos<i;){var s=r.uint32();switch(s>>>3){case 1:a.Type=r.int32();break;case 2:a.Data=r.bytes();break;default:r.skipType(s&7);break}}if(!a.hasOwnProperty("Type"))throw Ot.ProtocolError("missing required 'Type'",{instance:a});if(!a.hasOwnProperty("Data"))throw Ot.ProtocolError("missing required 'Data'",{instance:a});return a},t.fromObject=function(r){if(r instanceof hr.PublicKey)return r;var n=new hr.PublicKey;switch(r.Type){case"RSA":case 0:n.Type=0;break;case"Ed25519":case 1:n.Type=1;break;case"Secp256k1":case 2:n.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?Ot.base64.decode(r.Data,n.Data=Ot.newBuffer(Ot.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),n},t.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(i.Type=n.enums===String?"RSA":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=Ot.newBuffer(i.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(i.Type=n.enums===String?hr.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(i.Data=n.bytes===String?Ot.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,si.util.toJSONOptions)},t}();hr.PrivateKey=function(){function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.Type=0,t.prototype.Data=Ot.newBuffer([]),t.encode=function(r,n){return n||(n=Tp.create()),n.uint32(8).int32(r.Type),n.uint32(18).bytes(r.Data),n},t.decode=function(r,n){r instanceof no||(r=no.create(r));for(var i=n===void 0?r.len:r.pos+n,a=new hr.PrivateKey;r.pos<i;){var s=r.uint32();switch(s>>>3){case 1:a.Type=r.int32();break;case 2:a.Data=r.bytes();break;default:r.skipType(s&7);break}}if(!a.hasOwnProperty("Type"))throw Ot.ProtocolError("missing required 'Type'",{instance:a});if(!a.hasOwnProperty("Data"))throw Ot.ProtocolError("missing required 'Data'",{instance:a});return a},t.fromObject=function(r){if(r instanceof hr.PrivateKey)return r;var n=new hr.PrivateKey;switch(r.Type){case"RSA":case 0:n.Type=0;break;case"Ed25519":case 1:n.Type=1;break;case"Secp256k1":case 2:n.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?Ot.base64.decode(r.Data,n.Data=Ot.newBuffer(Ot.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),n},t.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(i.Type=n.enums===String?"RSA":0,n.bytes===String?i.Data="":(i.Data=[],n.bytes!==Array&&(i.Data=Ot.newBuffer(i.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(i.Type=n.enums===String?hr.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(i.Data=n.bytes===String?Ot.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,si.util.toJSONOptions)},t}();Cp.exports=hr});var Be=C((XI,Pp)=>{Pp.exports={options:{usePureJavaScript:!1}}});var qp=C((eC,Mp)=>{var z0={};Mp.exports=z0;var Rp={};z0.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=C5(t,e);else{var i=0,a=e.length,s=e.charAt(0),o=[0];for(i=0;i<t.length;++i){for(var f=0,u=t[i];f<o.length;++f)u+=o[f]<<8,o[f]=u%a,u=u/a|0;for(;u>0;)o.push(u%a),u=u/a|0}for(i=0;t[i]===0&&i<t.length-1;++i)n+=s;for(i=o.length-1;i>=0;--i)n+=e[o[i]]}if(r){var c=new RegExp(".{1,"+r+"}","g");n=n.match(c).join(`\r
`)}return n};z0.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=Rp[e];if(!r){r=Rp[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var i=e.length,a=e.charAt(0),s=[0],n=0;n<t.length;n++){var o=r[t.charCodeAt(n)];if(o===void 0)return;for(var f=0,u=o;f<s.length;++f)u+=s[f]*i,s[f]=u&255,u>>=8;for(;u>0;)s.push(u&255),u>>=8}for(var c=0;t[c]===a&&c<t.length-1;++c)s.push(0);return typeof Buffer!="undefined"?Buffer.from(s.reverse()):new Uint8Array(s.reverse())};function C5(t,e){var r=0,n=e.length,i=e.charAt(0),a=[0];for(r=0;r<t.length();++r){for(var s=0,o=t.at(r);s<a.length;++s)o+=a[s]<<8,a[s]=o%n,o=o/n|0;for(;o>0;)a.push(o%n),o=o/n|0}var f="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)f+=i;for(r=a.length-1;r>=0;--r)f+=e[a[r]];return f}});var $e=C((tC,kp)=>{var Np=Be(),Lp=qp(),M=kp.exports=Np.util=Np.util||{};(function(){if(typeof process!="undefined"&&process.nextTick&&!process.browser){M.nextTick=process.nextTick,typeof setImmediate=="function"?M.setImmediate=setImmediate:M.setImmediate=M.nextTick;return}if(typeof setImmediate=="function"){M.setImmediate=function(){return setImmediate.apply(void 0,arguments)},M.nextTick=function(o){return setImmediate(o)};return}if(M.setImmediate=function(o){setTimeout(o,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){let o=function(f){if(f.source===window&&f.data===t){f.stopPropagation();var u=e.slice();e.length=0,u.forEach(function(c){c()})}};var s=o,t="forge.setImmediate",e=[];M.setImmediate=function(f){e.push(f),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",o,!0)}if(typeof MutationObserver!="undefined"){var r=Date.now(),n=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var f=e.slice();e.length=0,f.forEach(function(u){u()})}).observe(i,{attributes:!0});var a=M.setImmediate;M.setImmediate=function(f){Date.now()-r>15?(r=Date.now(),a(f)):(e.push(f),e.length===1&&i.setAttribute("a",n=!n))}}M.nextTick=M.setImmediate})();M.isNodejs=typeof process!="undefined"&&process.versions&&process.versions.node;M.globalScope=function(){return M.isNodejs?globalThis:typeof self=="undefined"?window:self}();M.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};M.isArrayBuffer=function(t){return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer};M.isArrayBufferView=function(t){return t&&M.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function Wa(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}M.ByteBuffer=V0;function V0(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(M.isArrayBuffer(t)||M.isArrayBufferView(t))if(typeof Buffer!="undefined"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch(n){for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof V0||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}M.ByteStringBuffer=V0;var T5=4096;M.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>T5&&(this.data.substr(0,1),this._constructedStringLength=0)};M.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};M.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};M.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};M.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};M.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};M.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(M.encodeUtf8(t))};M.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};M.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};M.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};M.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};M.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};M.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};M.ByteStringBuffer.prototype.putInt=function(t,e){Wa(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};M.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};M.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};M.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};M.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};M.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};M.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};M.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};M.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};M.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};M.ByteStringBuffer.prototype.getInt=function(t){Wa(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};M.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};M.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};M.ByteStringBuffer.prototype.bytes=function(t){return typeof t=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};M.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};M.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};M.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};M.ByteStringBuffer.prototype.copy=function(){var t=M.createBuffer(this.data);return t.read=this.read,t};M.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};M.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};M.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};M.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};M.ByteStringBuffer.prototype.toString=function(){return M.decodeUtf8(this.bytes())};function P5(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=M.isArrayBuffer(t),n=M.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}M.DataBuffer=P5;M.DataBuffer.prototype.length=function(){return this.write-this.read};M.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};M.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};M.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};M.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};M.DataBuffer.prototype.putBytes=function(t,e){if(M.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(M.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof M.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&M.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof M.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var a;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=M.binary.hex.decode(t,a,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),a=new Uint8Array(this.data.buffer,this.write),this.write+=M.binary.base64.decode(t,a,this.write),this;if(e==="utf8"&&(t=M.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=M.binary.raw.decode(a),this;if(e==="utf16")return this.accommodate(t.length*2),a=new Uint16Array(this.data.buffer,this.write),this.write+=M.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};M.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};M.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};M.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};M.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};M.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};M.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};M.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};M.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};M.DataBuffer.prototype.putInt=function(t,e){Wa(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};M.DataBuffer.prototype.putSignedInt=function(t,e){return Wa(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};M.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};M.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};M.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};M.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};M.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};M.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};M.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};M.DataBuffer.prototype.getInt=function(t){Wa(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};M.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};M.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};M.DataBuffer.prototype.bytes=function(t){return typeof t=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};M.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};M.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};M.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};M.DataBuffer.prototype.copy=function(){return new M.DataBuffer(this)};M.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};M.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};M.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};M.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};M.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return M.binary.raw.encode(e);if(t==="hex")return M.binary.hex.encode(e);if(t==="base64")return M.binary.base64.encode(e);if(t==="utf8")return M.text.utf8.decode(e);if(t==="utf16")return M.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};M.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=M.encodeUtf8(t)),new M.ByteBuffer(t)};M.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};M.xorBytes=function(t,e,r){for(var n="",i="",a="",s=0,o=0;r>0;--r,++s)i=t.charCodeAt(s)^e.charCodeAt(s),o>=10&&(n+=a,a="",o=0),a+=String.fromCharCode(i),++o;return n+=a,n};M.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};M.bytesToHex=function(t){return M.createBuffer(t).toHex()};M.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var kn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Nn=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],Dp="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";M.encode64=function(t,e){for(var r="",n="",i,a,s,o=0;o<t.length;)i=t.charCodeAt(o++),a=t.charCodeAt(o++),s=t.charCodeAt(o++),r+=kn.charAt(i>>2),r+=kn.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=kn.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":kn.charAt(s&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};M.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,i,a,s=0;s<t.length;)r=Nn[t.charCodeAt(s++)-43],n=Nn[t.charCodeAt(s++)-43],i=Nn[t.charCodeAt(s++)-43],a=Nn[t.charCodeAt(s++)-43],e+=String.fromCharCode(r<<2|n>>4),i!==64&&(e+=String.fromCharCode((n&15)<<4|i>>2),a!==64&&(e+=String.fromCharCode((i&3)<<6|a)));return e};M.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};M.decodeUtf8=function(t){return decodeURIComponent(escape(t))};M.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:Lp.encode,decode:Lp.decode}};M.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};M.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,a=0;a<t.length;++a)n[i++]=t.charCodeAt(a);return e?i-r:n};M.binary.hex.encode=M.bytesToHex;M.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,a=r;for(t.length&1&&(i=1,n[a++]=parseInt(t[0],16));i<t.length;i+=2)n[a++]=parseInt(t.substr(i,2),16);return e?a-r:n};M.binary.base64.encode=function(t,e){for(var r="",n="",i,a,s,o=0;o<t.byteLength;)i=t[o++],a=t[o++],s=t[o++],r+=kn.charAt(i>>2),r+=kn.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=kn.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":kn.charAt(s&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};M.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,a,s,o,f=0,u=r;f<t.length;)i=Nn[t.charCodeAt(f++)-43],a=Nn[t.charCodeAt(f++)-43],s=Nn[t.charCodeAt(f++)-43],o=Nn[t.charCodeAt(f++)-43],n[u++]=i<<2|a>>4,s!==64&&(n[u++]=(a&15)<<4|s>>2,o!==64&&(n[u++]=(s&3)<<6|o));return e?u-r:n.subarray(0,u)};M.binary.base58.encode=function(t,e){return M.binary.baseN.encode(t,Dp,e)};M.binary.base58.decode=function(t,e){return M.binary.baseN.decode(t,Dp,e)};M.text={utf8:{},utf16:{}};M.text.utf8.encode=function(t,e,r){t=M.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,a=0;a<t.length;++a)n[i++]=t.charCodeAt(a);return e?i-r:n};M.text.utf8.decode=function(t){return M.decodeUtf8(String.fromCharCode.apply(null,t))};M.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var a=r,s=r,o=0;o<t.length;++o)i[s++]=t.charCodeAt(o),a+=2;return e?a-r:n};M.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};M.deflate=function(t,e,r){if(e=M.decode64(t.deflate(M.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);i&32&&(n=6),e=e.substring(n,e.length-4)}return e};M.inflate=function(t,e,r){var n=t.inflate(M.encode64(e)).rval;return n===null?null:M.decode64(n)};var H0=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=M.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n!="undefined"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},j0=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(M.decode64(r))),r},M5=function(t,e,r,n){var i=j0(t,e);i===null&&(i={}),i[r]=n,H0(t,e,i)},R5=function(t,e,r){var n=j0(t,e);return n!==null&&(n=r in n?n[r]:null),n},q5=function(t,e,r){var n=j0(t,e);if(n!==null&&r in n){delete n[r];var i=!0;for(var a in n){i=!1;break}i&&(n=null),H0(t,e,n)}},k5=function(t,e){H0(t,e,null)},ao=function(t,e,r){var n=null;typeof r=="undefined"&&(r=["web","flash"]);var i,a=!1,s=null;for(var o in r){i=r[o];try{if(i==="flash"||i==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),a=i==="flash"}(i==="web"||i==="both")&&(e[0]=localStorage,n=t.apply(this,e),a=!0)}catch(f){s=f}if(a)break}if(!a)throw s;return n};M.setItem=function(t,e,r,n,i){ao(M5,arguments,i)};M.getItem=function(t,e,r,n){return ao(R5,arguments,n)};M.removeItem=function(t,e,r,n){ao(q5,arguments,n)};M.clearItems=function(t,e,r){ao(k5,arguments,r)};M.parseUrl=function(t){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var r=e.exec(t),n=r===null?null:{full:t,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?(n.port!==80&&n.scheme==="http"||n.port!==443&&n.scheme==="https")&&(n.fullHost+=":"+n.port):n.scheme==="http"?n.port=80:n.scheme==="https"&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var so=null;M.getQueryVariables=function(t){var e=function(n){for(var i={},a=n.split("&"),s=0;s<a.length;s++){var o=a[s].indexOf("="),f,u;o>0?(f=a[s].substring(0,o),u=a[s].substring(o+1)):(f=a[s],u=null),f in i||(i[f]=[]),!(f in Object.prototype)&&u!==null&&i[f].push(unescape(u))}return i},r;return typeof t=="undefined"?(so===null&&(typeof window!="undefined"&&window.location&&window.location.search?so=e(window.location.search.substring(1)):so={}),r=so):r=e(t),r};M.parseFragment=function(t){var e=t,r="",n=t.indexOf("?");n>0&&(e=t.substring(0,n),r=t.substring(n+1));var i=e.split("/");i.length>0&&i[0]===""&&i.shift();var a=r===""?{}:M.getQueryVariables(r);return{pathString:e,queryString:r,path:i,query:a}};M.makeRequest=function(t){var e=M.parseFragment(t),r={path:e.pathString,query:e.queryString,getPath:function(n){return typeof n=="undefined"?e.path:e.path[n]},getQuery:function(n,i){var a;return typeof n=="undefined"?a=e.query:(a=e.query[n],a&&typeof i!="undefined"&&(a=a[i])),a},getQueryLast:function(n,i){var a,s=r.getQuery(n);return s?a=s[s.length-1]:a=i,a}};return r};M.makeLink=function(t,e,r){t=jQuery.isArray(t)?t.join("/"):t;var n=jQuery.param(e||{});return r=r||"",t+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")};M.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};M.format=function(t){for(var e=/%./g,r,n,i=0,a=[],s=0;r=e.exec(t);){n=t.substring(s,e.lastIndex-2),n.length>0&&a.push(n),s=e.lastIndex;var o=r[0][1];switch(o){case"s":case"o":i<arguments.length?a.push(arguments[i+++1]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+o+"?>")}}return a.push(t.substring(s)),a.join("")};M.formatNumber=function(t,e,r,n){var i=t,a=isNaN(e=Math.abs(e))?2:e,s=r===void 0?",":r,o=n===void 0?".":n,f=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(a),10)+"",c=u.length>3?u.length%3:0;return f+(c?u.substr(0,c)+o:"")+u.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+o)+(a?s+Math.abs(i-u).toFixed(a).slice(2):"")};M.formatSize=function(t){return t>=1073741824?t=M.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=M.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=M.formatNumber(t/1024,0)+" KiB":t=M.formatNumber(t,0)+" bytes",t};M.bytesFromIP=function(t){return t.indexOf(".")!==-1?M.bytesFromIPv4(t):t.indexOf(":")!==-1?M.bytesFromIPv6(t):null};M.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=M.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};M.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(s){return s.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=M.createBuffer(),i=0;i<8;++i){if(!t[i]||t[i].length===0){n.fillWithByte(0,r),r=0;continue}var a=M.hexToBytes(t[i]);a.length<2&&n.putByte(0),n.putBytes(a)}return n.getBytes()};M.bytesToIP=function(t){return t.length===4?M.bytesToIPv4(t):t.length===16?M.bytesToIPv6(t):null};M.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};M.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var a=M.bytesToHex(t[i]+t[i+1]);a[0]==="0"&&a!=="0";)a=a.substr(1);if(a==="0"){var s=r[r.length-1],o=e.length;!s||o!==s.end+1?r.push({start:o,end:o}):(s.end=o,s.end-s.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(a)}if(r.length>0){var f=r[n];f.end-f.start>0&&(e.splice(f.start,f.end-f.start+1,""),f.start===0&&e.unshift(""),f.end===7&&e.push(""))}return e.join(":")};M.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in M&&!t.update)return e(null,M.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return M.cores=navigator.hardwareConcurrency,e(null,M.cores);if(typeof Worker=="undefined")return M.cores=1,e(null,M.cores);if(typeof Blob=="undefined")return M.cores=2,e(null,M.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(s){for(var o=Date.now(),f=o+4;Date.now()<f;);self.postMessage({st:o,et:f})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(s,o,f){if(o===0){var u=Math.floor(s.reduce(function(c,l){return c+l},0)/s.length);return M.cores=Math.max(1,u),URL.revokeObjectURL(r),e(null,M.cores)}i(f,function(c,l){s.push(a(f,l)),n(s,o-1,f)})}function i(s,o){for(var f=[],u=[],c=0;c<s;++c){var l=new Worker(r);l.addEventListener("message",function(y){if(u.push(y.data),u.length===s){for(var b=0;b<s;++b)f[b].terminate();o(null,u)}}),f.push(l)}for(var c=0;c<s;++c)f[c].postMessage(c)}function a(s,o){for(var f=[],u=0;u<s;++u)for(var c=o[u],l=f[u]=[],y=0;y<s;++y)if(u!==y){var b=o[y];(c.st>b.st&&c.st<b.et||b.st>c.st&&b.st<c.et)&&l.push(y)}return f.reduce(function(g,v){return Math.max(g,v.length)},0)}}});var oo=C((rC,Op)=>{var Qa=Be();Qa.pki=Qa.pki||{};var G0=Op.exports=Qa.pki.oids=Qa.oids=Qa.oids||{};function G(t,e){G0[t]=e,G0[e]=t}function Te(t,e){G0[t]=e}G("1.2.840.113549.1.1.1","rsaEncryption");G("1.2.840.113549.1.1.4","md5WithRSAEncryption");G("1.2.840.113549.1.1.5","sha1WithRSAEncryption");G("1.2.840.113549.1.1.7","RSAES-OAEP");G("1.2.840.113549.1.1.8","mgf1");G("1.2.840.113549.1.1.9","pSpecified");G("1.2.840.113549.1.1.10","RSASSA-PSS");G("1.2.840.113549.1.1.11","sha256WithRSAEncryption");G("1.2.840.113549.1.1.12","sha384WithRSAEncryption");G("1.2.840.113549.1.1.13","sha512WithRSAEncryption");G("1.3.101.112","EdDSA25519");G("1.2.840.10040.4.3","dsa-with-sha1");G("1.3.14.3.2.7","desCBC");G("1.3.14.3.2.26","sha1");G("2.16.840.1.101.3.4.2.1","sha256");G("2.16.840.1.101.3.4.2.2","sha384");G("2.16.840.1.101.3.4.2.3","sha512");G("1.2.840.113549.2.5","md5");G("1.2.840.113549.1.7.1","data");G("1.2.840.113549.1.7.2","signedData");G("1.2.840.113549.1.7.3","envelopedData");G("1.2.840.113549.1.7.4","signedAndEnvelopedData");G("1.2.840.113549.1.7.5","digestedData");G("1.2.840.113549.1.7.6","encryptedData");G("1.2.840.113549.1.9.1","emailAddress");G("1.2.840.113549.1.9.2","unstructuredName");G("1.2.840.113549.1.9.3","contentType");G("1.2.840.113549.1.9.4","messageDigest");G("1.2.840.113549.1.9.5","signingTime");G("1.2.840.113549.1.9.6","counterSignature");G("1.2.840.113549.1.9.7","challengePassword");G("1.2.840.113549.1.9.8","unstructuredAddress");G("1.2.840.113549.1.9.14","extensionRequest");G("1.2.840.113549.1.9.20","friendlyName");G("1.2.840.113549.1.9.21","localKeyId");G("1.2.840.113549.1.9.22.1","x509Certificate");G("1.2.840.113549.1.12.10.1.1","keyBag");G("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");G("1.2.840.113549.1.12.10.1.3","certBag");G("1.2.840.113549.1.12.10.1.4","crlBag");G("1.2.840.113549.1.12.10.1.5","secretBag");G("1.2.840.113549.1.12.10.1.6","safeContentsBag");G("1.2.840.113549.1.5.13","pkcs5PBES2");G("1.2.840.113549.1.5.12","pkcs5PBKDF2");G("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");G("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");G("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");G("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");G("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");G("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");G("1.2.840.113549.2.7","hmacWithSHA1");G("1.2.840.113549.2.8","hmacWithSHA224");G("1.2.840.113549.2.9","hmacWithSHA256");G("1.2.840.113549.2.10","hmacWithSHA384");G("1.2.840.113549.2.11","hmacWithSHA512");G("1.2.840.113549.3.7","des-EDE3-CBC");G("2.16.840.1.101.3.4.1.2","aes128-CBC");G("2.16.840.1.101.3.4.1.22","aes192-CBC");G("2.16.840.1.101.3.4.1.42","aes256-CBC");G("2.5.4.3","commonName");G("2.5.4.5","serialName");G("2.5.4.6","countryName");G("2.5.4.7","localityName");G("2.5.4.8","stateOrProvinceName");G("2.5.4.9","streetAddress");G("2.5.4.10","organizationName");G("2.5.4.11","organizationalUnitName");G("2.5.4.13","description");G("2.5.4.15","businessCategory");G("2.5.4.17","postalCode");G("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");G("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");G("2.16.840.1.113730.1.1","nsCertType");G("2.16.840.1.113730.1.13","nsComment");Te("2.5.29.1","authorityKeyIdentifier");Te("2.5.29.2","keyAttributes");Te("2.5.29.3","certificatePolicies");Te("2.5.29.4","keyUsageRestriction");Te("2.5.29.5","policyMapping");Te("2.5.29.6","subtreesConstraint");Te("2.5.29.7","subjectAltName");Te("2.5.29.8","issuerAltName");Te("2.5.29.9","subjectDirectoryAttributes");Te("2.5.29.10","basicConstraints");Te("2.5.29.11","nameConstraints");Te("2.5.29.12","policyConstraints");Te("2.5.29.13","basicConstraints");G("2.5.29.14","subjectKeyIdentifier");G("2.5.29.15","keyUsage");Te("2.5.29.16","privateKeyUsagePeriod");G("2.5.29.17","subjectAltName");G("2.5.29.18","issuerAltName");G("2.5.29.19","basicConstraints");Te("2.5.29.20","cRLNumber");Te("2.5.29.21","cRLReason");Te("2.5.29.22","expirationDate");Te("2.5.29.23","instructionCode");Te("2.5.29.24","invalidityDate");Te("2.5.29.25","cRLDistributionPoints");Te("2.5.29.26","issuingDistributionPoint");Te("2.5.29.27","deltaCRLIndicator");Te("2.5.29.28","issuingDistributionPoint");Te("2.5.29.29","certificateIssuer");Te("2.5.29.30","nameConstraints");G("2.5.29.31","cRLDistributionPoints");G("2.5.29.32","certificatePolicies");Te("2.5.29.33","policyMappings");Te("2.5.29.34","policyConstraints");G("2.5.29.35","authorityKeyIdentifier");Te("2.5.29.36","policyConstraints");G("2.5.29.37","extKeyUsage");Te("2.5.29.46","freshestCRL");Te("2.5.29.54","inhibitAnyPolicy");G("1.3.6.1.4.1.11129.2.4.2","timestampList");G("1.3.6.1.5.5.7.1.1","authorityInfoAccess");G("1.3.6.1.5.5.7.3.1","serverAuth");G("1.3.6.1.5.5.7.3.2","clientAuth");G("1.3.6.1.5.5.7.3.3","codeSigning");G("1.3.6.1.5.5.7.3.4","emailProtection");G("1.3.6.1.5.5.7.3.8","timeStamping")});var Yi=C((nC,Kp)=>{var Ve=Be();$e();oo();var Q=Kp.exports=Ve.asn1=Ve.asn1||{};Q.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};Q.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};Q.create=function(t,e,r,n,i){if(Ve.util.isArray(n)){for(var a=[],s=0;s<n.length;++s)n[s]!==void 0&&a.push(n[s]);n=a}var o={tagClass:t,type:e,constructed:r,composed:r||Ve.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(o.bitStringContents=i.bitStringContents,o.original=Q.copy(o)),o};Q.copy=function(t,e){var r;if(Ve.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(Q.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:Q.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};Q.equals=function(t,e,r){if(Ve.util.isArray(t)){if(!Ve.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Q.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&Q.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i};Q.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function Ja(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}var N5=function(t,e){var r=t.getByte();if(e--,r!==128){var n,i=r&128;if(!i)n=r;else{var a=r&127;Ja(t,e,a),n=t.getInt(a<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};Q.fromDer=function(t,e){return e===void 0&&(e={strict:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=Ve.util.createBuffer(t)),fo(t,t.length(),0,e)};function fo(t,e,r,n){var i;Ja(t,e,2);var a=t.getByte();e--;var s=a&192,o=a&31;i=t.length();var f=N5(t,e);if(e-=i-t.length(),f!==void 0&&f>e){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=t.length(),u.remaining=e,u.requested=f,u}f=e}var c,l,y=(a&32)==32;if(y)if(c=[],f===void 0)for(;;){if(Ja(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}i=t.length(),c.push(fo(t,e,r+1,n)),e-=i-t.length()}else for(;f>0;)i=t.length(),c.push(fo(t,f,r+1,n)),e-=i-t.length(),f-=i-t.length();if(c===void 0&&s===Q.Class.UNIVERSAL&&o===Q.Type.BITSTRING&&(l=t.bytes(f)),c===void 0&&n.decodeBitStrings&&s===Q.Class.UNIVERSAL&&o===Q.Type.BITSTRING&&f>1){var b=t.read,g=e,v=0;if(o===Q.Type.BITSTRING&&(Ja(t,e,1),v=t.getByte(),e--),v===0)try{i=t.length();var E={verbose:n.verbose,strict:!0,decodeBitStrings:!0},A=fo(t,e,r+1,E),P=i-t.length();e-=P,o==Q.Type.BITSTRING&&P++;var q=A.tagClass;P===f&&(q===Q.Class.UNIVERSAL||q===Q.Class.CONTEXT_SPECIFIC)&&(c=[A])}catch(D){}c===void 0&&(t.read=b,e=g)}if(c===void 0){if(f===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=e}if(o===Q.Type.BMPSTRING)for(c="";f>0;f-=2)Ja(t,e,2),c+=String.fromCharCode(t.getInt16()),e-=2;else c=t.getBytes(f)}var F=l===void 0?null:{bitStringContents:l};return Q.create(s,o,y,c,F)}Q.toDer=function(t){var e=Ve.util.createBuffer(),r=t.tagClass|t.type,n=Ve.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=Q.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var a=0;a<t.value.length;++a)t.value[a]!==void 0&&n.putBuffer(Q.toDer(t.value[a]))}else if(t.type===Q.Type.BMPSTRING)for(var a=0;a<t.value.length;++a)n.putInt16(t.value.charCodeAt(a));else t.type===Q.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&(t.value.charCodeAt(1)&128)==0||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)==128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var s=n.length(),o="";do o+=String.fromCharCode(s&255),s=s>>>8;while(s>0);e.putByte(o.length|128);for(var a=o.length-1;a>=0;--a)e.putByte(o.charCodeAt(a))}return e.putBuffer(n),e};Q.oidToDer=function(t){var e=t.split("."),r=Ve.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,a,s,o=2;o<e.length;++o){n=!0,i=[],a=parseInt(e[o],10);do s=a&127,a=a>>>7,n||(s|=128),i.push(s),n=!1;while(a>0);for(var f=i.length-1;f>=0;--f)r.putByte(i[f])}return r};Q.derToOid=function(t){var e;typeof t=="string"&&(t=Ve.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};Q.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),a=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),o=0;if(t.length>11){var f=t.charAt(10),u=10;f!=="+"&&f!=="-"&&(o=parseInt(t.substr(10,2),10),u+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(a,s,o,0),u&&(f=t.charAt(u),f==="+"||f==="-")){var c=parseInt(t.substr(u+1,2),10),l=parseInt(t.substr(u+4,2),10),y=c*60+l;y*=6e4,f==="+"?e.setTime(+e-y):e.setTime(+e+y)}return e};Q.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),s=parseInt(t.substr(10,2),10),o=parseInt(t.substr(12,2),10),f=0,u=0,c=!1;t.charAt(t.length-1)==="Z"&&(c=!0);var l=t.length-5,y=t.charAt(l);if(y==="+"||y==="-"){var b=parseInt(t.substr(l+1,2),10),g=parseInt(t.substr(l+4,2),10);u=b*60+g,u*=6e4,y==="+"&&(u*=-1),c=!0}return t.charAt(14)==="."&&(f=parseFloat(t.substr(14),10)*1e3),c?(e.setUTCFullYear(r,n,i),e.setUTCHours(a,s,o,f),e.setTime(+e+u)):(e.setFullYear(r,n,i),e.setHours(a,s,o,f)),e};Q.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};Q.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};Q.integerToDer=function(t){var e=Ve.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};Q.derToInteger=function(t){typeof t=="string"&&(t=Ve.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};Q.validate=function(t,e,r,n){var i=!1;if((t.tagClass===e.tagClass||typeof e.tagClass=="undefined")&&(t.type===e.type||typeof e.type=="undefined"))if(t.constructed===e.constructed||typeof e.constructed=="undefined"){if(i=!0,e.value&&Ve.util.isArray(e.value))for(var a=0,s=0;i&&s<e.value.length;++s)i=e.value[s].optional||!1,t.value[a]&&(i=Q.validate(t.value[a],e.value[s],r,n),i?++a:e.value[s].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var o;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var f=t.bitStringContents.charCodeAt(0);if(f!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return i};var Fp=/[^\\u0000-\\u00ff]/;Q.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var i="",a=0;a<e*r;++a)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case Q.Class.UNIVERSAL:n+="Universal:";break;case Q.Class.APPLICATION:n+="Application:";break;case Q.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case Q.Class.PRIVATE:n+="Private:";break}if(t.tagClass===Q.Class.UNIVERSAL)switch(n+=t.type,t.type){case Q.Type.NONE:n+=" (None)";break;case Q.Type.BOOLEAN:n+=" (Boolean)";break;case Q.Type.INTEGER:n+=" (Integer)";break;case Q.Type.BITSTRING:n+=" (Bit string)";break;case Q.Type.OCTETSTRING:n+=" (Octet string)";break;case Q.Type.NULL:n+=" (Null)";break;case Q.Type.OID:n+=" (Object Identifier)";break;case Q.Type.ODESC:n+=" (Object Descriptor)";break;case Q.Type.EXTERNAL:n+=" (External or Instance of)";break;case Q.Type.REAL:n+=" (Real)";break;case Q.Type.ENUMERATED:n+=" (Enumerated)";break;case Q.Type.EMBEDDED:n+=" (Embedded PDV)";break;case Q.Type.UTF8:n+=" (UTF8)";break;case Q.Type.ROID:n+=" (Relative Object Identifier)";break;case Q.Type.SEQUENCE:n+=" (Sequence)";break;case Q.Type.SET:n+=" (Set)";break;case Q.Type.PRINTABLESTRING:n+=" (Printable String)";break;case Q.Type.IA5String:n+=" (IA5String (ASCII))";break;case Q.Type.UTCTIME:n+=" (UTC time)";break;case Q.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case Q.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=i+"Constructed: "+t.constructed+`
`,t.composed){for(var s=0,o="",a=0;a<t.value.length;++a)t.value[a]!==void 0&&(s+=1,o+=Q.prettyPrint(t.value[a],e+1,r),a+1<t.value.length&&(o+=","));n+=i+"Sub values: "+s+o}else{if(n+=i+"Value: ",t.type===Q.Type.OID){var f=Q.derToOid(t.value);n+=f,Ve.pki&&Ve.pki.oids&&f in Ve.pki.oids&&(n+=" ("+Ve.pki.oids[f]+") ")}if(t.type===Q.Type.INTEGER)try{n+=Q.derToInteger(t.value)}catch(c){n+="0x"+Ve.util.bytesToHex(t.value)}else if(t.type===Q.Type.BITSTRING){if(t.value.length>1?n+="0x"+Ve.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var u=t.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else t.type===Q.Type.OCTETSTRING?(Fp.test(t.value)||(n+="("+t.value+") "),n+="0x"+Ve.util.bytesToHex(t.value)):t.type===Q.Type.UTF8?n+=Ve.util.decodeUtf8(t.value):t.type===Q.Type.PRINTABLESTRING||t.type===Q.Type.IA5String?n+=t.value:Fp.test(t.value)?n+="0x"+Ve.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n}});var Y0=C((iC,Up)=>{var At=Be();$e();Up.exports=At.cipher=At.cipher||{};At.cipher.algorithms=At.cipher.algorithms||{};At.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=At.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new At.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};At.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=At.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new At.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};At.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),At.cipher.algorithms[t]=e};At.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in At.cipher.algorithms?At.cipher.algorithms[t]:null};var $0=At.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};$0.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=At.util.createBuffer(),this.output=t.output||At.util.createBuffer(),this.mode.start(e)};$0.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};$0.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var Q0=C((aC,zp)=>{var Bt=Be();$e();Bt.cipher=Bt.cipher||{};var me=zp.exports=Bt.cipher.modes=Bt.cipher.modes||{};me.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};me.ecb.prototype.start=function(t){};me.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};me.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};me.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};me.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};me.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};me.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=uo(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};me.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};me.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};me.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};me.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};me.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Bt.util.createBuffer(),this._partialBytes=0};me.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=uo(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};me.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(a>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};me.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(a>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};me.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Bt.util.createBuffer(),this._partialBytes=0};me.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=uo(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};me.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(a>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};me.ofb.prototype.decrypt=me.ofb.prototype.encrypt;me.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Bt.util.createBuffer(),this._partialBytes=0};me.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=uo(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};me.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(a>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}co(this._inBlock)};me.ctr.prototype.decrypt=me.ctr.prototype.encrypt;me.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Bt.util.createBuffer(),this._partialBytes=0,this._R=3774873600};me.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=Bt.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=Bt.util.createBuffer(t.additionalData):r=Bt.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=Bt.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(W0(n*8)))}this._inBlock=this._j0.slice(0),co(this._inBlock),this._partialBytes=0,r=Bt.util.createBuffer(r),this._aDataLength=W0(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};me.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(a<=0||r){if(r){var s=n%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),co(this._inBlock)};me.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),co(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};me.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=Bt.util.createBuffer();var n=this._aDataLength.concat(W0(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^i[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};me.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var a=t[i/32|0]&1<<31-i%32;a&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};me.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};me.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>(7-r%8)*4&15,a=this._m[r][i];e[0]^=a[0],e[1]^=a[1],e[2]^=a[2],e[3]^=a[3]}return e};me.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};me.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,a=new Array(i),s=0;s<i;++s){var o=[0,0,0,0],f=s/n|0,u=(n-1-s%n)*e;o[f]=1<<e-1<<u,a[s]=this.generateSubHashTable(this.multiply(o,t),e)}return a};me.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var a=n>>>1;a>0;)this.pow(i[2*a],i[a]=[]),a>>=1;for(a=2;a<n;){for(var s=1;s<a;++s){var o=i[a],f=i[s];i[a+s]=[o[0]^f[0],o[1]^f[1],o[2]^f[2],o[3]^f[3]]}a*=2}for(i[0]=[0,0,0,0],a=n+1;a<r;++a){var u=i[a^n];i[a]=[t[0]^u[0],t[1]^u[1],t[2]^u[2],t[3]^u[3]]}return i};function uo(t,e){if(typeof t=="string"&&(t=Bt.util.createBuffer(t)),Bt.util.isArray(t)&&t.length>4){var r=t;t=Bt.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!Bt.util.isArray(t)){for(var i=[],a=e/4,n=0;n<a;++n)i.push(t.getInt32());t=i}return t}function co(t){t[t.length-1]=t[t.length-1]+1&4294967295}function W0(t){return[t/4294967296|0,t&4294967295]}});var lo=C((sC,Vp)=>{var De=Be();Y0();Q0();$e();Vp.exports=De.aes=De.aes||{};De.aes.startEncrypting=function(t,e,r,n){var i=ho({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i};De.aes.createEncryptionCipher=function(t,e){return ho({key:t,output:null,decrypt:!1,mode:e})};De.aes.startDecrypting=function(t,e,r,n){var i=ho({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i};De.aes.createDecryptionCipher=function(t,e){return ho({key:t,output:null,decrypt:!0,mode:e})};De.aes.Algorithm=function(t,e){J0||Hp();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(n,i){return Z0(r._w,n,i,!1)},decrypt:function(n,i){return Z0(r._w,n,i,!0)}}}),r._init=!1};De.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=De.util.createBuffer(e);else if(De.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=De.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!De.util.isArray(e)){r=e,e=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)e.push(r.getInt32())}}if(!De.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var a=this.mode.name,s=["CFB","OFB","CTR","GCM"].indexOf(a)!==-1;this._w=jp(e,t.decrypt&&!s),this._init=!0}};De.aes._expandKey=function(t,e){return J0||Hp(),jp(t,e)};De.aes._updateBlock=Z0;Wi("AES-ECB",De.cipher.modes.ecb);Wi("AES-CBC",De.cipher.modes.cbc);Wi("AES-CFB",De.cipher.modes.cfb);Wi("AES-OFB",De.cipher.modes.ofb);Wi("AES-CTR",De.cipher.modes.ctr);Wi("AES-GCM",De.cipher.modes.gcm);function Wi(t,e){var r=function(){return new De.aes.Algorithm(t,e)};De.cipher.registerAlgorithm(t,r)}var J0=!1,Qi=4,Vt,X0,Gp,oi,Er;function Hp(){J0=!0,Gp=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;Vt=new Array(256),X0=new Array(256),oi=new Array(4),Er=new Array(4);for(var e=0;e<4;++e)oi[e]=new Array(256),Er[e]=new Array(256);for(var r=0,n=0,i,a,s,o,f,u,c,e=0;e<256;++e){o=n^n<<1^n<<2^n<<3^n<<4,o=o>>8^o&255^99,Vt[r]=o,X0[o]=r,f=t[o],i=t[r],a=t[i],s=t[a],u=f<<24^o<<16^o<<8^(o^f),c=(i^a^s)<<24^(r^s)<<16^(r^a^s)<<8^(r^i^s);for(var l=0;l<4;++l)oi[l][r]=u,Er[l][o]=c,u=u<<24|u>>>8,c=c<<24|c>>>8;r===0?r=n=1:(r=i^t[t[t[i^s]]],n^=t[t[n]])}}function jp(t,e){for(var r=t.slice(0),n,i=1,a=r.length,s=a+6+1,o=Qi*s,f=a;f<o;++f)n=r[f-1],f%a==0?(n=Vt[n>>>16&255]<<24^Vt[n>>>8&255]<<16^Vt[n&255]<<8^Vt[n>>>24]^Gp[i]<<24,i++):a>6&&f%a==4&&(n=Vt[n>>>24]<<24^Vt[n>>>16&255]<<16^Vt[n>>>8&255]<<8^Vt[n&255]),r[f]=r[f-a]^n;if(e){var u,c=Er[0],l=Er[1],y=Er[2],b=Er[3],g=r.slice(0);o=r.length;for(var f=0,v=o-Qi;f<o;f+=Qi,v-=Qi)if(f===0||f===o-Qi)g[f]=r[v],g[f+1]=r[v+3],g[f+2]=r[v+2],g[f+3]=r[v+1];else for(var E=0;E<Qi;++E)u=r[v+E],g[f+(3&-E)]=c[Vt[u>>>24]]^l[Vt[u>>>16&255]]^y[Vt[u>>>8&255]]^b[Vt[u&255]];r=g}return r}function Z0(t,e,r,n){var i=t.length/4-1,a,s,o,f,u;n?(a=Er[0],s=Er[1],o=Er[2],f=Er[3],u=X0):(a=oi[0],s=oi[1],o=oi[2],f=oi[3],u=Vt);var c,l,y,b,g,v,E;c=e[0]^t[0],l=e[n?3:1]^t[1],y=e[2]^t[2],b=e[n?1:3]^t[3];for(var A=3,P=1;P<i;++P)g=a[c>>>24]^s[l>>>16&255]^o[y>>>8&255]^f[b&255]^t[++A],v=a[l>>>24]^s[y>>>16&255]^o[b>>>8&255]^f[c&255]^t[++A],E=a[y>>>24]^s[b>>>16&255]^o[c>>>8&255]^f[l&255]^t[++A],b=a[b>>>24]^s[c>>>16&255]^o[l>>>8&255]^f[y&255]^t[++A],c=g,l=v,y=E;r[0]=u[c>>>24]<<24^u[l>>>16&255]<<16^u[y>>>8&255]<<8^u[b&255]^t[++A],r[n?3:1]=u[l>>>24]<<24^u[y>>>16&255]<<16^u[b>>>8&255]<<8^u[c&255]^t[++A],r[2]=u[y>>>24]<<24^u[b>>>16&255]<<16^u[c>>>8&255]<<8^u[l&255]^t[++A],r[n?1:3]=u[b>>>24]<<24^u[c>>>16&255]<<16^u[l>>>8&255]<<8^u[y&255]^t[++A]}function ho(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=De.cipher.createDecipher(r,t.key):n=De.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(a,s){var o=null;s instanceof De.util.ByteBuffer&&(o=s,s={}),s=s||{},s.output=o,s.iv=a,i.call(n,s)},n}});var Wp=C((oC,$p)=>{var He=Be();Y0();Q0();$e();$p.exports=He.des=He.des||{};He.des.startEncrypting=function(t,e,r,n){var i=po({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};He.des.createEncryptionCipher=function(t,e){return po({key:t,output:null,decrypt:!1,mode:e})};He.des.startDecrypting=function(t,e,r,n){var i=po({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};He.des.createDecryptionCipher=function(t,e){return po({key:t,output:null,decrypt:!0,mode:e})};He.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(n,i){return Yp(r._keys,n,i,!1)},decrypt:function(n,i){return Yp(r._keys,n,i,!0)}}}),r._init=!1};He.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=He.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=L5(e),this._init=!0}};Fr("DES-ECB",He.cipher.modes.ecb);Fr("DES-CBC",He.cipher.modes.cbc);Fr("DES-CFB",He.cipher.modes.cfb);Fr("DES-OFB",He.cipher.modes.ofb);Fr("DES-CTR",He.cipher.modes.ctr);Fr("3DES-ECB",He.cipher.modes.ecb);Fr("3DES-CBC",He.cipher.modes.cbc);Fr("3DES-CFB",He.cipher.modes.cfb);Fr("3DES-OFB",He.cipher.modes.ofb);Fr("3DES-CTR",He.cipher.modes.ctr);function Fr(t,e){var r=function(){return new He.des.Algorithm(t,e)};He.cipher.registerAlgorithm(t,r)}var D5=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],O5=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],K5=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],F5=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],U5=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],z5=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],V5=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],H5=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function L5(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],f=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],c=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],y=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],b=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],v=t.length()>8?3:1,E=[],A=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],P=0,q,F=0;F<v;F++){var D=t.getInt32(),O=t.getInt32();q=(D>>>4^O)&252645135,O^=q,D^=q<<4,q=(O>>>-16^D)&65535,D^=q,O^=q<<-16,q=(D>>>2^O)&858993459,O^=q,D^=q<<2,q=(O>>>-16^D)&65535,D^=q,O^=q<<-16,q=(D>>>1^O)&1431655765,O^=q,D^=q<<1,q=(O>>>8^D)&16711935,D^=q,O^=q<<8,q=(D>>>1^O)&1431655765,O^=q,D^=q<<1,q=D<<8|O>>>20&240,D=O<<24|O<<8&16711680|O>>>8&65280|O>>>24&240,O=q;for(var j=0;j<A.length;++j){A[j]?(D=D<<2|D>>>26,O=O<<2|O>>>26):(D=D<<1|D>>>27,O=O<<1|O>>>27),D&=-15,O&=-15;var H=e[D>>>28]|r[D>>>24&15]|n[D>>>20&15]|i[D>>>16&15]|a[D>>>12&15]|s[D>>>8&15]|o[D>>>4&15],ne=f[O>>>28]|u[O>>>24&15]|c[O>>>20&15]|l[O>>>16&15]|y[O>>>12&15]|b[O>>>8&15]|g[O>>>4&15];q=(ne>>>16^H)&65535,E[P++]=H^q,E[P++]=ne^q<<16}}return E}function Yp(t,e,r,n){var i=t.length===32?3:9,a;i===3?a=n?[30,-2,-2]:[0,32,2]:a=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var s,o=e[0],f=e[1];s=(o>>>4^f)&252645135,f^=s,o^=s<<4,s=(o>>>16^f)&65535,f^=s,o^=s<<16,s=(f>>>2^o)&858993459,o^=s,f^=s<<2,s=(f>>>8^o)&16711935,o^=s,f^=s<<8,s=(o>>>1^f)&1431655765,f^=s,o^=s<<1,o=o<<1|o>>>31,f=f<<1|f>>>31;for(var u=0;u<i;u+=3){for(var c=a[u+1],l=a[u+2],y=a[u];y!=c;y+=l){var b=f^t[y],g=(f>>>4|f<<28)^t[y+1];s=o,o=f,f=s^(O5[b>>>24&63]|F5[b>>>16&63]|z5[b>>>8&63]|H5[b&63]|D5[g>>>24&63]|K5[g>>>16&63]|U5[g>>>8&63]|V5[g&63])}s=o,o=f,f=s}o=o>>>1|o<<31,f=f>>>1|f<<31,s=(o>>>1^f)&1431655765,f^=s,o^=s<<1,s=(f>>>8^o)&16711935,o^=s,f^=s<<8,s=(f>>>2^o)&858993459,o^=s,f^=s<<2,s=(o>>>16^f)&65535,f^=s,o^=s<<16,s=(o>>>4^f)&252645135,f^=s,o^=s<<4,r[0]=o,r[1]=f}function po(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=He.cipher.createDecipher(r,t.key):n=He.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(a,s){var o=null;s instanceof He.util.ByteBuffer&&(o=s,s={}),s=s||{},s.output=o,s.iv=a,i.call(n,s)},n}});var fi=C((fC,Qp)=>{var yo=Be();Qp.exports=yo.md=yo.md||{};yo.md.algorithms=yo.md.algorithms||{}});var Zp=C((uC,Jp)=>{var dn=Be();fi();$e();var j5=Jp.exports=dn.hmac=dn.hmac||{};j5.create=function(){var t=null,e=null,r=null,n=null,i={};return i.start=function(a,s){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in dn.md.algorithms)e=dn.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else e=a;if(s===null)s=t;else{if(typeof s=="string")s=dn.util.createBuffer(s);else if(dn.util.isArray(s)){var o=s;s=dn.util.createBuffer();for(var f=0;f<o.length;++f)s.putByte(o[f])}var u=s.length();u>e.blockLength&&(e.start(),e.update(s.bytes()),s=e.digest()),r=dn.util.createBuffer(),n=dn.util.createBuffer(),u=s.length();for(var f=0;f<u;++f){var o=s.at(f);r.putByte(54^o),n.putByte(92^o)}if(u<e.blockLength)for(var o=e.blockLength-u,f=0;f<o;++f)r.putByte(54),n.putByte(92);t=s,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},i.update=function(a){e.update(a)},i.getMac=function(){var a=e.digest().bytes();return e.start(),e.update(n),e.update(a),e.digest()},i.digest=i.getMac,i}});var Za=C(()=>{});var eu=C((lC,Xp)=>{var Ht=Be();Zp();fi();$e();var G5=Ht.pkcs5=Ht.pkcs5||{},pn;Ht.util.isNodejs&&!Ht.options.usePureJavaScript&&(pn=Za());Xp.exports=Ht.pbkdf2=G5.pbkdf2=function(t,e,r,n,i,a){if(typeof i=="function"&&(a=i,i=null),Ht.util.isNodejs&&!Ht.options.usePureJavaScript&&pn.pbkdf2&&(i===null||typeof i!="object")&&(pn.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),a?pn.pbkdf2Sync.length===4?pn.pbkdf2(t,e,r,n,function(q,F){if(q)return a(q);a(null,F.toString("binary"))}):pn.pbkdf2(t,e,r,n,i,function(q,F){if(q)return a(q);a(null,F.toString("binary"))}):pn.pbkdf2Sync.length===4?pn.pbkdf2Sync(t,e,r,n).toString("binary"):pn.pbkdf2Sync(t,e,r,n,i).toString("binary");if((typeof i=="undefined"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in Ht.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=Ht.md[i].create()}var s=i.digestLength;if(n>4294967295*s){var o=new Error("Derived key is too long.");if(a)return a(o);throw o}var f=Math.ceil(n/s),u=n-(f-1)*s,c=Ht.hmac.create();c.start(i,t);var l="",y,b,g;if(!a){for(var v=1;v<=f;++v){c.start(null,null),c.update(e),c.update(Ht.util.int32ToBytes(v)),y=g=c.digest().getBytes();for(var E=2;E<=r;++E)c.start(null,null),c.update(g),b=c.digest().getBytes(),y=Ht.util.xorBytes(y,b,s),g=b;l+=v<f?y:y.substr(0,u)}return l}var v=1,E;function A(){if(v>f)return a(null,l);c.start(null,null),c.update(e),c.update(Ht.util.int32ToBytes(v)),y=g=c.digest().getBytes(),E=2,P()}function P(){if(E<=r)return c.start(null,null),c.update(g),b=c.digest().getBytes(),y=Ht.util.xorBytes(y,b,s),g=b,++E,Ht.util.setImmediate(P);l+=v<f?y:y.substr(0,u),++v,A()}A()}});var r1=C((dC,e1)=>{var bo=Be();$e();var t1=e1.exports=bo.pem=bo.pem||{};t1.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=vo(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=vo(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=vo(n)),t.headers)for(var i=0;i<t.headers.length;++i)r+=vo(t.headers[i]);return t.procType&&(r+=`\r
`),r+=bo.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};t1.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,a;a=r.exec(t),!!a;){var s={type:a[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:bo.util.decode64(a[3])};if(e.push(s),!!a[2]){for(var o=a[2].split(i),f=0;a&&f<o.length;){for(var u=o[f].replace(/\s+$/,""),c=f+1;c<o.length;++c){var l=o[c];if(!/\s/.test(l[0]))break;u+=l,f=c}if(a=u.match(n),a){for(var y={name:a[1],values:[]},b=a[2].split(","),g=0;g<b.length;++g)y.values.push($5(b[g]));if(s.procType)if(!s.contentDomain&&y.name==="Content-Domain")s.contentDomain=b[0]||"";else if(!s.dekInfo&&y.name==="DEK-Info"){if(y.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');s.dekInfo={algorithm:b[0],parameters:b[1]||null}}else s.headers.push(y);else{if(y.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(y.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');s.procType={version:b[0],type:b[1]}}}++f}if(s.procType==="ENCRYPTED"&&!s.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function vo(t){for(var e=t.name+": ",r=[],n=function(f,u){return" "+u},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var a=0,s=-1,i=0;i<e.length;++i,++a)if(a>65&&s!==-1){var o=e[s];o===","?(++s,e=e.substr(0,s)+`\r
 `+e.substr(s)):e=e.substr(0,s)+`\r
`+o+e.substr(s+1),a=i-s-1,s=-1,++i}else(e[i]===" "||e[i]==="	"||e[i]===",")&&(s=i);return e}function $5(t){return t.replace(/^\s+/,"")}});var f1=C((pC,n1)=>{var Ur=Be();fi();$e();var i1=n1.exports=Ur.sha256=Ur.sha256||{};Ur.md.sha256=Ur.md.algorithms.sha256=i1;i1.create=function(){a1||Y5();var t=null,e=Ur.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return e=Ur.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=Ur.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=s[1],s[1]=s[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(i),s1(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Ur.util.createBuffer();i.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(tu.substr(0,n.blockLength-s));for(var o,f,u=n.fullMessageLength[0]*8,c=0;c<n.fullMessageLength.length-1;++c)o=n.fullMessageLength[c+1]*8,f=o/4294967296>>>0,u+=f,i.putInt32(u>>>0),u=o>>>0;i.putInt32(u);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};s1(l,r,i);var y=Ur.util.createBuffer();return y.putInt32(l.h0),y.putInt32(l.h1),y.putInt32(l.h2),y.putInt32(l.h3),y.putInt32(l.h4),y.putInt32(l.h5),y.putInt32(l.h6),y.putInt32(l.h7),y},n};var tu=null,a1=!1,o1=null;function Y5(){tu=String.fromCharCode(128),tu+=Ur.util.fillString(String.fromCharCode(0),64),o1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a1=!0}function s1(t,e,r){for(var n,i,a,s,o,f,u,c,l,y,b,g,v,E,A,P=r.length();P>=64;){for(u=0;u<16;++u)e[u]=r.getInt32();for(;u<64;++u)n=e[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[u-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[u]=n+e[u-7]+i+e[u-16]|0;for(c=t.h0,l=t.h1,y=t.h2,b=t.h3,g=t.h4,v=t.h5,E=t.h6,A=t.h7,u=0;u<64;++u)s=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),o=E^g&(v^E),a=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),f=c&l|y&(c^l),n=A+s+o+o1[u]+e[u],i=a+f,A=E,E=v,v=g,g=b+n>>>0,b=y,y=l,l=c,c=n+i>>>0;t.h0=t.h0+c|0,t.h1=t.h1+l|0,t.h2=t.h2+y|0,t.h3=t.h3+b|0,t.h4=t.h4+g|0,t.h5=t.h5+v|0,t.h6=t.h6+E|0,t.h7=t.h7+A|0,P-=64}}});var c1=C((yC,u1)=>{var zr=Be();$e();var go=null;zr.util.isNodejs&&!zr.options.usePureJavaScript&&!process.versions["node-webkit"]&&(go=Za());var W5=u1.exports=zr.prng=zr.prng||{};W5.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();e.pools=n,e.pool=0,e.generate=function(u,c){if(!c)return e.generateSync(u);var l=e.plugin.cipher,y=e.plugin.increment,b=e.plugin.formatKey,g=e.plugin.formatSeed,v=zr.util.createBuffer();e.key=null,E();function E(A){if(A)return c(A);if(v.length()>=u)return c(null,v.getBytes(u));if(e.generated>1048575&&(e.key=null),e.key===null)return zr.util.nextTick(function(){a(E)});var P=l(e.key,e.seed);e.generated+=P.length,v.putBytes(P),e.key=b(l(e.key,y(e.seed))),e.seed=g(l(e.key,e.seed)),zr.util.setImmediate(E)}},e.generateSync=function(u){var c=e.plugin.cipher,l=e.plugin.increment,y=e.plugin.formatKey,b=e.plugin.formatSeed;e.key=null;for(var g=zr.util.createBuffer();g.length()<u;){e.generated>1048575&&(e.key=null),e.key===null&&s();var v=c(e.key,e.seed);e.generated+=v.length,g.putBytes(v),e.key=y(c(e.key,l(e.seed))),e.seed=b(c(e.key,e.seed))}return g.getBytes(u)};function a(u){if(e.pools[0].messageLength>=32)return o(),u();var c=32-e.pools[0].messageLength<<5;e.seedFile(c,function(l,y){if(l)return u(l);e.collect(y),o(),u()})}function s(){if(e.pools[0].messageLength>=32)return o();var u=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(u)),o()}function o(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var u=e.plugin.md.create();u.update(e.keyBytes);for(var c=1,l=0;l<32;++l)e.reseeds%c==0&&(u.update(e.pools[l].digest().getBytes()),e.pools[l].start()),c=c<<1;e.keyBytes=u.digest().getBytes(),u.start(),u.update(e.keyBytes);var y=u.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(y),e.generated=0}function f(u){var c=null,l=zr.util.globalScope,y=l.crypto||l.msCrypto;y&&y.getRandomValues&&(c=function(D){return y.getRandomValues(D)});var b=zr.util.createBuffer();if(c)for(;b.length()<u;){var g=Math.max(1,Math.min(u-b.length(),65536)/4),v=new Uint32Array(Math.floor(g));try{c(v);for(var E=0;E<v.length;++E)b.putInt32(v[E])}catch(D){if(!(typeof QuotaExceededError!="undefined"&&D instanceof QuotaExceededError))throw D}}if(b.length()<u)for(var A,P,q,F=Math.floor(Math.random()*65536);b.length()<u;){P=16807*(F&65535),A=16807*(F>>16),P+=(A&32767)<<16,P+=A>>15,P=(P&2147483647)+(P>>31),F=P&4294967295;for(var E=0;E<3;++E)q=F>>>(E<<3),q^=Math.floor(Math.random()*256),b.putByte(String.fromCharCode(q&255))}return b.getBytes(u)}return go?(e.seedFile=function(u,c){go.randomBytes(u,function(l,y){if(l)return c(l);c(null,y.toString())})},e.seedFileSync=function(u){return go.randomBytes(u).toString()}):(e.seedFile=function(u,c){try{c(null,f(u))}catch(l){c(l)}},e.seedFileSync=f),e.collect=function(u){for(var c=u.length,l=0;l<c;++l)e.pools[e.pool].update(u.substr(l,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(u,c){for(var l="",y=0;y<c;y+=8)l+=String.fromCharCode(u>>y&255);e.collect(l)},e.registerWorker=function(u){if(u===self)e.seedFile=function(l,y){function b(g){var v=g.data;v.forge&&v.forge.prng&&(self.removeEventListener("message",b),y(v.forge.prng.err,v.forge.prng.bytes))}self.addEventListener("message",b),self.postMessage({forge:{prng:{needed:l}}})};else{var c=function(l){var y=l.data;y.forge&&y.forge.prng&&e.seedFile(y.forge.prng.needed,function(b,g){u.postMessage({forge:{prng:{err:b,bytes:g}}})})};u.addEventListener("message",c)}},e}});var Ji=C((bC,ru)=>{var It=Be();lo();f1();c1();$e();(function(){if(It.random&&It.random.getBytes){ru.exports=It.random;return}(function(t){var e={},r=new Array(4),n=It.util.createBuffer();e.formatKey=function(l){var y=It.util.createBuffer(l);return l=new Array(4),l[0]=y.getInt32(),l[1]=y.getInt32(),l[2]=y.getInt32(),l[3]=y.getInt32(),It.aes._expandKey(l,!1)},e.formatSeed=function(l){var y=It.util.createBuffer(l);return l=new Array(4),l[0]=y.getInt32(),l[1]=y.getInt32(),l[2]=y.getInt32(),l[3]=y.getInt32(),l},e.cipher=function(l,y){return It.aes._updateBlock(l,y,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(l){return++l[3],l},e.md=It.md.sha256;function i(){var l=It.prng.create(e);return l.getBytes=function(y,b){return l.generate(y,b)},l.getBytesSync=function(y){return l.generate(y)},l}var a=i(),s=null,o=It.util.globalScope,f=o.crypto||o.msCrypto;if(f&&f.getRandomValues&&(s=function(l){return f.getRandomValues(l)}),It.options.usePureJavaScript||!It.util.isNodejs&&!s){if(typeof window=="undefined"||window.document===void 0,a.collectInt(+new Date,32),typeof navigator!="undefined"){var u="";for(var c in navigator)try{typeof navigator[c]=="string"&&(u+=navigator[c])}catch(l){}a.collect(u),u=null}t&&(t().mousemove(function(l){a.collectInt(l.clientX,16),a.collectInt(l.clientY,16)}),t().keypress(function(l){a.collectInt(l.charCode,8)}))}if(!It.random)It.random=a;else for(var c in a)It.random[c]=a[c];It.random.createInstance=i,ru.exports=It.random})(typeof jQuery!="undefined"?jQuery:null)})()});var p1=C((vC,h1)=>{var Qt=Be();$e();var nu=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],l1=[1,2,3,5],Q5=function(t,e){return t<<e&65535|(t&65535)>>16-e},J5=function(t,e){return(t&65535)>>e|t<<16-e&65535};h1.exports=Qt.rc2=Qt.rc2||{};Qt.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Qt.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),i=e,a=Math.ceil(i/8),s=255>>(i&7),o;for(o=n;o<128;o++)r.putByte(nu[r.at(o-1)+r.at(o-n)&255]);for(r.setAt(128-a,nu[r.at(128-a)&s]),o=127-a;o>=0;o--)r.setAt(o,nu[r.at(o+1)^r.at(o+a)]);return r};var d1=function(t,e,r){var n=!1,i=null,a=null,s=null,o,f,u,c,l=[];for(t=Qt.rc2.expandKey(t,e),u=0;u<64;u++)l.push(t.getInt16Le());r?(o=function(g){for(u=0;u<4;u++)g[u]+=l[c]+(g[(u+3)%4]&g[(u+2)%4])+(~g[(u+3)%4]&g[(u+1)%4]),g[u]=Q5(g[u],l1[u]),c++},f=function(g){for(u=0;u<4;u++)g[u]+=l[g[(u+3)%4]&63]}):(o=function(g){for(u=3;u>=0;u--)g[u]=J5(g[u],l1[u]),g[u]-=l[c]+(g[(u+3)%4]&g[(u+2)%4])+(~g[(u+3)%4]&g[(u+1)%4]),c--},f=function(g){for(u=3;u>=0;u--)g[u]-=l[g[(u+3)%4]&63]});var y=function(g){var v=[];for(u=0;u<4;u++){var E=i.getInt16Le();s!==null&&(r?E^=s.getInt16Le():s.putInt16Le(E)),v.push(E&65535)}c=r?0:63;for(var A=0;A<g.length;A++)for(var P=0;P<g[A][0];P++)g[A][1](v);for(u=0;u<4;u++)s!==null&&(r?s.putInt16Le(v[u]):v[u]^=s.getInt16Le()),a.putInt16Le(v[u])},b=null;return b={start:function(g,v){g&&typeof g=="string"&&(g=Qt.util.createBuffer(g)),n=!1,i=Qt.util.createBuffer(),a=v||new Qt.util.createBuffer,s=g,b.output=a},update:function(g){for(n||i.putBuffer(g);i.length()>=8;)y([[5,o],[1,f],[6,o],[1,f],[5,o]])},finish:function(g){var v=!0;if(r)if(g)v=g(8,i,!r);else{var E=i.length()===8?8:8-i.length();i.fillWithByte(E,E)}if(v&&(n=!0,b.update()),!r&&(v=i.length()===0,v))if(g)v=g(8,a,!r);else{var A=a.length(),P=a.at(A-1);P>A?v=!1:a.truncate(P)}return v}},b};Qt.rc2.startEncrypting=function(t,e,r){var n=Qt.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};Qt.rc2.createEncryptionCipher=function(t,e){return d1(t,e,!0)};Qt.rc2.startDecrypting=function(t,e,r){var n=Qt.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};Qt.rc2.createDecryptionCipher=function(t,e){return d1(t,e,!1)}});var es=C((gC,y1)=>{var iu=Be();y1.exports=iu.jsbn=iu.jsbn||{};var yn,Z5=244837814094590,b1=(Z5&16777215)==15715070;function V(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}iu.jsbn.BigInteger=V;function Ae(){return new V(null)}function X5(t,e,r,n,i,a){for(;--a>=0;){var s=e*this.data[t++]+r.data[n]+i;i=Math.floor(s/67108864),r.data[n++]=s&67108863}return i}function ex(t,e,r,n,i,a){for(var s=e&32767,o=e>>15;--a>=0;){var f=this.data[t]&32767,u=this.data[t++]>>15,c=o*f+u*s;f=s*f+((c&32767)<<15)+r.data[n]+(i&1073741823),i=(f>>>30)+(c>>>15)+o*u+(i>>>30),r.data[n++]=f&1073741823}return i}function v1(t,e,r,n,i,a){for(var s=e&16383,o=e>>14;--a>=0;){var f=this.data[t]&16383,u=this.data[t++]>>14,c=o*f+u*s;f=s*f+((c&16383)<<14)+r.data[n]+i,i=(f>>28)+(c>>14)+o*u,r.data[n++]=f&268435455}return i}typeof navigator=="undefined"?(V.prototype.am=v1,yn=28):b1&&navigator.appName=="Microsoft Internet Explorer"?(V.prototype.am=ex,yn=30):b1&&navigator.appName!="Netscape"?(V.prototype.am=X5,yn=26):(V.prototype.am=v1,yn=28);V.prototype.DB=yn;V.prototype.DM=(1<<yn)-1;V.prototype.DV=1<<yn;var au=52;V.prototype.FV=Math.pow(2,au);V.prototype.F1=au-yn;V.prototype.F2=2*yn-au;var tx="0123456789abcdefghijklmnopqrstuvwxyz",mo=new Array,Zi,lr;Zi="0".charCodeAt(0);for(lr=0;lr<=9;++lr)mo[Zi++]=lr;Zi="a".charCodeAt(0);for(lr=10;lr<36;++lr)mo[Zi++]=lr;Zi="A".charCodeAt(0);for(lr=10;lr<36;++lr)mo[Zi++]=lr;function g1(t){return tx.charAt(t)}function m1(t,e){var r=mo[t.charCodeAt(e)];return r??-1}function rx(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function nx(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function Ln(t){var e=Ae();return e.fromInt(t),e}function ix(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,a=0;--n>=0;){var s=r==8?t[n]&255:m1(t,n);if(s<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,a==0?this.data[this.t++]=s:a+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this.data[this.t++]=s>>this.DB-a):this.data[this.t-1]|=s<<a,a+=r,a>=this.DB&&(a-=this.DB)}r==8&&(t[0]&128)!=0&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&V.ZERO.subTo(this,this)}function ax(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function sx(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,a="",s=this.t,o=this.DB-s*this.DB%e;if(s-- >0)for(o<this.DB&&(n=this.data[s]>>o)>0&&(i=!0,a=g1(n));s>=0;)o<e?(n=(this.data[s]&(1<<o)-1)<<e-o,n|=this.data[--s]>>(o+=this.DB-e)):(n=this.data[s]>>(o-=e)&r,o<=0&&(o+=this.DB,--s)),n>0&&(i=!0),i&&(a+=g1(n));return i?a:"0"}function ox(){var t=Ae();return V.ZERO.subTo(this,t),t}function fx(){return this.s<0?this.negate():this}function ux(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function xo(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function cx(){return this.t<=0?0:this.DB*(this.t-1)+xo(this.data[this.t-1]^this.s&this.DM)}function hx(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function lx(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function dx(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,a=Math.floor(t/this.DB),s=this.s<<r&this.DM,o;for(o=this.t-1;o>=0;--o)e.data[o+a+1]=this.data[o]>>n|s,s=(this.data[o]&i)<<r;for(o=a-1;o>=0;--o)e.data[o]=0;e.data[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()}function px(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,a=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var s=r+1;s<this.t;++s)e.data[s-r-1]|=(this.data[s]&a)<<i,e.data[s-r]=this.data[s]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&a)<<i),e.t=this.t-r,e.clamp()}function yx(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}function bx(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&V.ZERO.subTo(e,e)}function vx(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function gx(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e!=null&&e.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Ae());var a=Ae(),s=this.s,o=t.s,f=this.DB-xo(n.data[n.t-1]);f>0?(n.lShiftTo(f,a),i.lShiftTo(f,r)):(n.copyTo(a),i.copyTo(r));var u=a.t,c=a.data[u-1];if(c!=0){var l=c*(1<<this.F1)+(u>1?a.data[u-2]>>this.F2:0),y=this.FV/l,b=(1<<this.F1)/l,g=1<<this.F2,v=r.t,E=v-u,A=e??Ae();for(a.dlShiftTo(E,A),r.compareTo(A)>=0&&(r.data[r.t++]=1,r.subTo(A,r)),V.ONE.dlShiftTo(u,A),A.subTo(a,a);a.t<u;)a.data[a.t++]=0;for(;--E>=0;){var P=r.data[--v]==c?this.DM:Math.floor(r.data[v]*y+(r.data[v-1]+g)*b);if((r.data[v]+=a.am(0,P,r,E,0,u))<P)for(a.dlShiftTo(E,A),r.subTo(A,r);r.data[v]<--P;)r.subTo(A,r)}e!=null&&(r.drShiftTo(u,e),s!=o&&V.ZERO.subTo(e,e)),r.t=u,r.clamp(),f>0&&r.rShiftTo(f,r),s<0&&V.ZERO.subTo(r,r)}}}function mx(t){var e=Ae();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(V.ZERO)>0&&t.subTo(e,e),e}function ui(t){this.m=t}function xx(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function wx(t){return t}function Ex(t){t.divRemTo(this.m,null,t)}function _x(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function Sx(t,e){t.squareTo(e),this.reduce(e)}ui.prototype.convert=xx;ui.prototype.revert=wx;ui.prototype.reduce=Ex;ui.prototype.mulTo=_x;ui.prototype.sqrTo=Sx;function Ax(){if(this.t<1)return 0;var t=this.data[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function ci(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function Bx(t){var e=Ae();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(V.ZERO)>0&&this.m.subTo(e,e),e}function Ix(t){var e=Ae();return t.copyTo(e),this.reduce(e),e}function Cx(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function Tx(t,e){t.squareTo(e),this.reduce(e)}function Px(t,e,r){t.multiplyTo(e,r),this.reduce(r)}ci.prototype.convert=Bx;ci.prototype.revert=Ix;ci.prototype.reduce=Cx;ci.prototype.mulTo=Px;ci.prototype.sqrTo=Tx;function Mx(){return(this.t>0?this.data[0]&1:this.s)==0}function Rx(t,e){if(t>4294967295||t<1)return V.ONE;var r=Ae(),n=Ae(),i=e.convert(this),a=xo(t)-1;for(i.copyTo(r);--a>=0;)if(e.sqrTo(r,n),(t&1<<a)>0)e.mulTo(n,i,r);else{var s=r;r=n,n=s}return e.revert(r)}function qx(t,e){var r;return t<256||e.isEven()?r=new ui(e):r=new ci(e),this.exp(t,r)}V.prototype.copyTo=rx;V.prototype.fromInt=nx;V.prototype.fromString=ix;V.prototype.clamp=ax;V.prototype.dlShiftTo=hx;V.prototype.drShiftTo=lx;V.prototype.lShiftTo=dx;V.prototype.rShiftTo=px;V.prototype.subTo=yx;V.prototype.multiplyTo=bx;V.prototype.squareTo=vx;V.prototype.divRemTo=gx;V.prototype.invDigit=Ax;V.prototype.isEven=Mx;V.prototype.exp=Rx;V.prototype.toString=sx;V.prototype.negate=ox;V.prototype.abs=fx;V.prototype.compareTo=ux;V.prototype.bitLength=cx;V.prototype.mod=mx;V.prototype.modPowInt=qx;V.ZERO=Ln(0);V.ONE=Ln(1);function kx(){var t=Ae();return this.copyTo(t),t}function Nx(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function Lx(){return this.t==0?this.s:this.data[0]<<24>>24}function Dx(){return this.t==0?this.s:this.data[0]<<16>>16}function Ox(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function Kx(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function Fx(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=Ln(r),i=Ae(),a=Ae(),s="";for(this.divRemTo(n,i,a);i.signum()>0;)s=(r+a.intValue()).toString(t).substr(1)+s,i.divRemTo(n,i,a);return a.intValue().toString(t)+s}function Ux(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,a=0,s=0,o=0;o<t.length;++o){var f=m1(t,o);if(f<0){t.charAt(o)=="-"&&this.signum()==0&&(i=!0);continue}s=e*s+f,++a>=r&&(this.dMultiply(n),this.dAddOffset(s,0),a=0,s=0)}a>0&&(this.dMultiply(Math.pow(e,a)),this.dAddOffset(s,0)),i&&V.ZERO.subTo(this,this)}function zx(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(V.ONE.shiftLeft(t-1),su,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(V.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function Vx(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function Hx(t){return this.compareTo(t)==0}function jx(t){return this.compareTo(t)<0?this:t}function Gx(t){return this.compareTo(t)>0?this:t}function $x(t,e,r){var n,i,a=Math.min(t.t,this.t);for(n=0;n<a;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=a;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=a;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function Yx(t,e){return t&e}function Wx(t){var e=Ae();return this.bitwiseTo(t,Yx,e),e}function su(t,e){return t|e}function Qx(t){var e=Ae();return this.bitwiseTo(t,su,e),e}function x1(t,e){return t^e}function Jx(t){var e=Ae();return this.bitwiseTo(t,x1,e),e}function w1(t,e){return t&~e}function Zx(t){var e=Ae();return this.bitwiseTo(t,w1,e),e}function Xx(){for(var t=Ae(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function ew(t){var e=Ae();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function tw(t){var e=Ae();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function rw(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}function nw(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+rw(this.data[t]);return this.s<0?this.t*this.DB:-1}function iw(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function aw(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=iw(this.data[r]^e);return t}function sw(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function ow(t,e){var r=V.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function fw(t){return this.changeBit(t,su)}function uw(t){return this.changeBit(t,w1)}function cw(t){return this.changeBit(t,x1)}function hw(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}function lw(t){var e=Ae();return this.addTo(t,e),e}function dw(t){var e=Ae();return this.subTo(t,e),e}function pw(t){var e=Ae();return this.multiplyTo(t,e),e}function yw(t){var e=Ae();return this.divRemTo(t,e,null),e}function bw(t){var e=Ae();return this.divRemTo(t,null,e),e}function vw(t){var e=Ae(),r=Ae();return this.divRemTo(t,e,r),new Array(e,r)}function gw(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function mw(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function Xa(){}function E1(t){return t}function xw(t,e,r){t.multiplyTo(e,r)}function ww(t,e){t.squareTo(e)}Xa.prototype.convert=E1;Xa.prototype.revert=E1;Xa.prototype.mulTo=xw;Xa.prototype.sqrTo=ww;function Ew(t){return this.exp(t,new Xa)}function _w(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}function Sw(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function Xi(t){this.r2=Ae(),this.q3=Ae(),V.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Aw(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=Ae();return t.copyTo(e),this.reduce(e),e}function Bw(t){return t}function Iw(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Cw(t,e){t.squareTo(e),this.reduce(e)}function Tw(t,e,r){t.multiplyTo(e,r),this.reduce(r)}Xi.prototype.convert=Aw;Xi.prototype.revert=Bw;Xi.prototype.reduce=Iw;Xi.prototype.mulTo=Tw;Xi.prototype.sqrTo=Cw;function Pw(t,e){var r=t.bitLength(),n,i=Ln(1),a;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?a=new ui(e):e.isEven()?a=new Xi(e):a=new ci(e);var s=new Array,o=3,f=n-1,u=(1<<n)-1;if(s[1]=a.convert(this),n>1){var c=Ae();for(a.sqrTo(s[1],c);o<=u;)s[o]=Ae(),a.mulTo(c,s[o-2],s[o]),o+=2}var l=t.t-1,y,b=!0,g=Ae(),v;for(r=xo(t.data[l])-1;l>=0;){for(r>=f?y=t.data[l]>>r-f&u:(y=(t.data[l]&(1<<r+1)-1)<<f-r,l>0&&(y|=t.data[l-1]>>this.DB+r-f)),o=n;(y&1)==0;)y>>=1,--o;if((r-=o)<0&&(r+=this.DB,--l),b)s[y].copyTo(i),b=!1;else{for(;o>1;)a.sqrTo(i,g),a.sqrTo(g,i),o-=2;o>0?a.sqrTo(i,g):(v=i,i=g,g=v),a.mulTo(g,s[y],i)}for(;l>=0&&(t.data[l]&1<<r)==0;)a.sqrTo(i,g),v=i,i=g,g=v,--r<0&&(r=this.DB-1,--l)}return a.revert(i)}function Mw(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return e;for(i<a&&(a=i),a>0&&(e.rShiftTo(a,e),r.rShiftTo(a,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r}function Rw(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}function qw(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return V.ZERO;for(var r=t.clone(),n=this.clone(),i=Ln(1),a=Ln(0),s=Ln(0),o=Ln(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!a.isEven())&&(i.addTo(this,i),a.subTo(t,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),e?((!s.isEven()||!o.isEven())&&(s.addTo(this,s),o.subTo(t,o)),s.rShiftTo(1,s)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(s,i),a.subTo(o,a)):(n.subTo(r,n),e&&s.subTo(i,s),o.subTo(a,o))}if(n.compareTo(V.ONE)!=0)return V.ZERO;if(o.compareTo(t)>=0)return o.subtract(t);if(o.signum()<0)o.addTo(t,o);else return o;return o.signum()<0?o.add(t):o}var _r=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],kw=(1<<26)/_r[_r.length-1];function Nw(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=_r[_r.length-1]){for(e=0;e<_r.length;++e)if(r.data[0]==_r[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<_r.length;){for(var n=_r[e],i=e+1;i<_r.length&&n<kw;)n*=_r[i++];for(n=r.modInt(n);e<i;)if(n%_r[e++]==0)return!1}return r.millerRabin(t)}function Dw(t){var e=this.subtract(V.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),i=Lw(),a,s=0;s<t;++s){do a=new V(this.bitLength(),i);while(a.compareTo(V.ONE)<=0||a.compareTo(e)>=0);var o=a.modPow(n,this);if(o.compareTo(V.ONE)!=0&&o.compareTo(e)!=0){for(var f=1;f++<r&&o.compareTo(e)!=0;)if(o=o.modPowInt(2,this),o.compareTo(V.ONE)==0)return!1;if(o.compareTo(e)!=0)return!1}}return!0}function Lw(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}V.prototype.chunkSize=Ox;V.prototype.toRadix=Fx;V.prototype.fromRadix=Ux;V.prototype.fromNumber=zx;V.prototype.bitwiseTo=$x;V.prototype.changeBit=ow;V.prototype.addTo=hw;V.prototype.dMultiply=gw;V.prototype.dAddOffset=mw;V.prototype.multiplyLowerTo=_w;V.prototype.multiplyUpperTo=Sw;V.prototype.modInt=Rw;V.prototype.millerRabin=Dw;V.prototype.clone=kx;V.prototype.intValue=Nx;V.prototype.byteValue=Lx;V.prototype.shortValue=Dx;V.prototype.signum=Kx;V.prototype.toByteArray=Vx;V.prototype.equals=Hx;V.prototype.min=jx;V.prototype.max=Gx;V.prototype.and=Wx;V.prototype.or=Qx;V.prototype.xor=Jx;V.prototype.andNot=Zx;V.prototype.not=Xx;V.prototype.shiftLeft=ew;V.prototype.shiftRight=tw;V.prototype.getLowestSetBit=nw;V.prototype.bitCount=aw;V.prototype.testBit=sw;V.prototype.setBit=fw;V.prototype.clearBit=uw;V.prototype.flipBit=cw;V.prototype.add=lw;V.prototype.subtract=dw;V.prototype.multiply=pw;V.prototype.divide=yw;V.prototype.remainder=bw;V.prototype.divideAndRemainder=vw;V.prototype.modPow=Pw;V.prototype.modInverse=qw;V.prototype.pow=Ew;V.prototype.gcd=Mw;V.prototype.isProbablePrime=Nw});var I1=C((mC,_1)=>{var Vr=Be();fi();$e();var S1=_1.exports=Vr.sha1=Vr.sha1||{};Vr.md.sha1=Vr.md.algorithms.sha1=S1;S1.create=function(){A1||Ow();var t=null,e=Vr.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return e=Vr.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=Vr.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=s[1],s[1]=s[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(i),B1(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Vr.util.createBuffer();i.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(ou.substr(0,n.blockLength-s));for(var o,f,u=n.fullMessageLength[0]*8,c=0;c<n.fullMessageLength.length-1;++c)o=n.fullMessageLength[c+1]*8,f=o/4294967296>>>0,u+=f,i.putInt32(u>>>0),u=o>>>0;i.putInt32(u);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};B1(l,r,i);var y=Vr.util.createBuffer();return y.putInt32(l.h0),y.putInt32(l.h1),y.putInt32(l.h2),y.putInt32(l.h3),y.putInt32(l.h4),y},n};var ou=null,A1=!1;function Ow(){ou=String.fromCharCode(128),ou+=Vr.util.fillString(String.fromCharCode(0),64),A1=!0}function B1(t,e,r){for(var n,i,a,s,o,f,u,c,l=r.length();l>=64;){for(i=t.h0,a=t.h1,s=t.h2,o=t.h3,f=t.h4,c=0;c<16;++c)n=r.getInt32(),e[c]=n,u=o^a&(s^o),n=(i<<5|i>>>27)+u+f+1518500249+n,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<20;++c)n=e[c-3]^e[c-8]^e[c-14]^e[c-16],n=n<<1|n>>>31,e[c]=n,u=o^a&(s^o),n=(i<<5|i>>>27)+u+f+1518500249+n,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<32;++c)n=e[c-3]^e[c-8]^e[c-14]^e[c-16],n=n<<1|n>>>31,e[c]=n,u=a^s^o,n=(i<<5|i>>>27)+u+f+1859775393+n,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<40;++c)n=e[c-6]^e[c-16]^e[c-28]^e[c-32],n=n<<2|n>>>30,e[c]=n,u=a^s^o,n=(i<<5|i>>>27)+u+f+1859775393+n,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<60;++c)n=e[c-6]^e[c-16]^e[c-28]^e[c-32],n=n<<2|n>>>30,e[c]=n,u=a&s|o&(a^s),n=(i<<5|i>>>27)+u+f+2400959708+n,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<80;++c)n=e[c-6]^e[c-16]^e[c-28]^e[c-32],n=n<<2|n>>>30,e[c]=n,u=a^s^o,n=(i<<5|i>>>27)+u+f+3395469782+n,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+a|0,t.h2=t.h2+s|0,t.h3=t.h3+o|0,t.h4=t.h4+f|0,l-=64}}});var P1=C((xC,C1)=>{var Hr=Be();$e();Ji();I1();var T1=C1.exports=Hr.pkcs1=Hr.pkcs1||{};T1.encode_rsa_oaep=function(t,e,r){var n,i,a,s;typeof r=="string"?(n=r,i=arguments[3]||void 0,a=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md)),a?a.start():a=Hr.md.sha1.create(),s||(s=a);var o=Math.ceil(t.n.bitLength()/8),f=o-2*a.digestLength-2;if(e.length>f){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=e.length,u.maxLength=f,u}n||(n=""),a.update(n,"raw");for(var c=a.digest(),l="",y=f-e.length,b=0;b<y;b++)l+="\0";var g=c.getBytes()+l+""+e;if(!i)i=Hr.random.getBytes(a.digestLength);else if(i.length!==a.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=i.length,u.digestLength=a.digestLength,u}var v=wo(i,o-a.digestLength-1,s),E=Hr.util.xorBytes(g,v,g.length),A=wo(E,a.digestLength,s),P=Hr.util.xorBytes(i,A,i.length);return"\0"+P+E};T1.decode_rsa_oaep=function(t,e,r){var n,i,a;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var s=Math.ceil(t.n.bitLength()/8);if(e.length!==s){var E=new Error("RSAES-OAEP encoded message length is invalid.");throw E.length=e.length,E.expectedLength=s,E}if(i===void 0?i=Hr.md.sha1.create():i.start(),a||(a=i),s<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var o=i.digest().getBytes(),f=e.charAt(0),u=e.substring(1,i.digestLength+1),c=e.substring(1+i.digestLength),l=wo(c,i.digestLength,a),y=Hr.util.xorBytes(u,l,u.length),b=wo(y,s-i.digestLength-1,a),g=Hr.util.xorBytes(c,b,c.length),v=g.substring(0,i.digestLength),E=f!=="\0",A=0;A<i.digestLength;++A)E|=o.charAt(A)!==v.charAt(A);for(var P=1,q=i.digestLength,F=i.digestLength;F<g.length;F++){var D=g.charCodeAt(F),O=D&1^1,j=P?65534:0;E|=D&j,P=P&O,q+=P}if(E||g.charCodeAt(q)!==1)throw new Error("Invalid RSAES-OAEP padding.");return g.substring(q+1)};function wo(t,e,r){r||(r=Hr.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),a=0;a<i;++a){var s=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255);r.start(),r.update(t+s),n+=r.digest().getBytes()}return n.substring(0,e)}});var M1=C((wC,fu)=>{var Dn=Be();$e();es();Ji();(function(){if(Dn.prime){fu.exports=Dn.prime;return}var t=fu.exports=Dn.prime=Dn.prime||{},e=Dn.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var i=function(l,y){return l|y};t.generateProbablePrime=function(l,y,b){typeof y=="function"&&(b=y,y={}),y=y||{};var g=y.algorithm||"PRIMEINC";typeof g=="string"&&(g={name:g}),g.options=g.options||{};var v=y.prng||Dn.random,E={nextBytes:function(A){for(var P=v.getBytesSync(A.length),q=0;q<A.length;++q)A[q]=P.charCodeAt(q)}};if(g.name==="PRIMEINC")return a(l,E,g.options,b);throw new Error("Invalid prime generation algorithm: "+g.name)};function a(l,y,b,g){return"workers"in b?f(l,y,b,g):s(l,y,b,g)}function s(l,y,b,g){var v=u(l,y),E=0,A=c(v.bitLength());"millerRabinTests"in b&&(A=b.millerRabinTests);var P=10;"maxBlockTime"in b&&(P=b.maxBlockTime),o(v,l,y,E,A,P,g)}function o(l,y,b,g,v,E,A){var P=+new Date;do{if(l.bitLength()>y&&(l=u(y,b)),l.isProbablePrime(v))return A(null,l);l.dAddOffset(r[g++%8],0)}while(E<0||+new Date-P<E);Dn.util.setImmediate(function(){o(l,y,b,g,v,E,A)})}function f(l,y,b,g){if(typeof Worker=="undefined")return s(l,y,b,g);var v=u(l,y),E=b.workers,A=b.workLoad||100,P=A*30/8,q=b.workerScript||"forge/prime.worker.js";if(E===-1)return Dn.util.estimateCores(function(D,O){D&&(O=2),E=O-1,F()});F();function F(){E=Math.max(1,E);for(var D=[],O=0;O<E;++O)D[O]=new Worker(q);for(var j=E,O=0;O<E;++O)D[O].addEventListener("message",ne);var H=!1;function ne(B){if(!H){--j;var h=B.data;if(h.found){for(var p=0;p<D.length;++p)D[p].terminate();return H=!0,g(null,new e(h.prime,16))}v.bitLength()>l&&(v=u(l,y));var m=v.toString(16);B.target.postMessage({hex:m,workLoad:A}),v.dAddOffset(P,0)}}}}function u(l,y){var b=new e(l,y),g=l-1;return b.testBit(g)||b.bitwiseTo(e.ONE.shiftLeft(g),i,b),b.dAddOffset(31-b.mod(n).byteValue(),0),b}function c(l){return l<=100?27:l<=150?18:l<=200?15:l<=250?12:l<=300?9:l<=350?8:l<=400?7:l<=500?6:l<=600?5:l<=800?4:l<=1250?3:2}})()});var _o=C((EC,R1)=>{var pe=Be();Yi();es();oo();P1();M1();Ji();$e();typeof Ee=="undefined"&&(Ee=pe.jsbn.BigInteger);var Ee,uu=pe.util.isNodejs?Za():null,k=pe.asn1,dr=pe.util;pe.pki=pe.pki||{};R1.exports=pe.pki.rsa=pe.rsa=pe.rsa||{};var ye=pe.pki,Kw=[6,4,2,4,2,4,6,2],Fw={name:"PrivateKeyInfo",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:k.Class.UNIVERSAL,type:k.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},Uw={name:"RSAPrivateKey",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},zw={name:"RSAPublicKey",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},Vw=pe.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:k.Class.UNIVERSAL,type:k.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},Hw=function(t){var e;if(t.algorithm in ye.oids)e=ye.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=k.oidToDer(e).getBytes(),i=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[]),a=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[]);a.value.push(k.create(k.Class.UNIVERSAL,k.Type.OID,!1,n)),a.value.push(k.create(k.Class.UNIVERSAL,k.Type.NULL,!1,""));var s=k.create(k.Class.UNIVERSAL,k.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(a),i.value.push(s),k.toDer(i).getBytes()},q1=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(Ee.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(Ee.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new Ee(pe.util.bytesToHex(pe.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(Ee.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),a=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(a)<0;)i=i.add(e.p);var s=i.subtract(a).multiply(e.qInv).mod(e.p).multiply(e.q).add(a);return s=s.multiply(n.modInverse(e.n)).mod(e.n),s};ye.rsa.encrypt=function(t,e,r){var n=r,i,a=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=k1(t,e,r)):(i=pe.util.createBuffer(),i.putBytes(t));for(var s=new Ee(i.toHex(),16),o=q1(s,e,n),f=o.toString(16),u=pe.util.createBuffer(),c=a-Math.ceil(f.length/2);c>0;)u.putByte(0),--c;return u.putBytes(pe.util.hexToBytes(f)),u.getBytes()};ye.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var a=new Error("Encrypted message length is invalid.");throw a.length=t.length,a.expected=i,a}var s=new Ee(pe.util.createBuffer(t).toHex(),16);if(s.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var o=q1(s,e,r),f=o.toString(16),u=pe.util.createBuffer(),c=i-Math.ceil(f.length/2);c>0;)u.putByte(0),--c;return u.putBytes(pe.util.hexToBytes(f)),n!==!1?Eo(u.getBytes(),e,r):u.getBytes()};ye.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||pe.random,i={nextBytes:function(o){for(var f=n.getBytesSync(o.length),u=0;u<o.length;++u)o[u]=f.charCodeAt(u)}},a=r.algorithm||"PRIMEINC",s;if(a==="PRIMEINC")s={algorithm:a,state:0,bits:t,rng:i,eInt:e||65537,e:new Ee(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},s.e.fromInt(s.eInt);else throw new Error("Invalid key generation algorithm: "+a);return s};ye.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new Ee(null);r.fromInt(30);for(var n=0,i=function(l,y){return l|y},a=+new Date,s,o=0;t.keys===null&&(e<=0||o<e);){if(t.state===0){var f=t.p===null?t.pBits:t.qBits,u=f-1;t.pqState===0?(t.num=new Ee(f,t.rng),t.num.testBit(u)||t.num.bitwiseTo(Ee.ONE.shiftLeft(u),i,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>f?t.pqState=0:t.num.isProbablePrime(jw(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(Kw[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(Ee.ONE).gcd(t.e).compareTo(Ee.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(Ee.ONE),t.q1=t.q.subtract(Ee.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(Ee.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var c=t.e.modInverse(t.phi);t.keys={privateKey:ye.rsa.setPrivateKey(t.n,t.e,c,t.p,t.q,c.mod(t.p1),c.mod(t.q1),t.q.modInverse(t.p)),publicKey:ye.rsa.setPublicKey(t.n,t.e)}}s=+new Date,o+=s-a,a=s}return t.keys!==null};ye.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!pe.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(N1("generateKeyPair"))return uu.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(o,f,u){if(o)return n(o);n(null,{privateKey:ye.privateKeyFromPem(u),publicKey:ye.publicKeyFromPem(f)})});if(L1("generateKey")&&L1("exportKey"))return dr.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:O1(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(o){return dr.globalScope.crypto.subtle.exportKey("pkcs8",o.privateKey)}).then(void 0,function(o){n(o)}).then(function(o){if(o){var f=ye.privateKeyFromAsn1(k.fromDer(pe.util.createBuffer(o)));n(null,{privateKey:f,publicKey:ye.setRsaPublicKey(f.n,f.e)})}});if(D1("generateKey")&&D1("exportKey")){var i=dr.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:O1(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(o){var f=o.target.result,u=dr.globalScope.msCrypto.subtle.exportKey("pkcs8",f.privateKey);u.oncomplete=function(c){var l=c.target.result,y=ye.privateKeyFromAsn1(k.fromDer(pe.util.createBuffer(l)));n(null,{privateKey:y,publicKey:ye.setRsaPublicKey(y.n,y.e)})},u.onerror=function(c){n(c)}},i.onerror=function(o){n(o)};return}}else if(N1("generateKeyPairSync")){var a=uu.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:ye.privateKeyFromPem(a.privateKey),publicKey:ye.publicKeyFromPem(a.publicKey)}}}var s=ye.rsa.createKeyPairGenerationState(t,e,r);if(!n)return ye.rsa.stepKeyPairGenerationState(s,0),s.keys;Gw(s,r,n)};ye.setRsaPublicKey=ye.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,i,a){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(o,f,u){return k1(o,f,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(o,f){return pe.pkcs1.encode_rsa_oaep(f,o,a)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(o){return o}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var s=i.encode(n,r,!0);return ye.rsa.encrypt(s,r,!0)},r.verify=function(n,i,a){typeof a=="string"?a=a.toUpperCase():a===void 0&&(a="RSASSA-PKCS1-V1_5"),a==="RSASSA-PKCS1-V1_5"?a={verify:function(o,f){f=Eo(f,r,!0);var u=k.fromDer(f);return o===u.value[1].value}}:(a==="NONE"||a==="NULL"||a===null)&&(a={verify:function(o,f){return f=Eo(f,r,!0),o===f}});var s=ye.rsa.decrypt(i,r,!0,!1);return a.verify(n,s,r.n.bitLength())},r};ye.setRsaPrivateKey=ye.rsa.setPrivateKey=function(t,e,r,n,i,a,s,o){var f={n:t,e,d:r,p:n,q:i,dP:a,dQ:s,qInv:o};return f.decrypt=function(u,c,l){typeof c=="string"?c=c.toUpperCase():c===void 0&&(c="RSAES-PKCS1-V1_5");var y=ye.rsa.decrypt(u,f,!1,!1);if(c==="RSAES-PKCS1-V1_5")c={decode:Eo};else if(c==="RSA-OAEP"||c==="RSAES-OAEP")c={decode:function(b,g){return pe.pkcs1.decode_rsa_oaep(g,b,l)}};else if(["RAW","NONE","NULL",null].indexOf(c)!==-1)c={decode:function(b){return b}};else throw new Error('Unsupported encryption scheme: "'+c+'".');return c.decode(y,f,!1)},f.sign=function(u,c){var l=!1;typeof c=="string"&&(c=c.toUpperCase()),c===void 0||c==="RSASSA-PKCS1-V1_5"?(c={encode:Hw},l=1):(c==="NONE"||c==="NULL"||c===null)&&(c={encode:function(){return u}},l=1);var y=c.encode(u,f.n.bitLength());return ye.rsa.encrypt(y,f,l)},f};ye.wrapRsaPrivateKey=function(t){return k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,k.integerToDer(0).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(ye.oids.rsaEncryption).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.NULL,!1,"")]),k.create(k.Class.UNIVERSAL,k.Type.OCTETSTRING,!1,k.toDer(t).getBytes())])};ye.privateKeyFromAsn1=function(t){var e={},r=[];if(k.validate(t,Fw,e,r)&&(t=k.fromDer(pe.util.createBuffer(e.privateKey))),e={},r=[],!k.validate(t,Uw,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,a,s,o,f,u,c,l;return i=pe.util.createBuffer(e.privateKeyModulus).toHex(),a=pe.util.createBuffer(e.privateKeyPublicExponent).toHex(),s=pe.util.createBuffer(e.privateKeyPrivateExponent).toHex(),o=pe.util.createBuffer(e.privateKeyPrime1).toHex(),f=pe.util.createBuffer(e.privateKeyPrime2).toHex(),u=pe.util.createBuffer(e.privateKeyExponent1).toHex(),c=pe.util.createBuffer(e.privateKeyExponent2).toHex(),l=pe.util.createBuffer(e.privateKeyCoefficient).toHex(),ye.setRsaPrivateKey(new Ee(i,16),new Ee(a,16),new Ee(s,16),new Ee(o,16),new Ee(f,16),new Ee(u,16),new Ee(c,16),new Ee(l,16))};ye.privateKeyToAsn1=ye.privateKeyToRSAPrivateKey=function(t){return k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,k.integerToDer(0).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,jr(t.n)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,jr(t.e)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,jr(t.d)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,jr(t.p)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,jr(t.q)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,jr(t.dP)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,jr(t.dQ)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,jr(t.qInv))])};ye.publicKeyFromAsn1=function(t){var e={},r=[];if(k.validate(t,Vw,e,r)){var n=k.derToOid(e.publicKeyOid);if(n!==ye.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!k.validate(t,zw,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var a=pe.util.createBuffer(e.publicKeyModulus).toHex(),s=pe.util.createBuffer(e.publicKeyExponent).toHex();return ye.setRsaPublicKey(new Ee(a,16),new Ee(s,16))};ye.publicKeyToAsn1=ye.publicKeyToSubjectPublicKeyInfo=function(t){return k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(ye.oids.rsaEncryption).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.NULL,!1,"")]),k.create(k.Class.UNIVERSAL,k.Type.BITSTRING,!1,[ye.publicKeyToRSAPublicKey(t)])])};ye.publicKeyToRSAPublicKey=function(t){return k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,jr(t.n)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,jr(t.e))])};function k1(t,e,r){var n=pe.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=t.length,a.max=i-11,a}n.putByte(0),n.putByte(r);var s=i-3-t.length,o;if(r===0||r===1){o=r===0?0:255;for(var f=0;f<s;++f)n.putByte(o)}else for(;s>0;){for(var u=0,c=pe.random.getBytes(s),f=0;f<s;++f)o=c.charCodeAt(f),o===0?++u:n.putByte(o);s=u}return n.putByte(0),n.putBytes(t),n}function Eo(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),a=pe.util.createBuffer(t),s=a.getByte(),o=a.getByte();if(s!==0||r&&o!==0&&o!==1||!r&&o!=2||r&&o===0&&typeof n=="undefined")throw new Error("Encryption block is invalid.");var f=0;if(o===0){f=i-3-n;for(var u=0;u<f;++u)if(a.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(o===1)for(f=0;a.length()>1;){if(a.getByte()!==255){--a.read;break}++f}else if(o===2)for(f=0;a.length()>1;){if(a.getByte()===0){--a.read;break}++f}var c=a.getByte();if(c!==0||f!==i-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function Gw(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),i();function i(){a(t.pBits,function(o,f){if(o)return r(o);if(t.p=f,t.q!==null)return s(o,t.q);a(t.qBits,s)})}function a(o,f){pe.prime.generateProbablePrime(o,n,f)}function s(o,f){if(o)return r(o);if(t.q=f,t.p.compareTo(t.q)<0){var u=t.p;t.p=t.q,t.q=u}if(t.p.subtract(Ee.ONE).gcd(t.e).compareTo(Ee.ONE)!==0){t.p=null,i();return}if(t.q.subtract(Ee.ONE).gcd(t.e).compareTo(Ee.ONE)!==0){t.q=null,a(t.qBits,s);return}if(t.p1=t.p.subtract(Ee.ONE),t.q1=t.q.subtract(Ee.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(Ee.ONE)!==0){t.p=t.q=null,i();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,a(t.qBits,s);return}var c=t.e.modInverse(t.phi);t.keys={privateKey:ye.rsa.setPrivateKey(t.n,t.e,c,t.p,t.q,c.mod(t.p1),c.mod(t.q1),t.q.modInverse(t.p)),publicKey:ye.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function jr(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=pe.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)==0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)==128)?r.substr(1):r}function jw(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function N1(t){return pe.util.isNodejs&&typeof uu[t]=="function"}function L1(t){return typeof dr.globalScope!="undefined"&&typeof dr.globalScope.crypto=="object"&&typeof dr.globalScope.crypto.subtle=="object"&&typeof dr.globalScope.crypto.subtle[t]=="function"}function D1(t){return typeof dr.globalScope!="undefined"&&typeof dr.globalScope.msCrypto=="object"&&typeof dr.globalScope.msCrypto.subtle=="object"&&typeof dr.globalScope.msCrypto.subtle[t]=="function"}function O1(t){for(var e=pe.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}});var H1=C((_C,K1)=>{var J=Be();lo();Yi();Wp();fi();oo();eu();r1();Ji();p1();_o();$e();typeof F1=="undefined"&&(F1=J.jsbn.BigInteger);var F1,z=J.asn1,ve=J.pki=J.pki||{};K1.exports=ve.pbe=J.pbe=J.pbe||{};var hi=ve.oids,$w={name:"EncryptedPrivateKeyInfo",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:z.Class.UNIVERSAL,type:z.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:z.Class.UNIVERSAL,type:z.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},Yw={name:"PBES2Algorithms",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:z.Class.UNIVERSAL,type:z.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:z.Class.UNIVERSAL,type:z.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:z.Class.UNIVERSAL,type:z.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:z.Class.UNIVERSAL,type:z.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:z.Class.UNIVERSAL,type:z.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:z.Class.UNIVERSAL,type:z.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:z.Class.UNIVERSAL,type:z.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},Ww={name:"pkcs-12PbeParams",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:z.Class.UNIVERSAL,type:z.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:z.Class.UNIVERSAL,type:z.Type.INTEGER,constructed:!1,capture:"iterations"}]};ve.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=J.random.getBytesSync(r.saltSize),i=r.count,a=z.integerToDer(i),s,o,f;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,c,l;switch(r.algorithm){case"aes128":s=16,u=16,c=hi["aes128-CBC"],l=J.aes.createEncryptionCipher;break;case"aes192":s=24,u=16,c=hi["aes192-CBC"],l=J.aes.createEncryptionCipher;break;case"aes256":s=32,u=16,c=hi["aes256-CBC"],l=J.aes.createEncryptionCipher;break;case"des":s=8,u=8,c=hi.desCBC,l=J.des.createEncryptionCipher;break;default:var y=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw y.algorithm=r.algorithm,y}var b="hmacWith"+r.prfAlgorithm.toUpperCase(),g=U1(b),v=J.pkcs5.pbkdf2(e,n,i,s,g),E=J.random.getBytesSync(u),A=l(v);A.start(E),A.update(z.toDer(t)),A.finish(),f=A.output.getBytes();var P=Qw(n,a,s,b);o=z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.OID,!1,z.oidToDer(hi.pkcs5PBES2).getBytes()),z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.OID,!1,z.oidToDer(hi.pkcs5PBKDF2).getBytes()),P]),z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.OID,!1,z.oidToDer(c).getBytes()),z.create(z.Class.UNIVERSAL,z.Type.OCTETSTRING,!1,E)])])])}else if(r.algorithm==="3des"){s=24;var q=new J.util.ByteBuffer(n),v=ve.pbe.generatePkcs12Key(e,q,1,i,s),E=ve.pbe.generatePkcs12Key(e,q,2,i,s),A=J.des.createEncryptionCipher(v);A.start(E),A.update(z.toDer(t)),A.finish(),f=A.output.getBytes(),o=z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.OID,!1,z.oidToDer(hi["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.OCTETSTRING,!1,n),z.create(z.Class.UNIVERSAL,z.Type.INTEGER,!1,a.getBytes())])])}else{var y=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw y.algorithm=r.algorithm,y}var F=z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[o,z.create(z.Class.UNIVERSAL,z.Type.OCTETSTRING,!1,f)]);return F};ve.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!z.validate(t,$w,n,i)){var a=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var s=z.derToOid(n.encryptionOid),o=ve.pbe.getCipher(s,n.encryptionParams,e),f=J.util.createBuffer(n.encryptedData);return o.update(f),o.finish()&&(r=z.fromDer(o.output)),r};ve.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:z.toDer(t).getBytes()};return J.pem.encode(r,{maxline:e})};ve.encryptedPrivateKeyFromPem=function(t){var e=J.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return z.fromDer(e.body)};ve.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=ve.wrapRsaPrivateKey(ve.privateKeyToAsn1(t));return n=ve.encryptPrivateKeyInfo(n,e,r),ve.encryptedPrivateKeyToPem(n)}var i,a,s,o;switch(r.algorithm){case"aes128":i="AES-128-CBC",s=16,a=J.random.getBytesSync(16),o=J.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",s=24,a=J.random.getBytesSync(16),o=J.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",s=32,a=J.random.getBytesSync(16),o=J.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",s=24,a=J.random.getBytesSync(8),o=J.des.createEncryptionCipher;break;case"des":i="DES-CBC",s=8,a=J.random.getBytesSync(8),o=J.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw f.algorithm=r.algorithm,f}var u=J.pbe.opensslDeriveBytes(e,a.substr(0,8),s),c=o(u);c.start(a),c.update(z.toDer(ve.privateKeyToAsn1(t))),c.finish();var l={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:J.util.bytesToHex(a).toUpperCase()},body:c.output.getBytes()};return J.pem.encode(l)};ve.decryptRsaPrivateKey=function(t,e){var r=null,n=J.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var a,s;switch(n.dekInfo.algorithm){case"DES-CBC":a=8,s=J.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,s=J.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,s=J.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,s=J.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,s=J.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,s=function(l){return J.rc2.createDecryptionCipher(l,40)};break;case"RC2-64-CBC":a=8,s=function(l){return J.rc2.createDecryptionCipher(l,64)};break;case"RC2-128-CBC":a=16,s=function(l){return J.rc2.createDecryptionCipher(l,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var o=J.util.hexToBytes(n.dekInfo.parameters),f=J.pbe.opensslDeriveBytes(e,o.substr(0,8),a),u=s(f);if(u.start(o),u.update(J.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=ve.decryptPrivateKeyInfo(z.fromDer(r),e):r=z.fromDer(r),r!==null&&(r=ve.privateKeyFromAsn1(r)),r};ve.pbe.generatePkcs12Key=function(t,e,r,n,i,a){var s,o;if(typeof a=="undefined"||a===null){if(!("sha1"in J.md))throw new Error('"sha1" hash algorithm unavailable.');a=J.md.sha1.create()}var f=a.digestLength,u=a.blockLength,c=new J.util.ByteBuffer,l=new J.util.ByteBuffer;if(t!=null){for(o=0;o<t.length;o++)l.putInt16(t.charCodeAt(o));l.putInt16(0)}var y=l.length(),b=e.length(),g=new J.util.ByteBuffer;g.fillWithByte(r,u);var v=u*Math.ceil(b/u),E=new J.util.ByteBuffer;for(o=0;o<v;o++)E.putByte(e.at(o%b));var A=u*Math.ceil(y/u),P=new J.util.ByteBuffer;for(o=0;o<A;o++)P.putByte(l.at(o%y));var q=E;q.putBuffer(P);for(var F=Math.ceil(i/f),D=1;D<=F;D++){var O=new J.util.ByteBuffer;O.putBytes(g.bytes()),O.putBytes(q.bytes());for(var j=0;j<n;j++)a.start(),a.update(O.getBytes()),O=a.digest();var H=new J.util.ByteBuffer;for(o=0;o<u;o++)H.putByte(O.at(o%f));var ne=Math.ceil(b/u)+Math.ceil(y/u),B=new J.util.ByteBuffer;for(s=0;s<ne;s++){var h=new J.util.ByteBuffer(q.getBytes(u)),p=511;for(o=H.length()-1;o>=0;o--)p=p>>8,p+=H.at(o)+h.at(o),h.setAt(o,p&255);B.putBuffer(h)}q=B,c.putBuffer(O)}return c.truncate(c.length()-i),c};ve.pbe.getCipher=function(t,e,r){switch(t){case ve.oids.pkcs5PBES2:return ve.pbe.getCipherForPBES2(t,e,r);case ve.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case ve.oids["pbewithSHAAnd40BitRC2-CBC"]:return ve.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};ve.pbe.getCipherForPBES2=function(t,e,r){var n={},i=[];if(!z.validate(e,Yw,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}if(t=z.derToOid(n.kdfOid),t!==ve.oids.pkcs5PBKDF2){var a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw a.oid=t,a.supportedOids=["pkcs5PBKDF2"],a}if(t=z.derToOid(n.encOid),t!==ve.oids["aes128-CBC"]&&t!==ve.oids["aes192-CBC"]&&t!==ve.oids["aes256-CBC"]&&t!==ve.oids["des-EDE3-CBC"]&&t!==ve.oids.desCBC){var a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw a.oid=t,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a}var s=n.kdfSalt,o=J.util.createBuffer(n.kdfIterationCount);o=o.getInt(o.length()<<3);var f,u;switch(ve.oids[t]){case"aes128-CBC":f=16,u=J.aes.createDecryptionCipher;break;case"aes192-CBC":f=24,u=J.aes.createDecryptionCipher;break;case"aes256-CBC":f=32,u=J.aes.createDecryptionCipher;break;case"des-EDE3-CBC":f=24,u=J.des.createDecryptionCipher;break;case"desCBC":f=8,u=J.des.createDecryptionCipher;break}var c=z1(n.prfOid),l=J.pkcs5.pbkdf2(r,s,o,f,c),y=n.encIv,b=u(l);return b.start(y),b};ve.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!z.validate(e,Ww,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var s=J.util.createBuffer(n.salt),o=J.util.createBuffer(n.iterations);o=o.getInt(o.length()<<3);var f,u,c;switch(t){case ve.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:f=24,u=8,c=J.des.startDecrypting;break;case ve.oids["pbewithSHAAnd40BitRC2-CBC"]:f=5,u=8,c=function(v,E){var A=J.rc2.createDecryptionCipher(v,40);return A.start(E,null),A};break;default:var a=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw a.oid=t,a}var l=z1(n.prfOid),y=ve.pbe.generatePkcs12Key(r,s,1,o,f,l);l.start();var b=ve.pbe.generatePkcs12Key(r,s,2,o,u,l);return c(y,b)};ve.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n=="undefined"||n===null){if(!("md5"in J.md))throw new Error('"md5" hash algorithm unavailable.');n=J.md.md5.create()}e===null&&(e="");for(var i=[V1(n,t+e)],a=16,s=1;a<r;++s,a+=16)i.push(V1(n,i[s-1]+t+e));return i.join("").substr(0,r)};function V1(t,e){return t.start().update(e).digest().getBytes()}function z1(t){var e;if(!t)e="hmacWithSHA1";else if(e=ve.oids[z.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return U1(e)}function U1(t){var e=J.md;switch(t){case"hmacWithSHA224":e=J.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function Qw(t,e,r,n){var i=z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.OCTETSTRING,!1,t),z.create(z.Class.UNIVERSAL,z.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(z.create(z.Class.UNIVERSAL,z.Type.INTEGER,!1,J.util.hexToBytes(r.toString(16))),z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.OID,!1,z.oidToDer(ve.oids[n]).getBytes()),z.create(z.Class.UNIVERSAL,z.Type.NULL,!1,"")])),i}});var On=C((SC,j1)=>{"use strict";function Jw(t,e){e||(e=t.reduce((i,a)=>i+a.length,0));let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}j1.exports=Jw});var ts=C(G1=>{"use strict";G1.get=(t=self)=>{let e=t.crypto||t.msCrypto;if(!e||!e.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}});var cu=C((BC,$1)=>{"use strict";var Zw=On(),Y1=fr(),Xw=ts();function e7({algorithm:t="AES-GCM",nonceLength:e=12,keyLength:r=16,digest:n="SHA-256",saltLength:i=16,iterations:a=32767}={}){let s=Xw.get();r*=8;async function o(u,c){let l=s.getRandomValues(new Uint8Array(i)),y=s.getRandomValues(new Uint8Array(e)),b={name:t,iv:y},g={name:"PBKDF2",salt:l,iterations:a,hash:{name:n}},v=await s.subtle.importKey("raw",Y1(c),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),E=await s.subtle.deriveKey(g,v,{name:t,length:r},!0,["encrypt"]),A=await s.subtle.encrypt(b,E,u);return Zw([l,b.iv,new Uint8Array(A)])}async function f(u,c){let l=u.slice(0,i),y=u.slice(i,i+e),b=u.slice(i+e),g={name:t,iv:y},v={name:"PBKDF2",salt:l,iterations:a,hash:{name:n}},E=await s.subtle.importKey("raw",Y1(c),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),A=await s.subtle.deriveKey(v,E,{name:t,length:r},!0,["decrypt"]),P=await s.subtle.decrypt(g,A,b);return new Uint8Array(P)}return{encrypt:o,decrypt:f}}$1.exports={create:e7}});var Q1=C((IC,W1)=>{"use strict";var t7=Oa(),r7=cu();W1.exports={import:async function(t,e){let n=t7.names.base64.decode(t);return await r7.create().decrypt(n,e)}}});var du=C((CC,J1)=>{var Ue=Be();fi();$e();var rs=J1.exports=Ue.sha512=Ue.sha512||{};Ue.md.sha512=Ue.md.algorithms.sha512=rs;var Z1=Ue.sha384=Ue.sha512.sha384=Ue.sha512.sha384||{};Z1.create=function(){return rs.create("SHA-384")};Ue.md.sha384=Ue.md.algorithms.sha384=Z1;Ue.sha512.sha256=Ue.sha512.sha256||{create:function(){return rs.create("SHA-512/256")}};Ue.md["sha512/256"]=Ue.md.algorithms["sha512/256"]=Ue.sha512.sha256;Ue.sha512.sha224=Ue.sha512.sha224||{create:function(){return rs.create("SHA-512/224")}};Ue.md["sha512/224"]=Ue.md.algorithms["sha512/224"]=Ue.sha512.sha224;rs.create=function(t){if(X1||n7(),typeof t=="undefined"&&(t="SHA-512"),!(t in li))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=li[t],r=null,n=Ue.util.createBuffer(),i=new Array(80),a=0;a<80;++a)i[a]=new Array(2);var s=64;switch(t){case"SHA-384":s=48;break;case"SHA-512/256":s=32;break;case"SHA-512/224":s=28;break}var o={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:s,messageLength:0,fullMessageLength:null,messageLengthSize:16};return o.start=function(){o.messageLength=0,o.fullMessageLength=o.messageLength128=[];for(var f=o.messageLengthSize/4,u=0;u<f;++u)o.fullMessageLength.push(0);n=Ue.util.createBuffer(),r=new Array(e.length);for(var u=0;u<e.length;++u)r[u]=e[u].slice(0);return o},o.start(),o.update=function(f,u){u==="utf8"&&(f=Ue.util.encodeUtf8(f));var c=f.length;o.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var l=o.fullMessageLength.length-1;l>=0;--l)o.fullMessageLength[l]+=c[1],c[1]=c[0]+(o.fullMessageLength[l]/4294967296>>>0),o.fullMessageLength[l]=o.fullMessageLength[l]>>>0,c[0]=c[1]/4294967296>>>0;return n.putBytes(f),ey(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),o},o.digest=function(){var f=Ue.util.createBuffer();f.putBytes(n.bytes());var u=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize,c=u&o.blockLength-1;f.putBytes(hu.substr(0,o.blockLength-c));for(var l,y,b=o.fullMessageLength[0]*8,g=0;g<o.fullMessageLength.length-1;++g)l=o.fullMessageLength[g+1]*8,y=l/4294967296>>>0,b+=y,f.putInt32(b>>>0),b=l>>>0;f.putInt32(b);for(var v=new Array(r.length),g=0;g<r.length;++g)v[g]=r[g].slice(0);ey(v,i,f);var E=Ue.util.createBuffer(),A;t==="SHA-512"?A=v.length:t==="SHA-384"?A=v.length-2:A=v.length-4;for(var g=0;g<A;++g)E.putInt32(v[g][0]),(g!==A-1||t!=="SHA-512/224")&&E.putInt32(v[g][1]);return E},o};var hu=null,X1=!1,lu=null,li=null;function n7(){hu=String.fromCharCode(128),hu+=Ue.util.fillString(String.fromCharCode(0),128),lu=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],li={},li["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],li["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],li["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],li["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],X1=!0}function ey(t,e,r){for(var n,i,a,s,o,f,u,c,l,y,b,g,v,E,A,P,q,F,D,O,j,H,ne,B,h,p,m,x,w,T,I,_,d,S,$,Y=r.length();Y>=128;){for(w=0;w<16;++w)e[w][0]=r.getInt32()>>>0,e[w][1]=r.getInt32()>>>0;for(;w<80;++w)_=e[w-2],T=_[0],I=_[1],n=((T>>>19|I<<13)^(I>>>29|T<<3)^T>>>6)>>>0,i=((T<<13|I>>>19)^(I<<3|T>>>29)^(T<<26|I>>>6))>>>0,S=e[w-15],T=S[0],I=S[1],a=((T>>>1|I<<31)^(T>>>8|I<<24)^T>>>7)>>>0,s=((T<<31|I>>>1)^(T<<24|I>>>8)^(T<<25|I>>>7))>>>0,d=e[w-7],$=e[w-16],I=i+d[1]+s+$[1],e[w][0]=n+d[0]+a+$[0]+(I/4294967296>>>0)>>>0,e[w][1]=I>>>0;for(v=t[0][0],E=t[0][1],A=t[1][0],P=t[1][1],q=t[2][0],F=t[2][1],D=t[3][0],O=t[3][1],j=t[4][0],H=t[4][1],ne=t[5][0],B=t[5][1],h=t[6][0],p=t[6][1],m=t[7][0],x=t[7][1],w=0;w<80;++w)u=((j>>>14|H<<18)^(j>>>18|H<<14)^(H>>>9|j<<23))>>>0,c=((j<<18|H>>>14)^(j<<14|H>>>18)^(H<<23|j>>>9))>>>0,l=(h^j&(ne^h))>>>0,y=(p^H&(B^p))>>>0,o=((v>>>28|E<<4)^(E>>>2|v<<30)^(E>>>7|v<<25))>>>0,f=((v<<4|E>>>28)^(E<<30|v>>>2)^(E<<25|v>>>7))>>>0,b=(v&A|q&(v^A))>>>0,g=(E&P|F&(E^P))>>>0,I=x+c+y+lu[w][1]+e[w][1],n=m+u+l+lu[w][0]+e[w][0]+(I/4294967296>>>0)>>>0,i=I>>>0,I=f+g,a=o+b+(I/4294967296>>>0)>>>0,s=I>>>0,m=h,x=p,h=ne,p=B,ne=j,B=H,I=O+i,j=D+n+(I/4294967296>>>0)>>>0,H=I>>>0,D=q,O=F,q=A,F=P,A=v,P=E,I=i+s,v=n+a+(I/4294967296>>>0)>>>0,E=I>>>0;I=t[0][1]+E,t[0][0]=t[0][0]+v+(I/4294967296>>>0)>>>0,t[0][1]=I>>>0,I=t[1][1]+P,t[1][0]=t[1][0]+A+(I/4294967296>>>0)>>>0,t[1][1]=I>>>0,I=t[2][1]+F,t[2][0]=t[2][0]+q+(I/4294967296>>>0)>>>0,t[2][1]=I>>>0,I=t[3][1]+O,t[3][0]=t[3][0]+D+(I/4294967296>>>0)>>>0,t[3][1]=I>>>0,I=t[4][1]+H,t[4][0]=t[4][0]+j+(I/4294967296>>>0)>>>0,t[4][1]=I>>>0,I=t[5][1]+B,t[5][0]=t[5][0]+ne+(I/4294967296>>>0)>>>0,t[5][1]=I>>>0,I=t[6][1]+p,t[6][0]=t[6][0]+h+(I/4294967296>>>0)>>>0,t[6][1]=I>>>0,I=t[7][1]+x,t[7][0]=t[7][0]+m+(I/4294967296>>>0)>>>0,t[7][1]=I>>>0,Y-=128}}});var ty=C(pu=>{var i7=Be();Yi();var Ct=i7.asn1;pu.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Ct.Class.UNIVERSAL,type:Ct.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Ct.Class.UNIVERSAL,type:Ct.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Ct.Class.UNIVERSAL,type:Ct.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Ct.Class.UNIVERSAL,type:Ct.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Ct.Class.UNIVERSAL,type:Ct.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};pu.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Ct.Class.UNIVERSAL,type:Ct.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Ct.Class.UNIVERSAL,type:Ct.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Ct.Class.UNIVERSAL,type:Ct.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Ct.Class.UNIVERSAL,type:Ct.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var _u=C((PC,ry)=>{var kt=Be();es();Ji();du();$e();var ny=ty(),a7=ny.publicKeyValidator,s7=ny.privateKeyValidator;typeof iy=="undefined"&&(iy=kt.jsbn.BigInteger);var iy,yu=kt.util.ByteBuffer,Jt=typeof Buffer=="undefined"?Uint8Array:Buffer;kt.pki=kt.pki||{};ry.exports=kt.pki.ed25519=kt.ed25519=kt.ed25519||{};var xe=kt.ed25519;xe.constants={};xe.constants.PUBLIC_KEY_BYTE_LENGTH=32;xe.constants.PRIVATE_KEY_BYTE_LENGTH=64;xe.constants.SEED_BYTE_LENGTH=32;xe.constants.SIGN_BYTE_LENGTH=64;xe.constants.HASH_BYTE_LENGTH=64;xe.generateKeyPair=function(t){t=t||{};var e=t.seed;if(e===void 0)e=kt.random.getBytesSync(xe.constants.SEED_BYTE_LENGTH);else if(typeof e=="string"){if(e.length!==xe.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+xe.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=bn({message:e,encoding:"binary"});for(var r=new Jt(xe.constants.PUBLIC_KEY_BYTE_LENGTH),n=new Jt(xe.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=e[i];return o7(r,n),{publicKey:r,privateKey:n}};xe.privateKeyFromAsn1=function(t){var e={},r=[],n=kt.asn1.validate(t,s7,e,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var a=kt.asn1.derToOid(e.privateKeyOid),s=kt.oids.EdDSA25519;if(a!==s)throw new Error('Invalid OID "'+a+'"; OID must be "'+s+'".');var o=e.privateKey,f=bn({message:kt.asn1.fromDer(o).value,encoding:"binary"});return{privateKeyBytes:f}};xe.publicKeyFromAsn1=function(t){var e={},r=[],n=kt.asn1.validate(t,a7,e,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var a=kt.asn1.derToOid(e.publicKeyOid),s=kt.oids.EdDSA25519;if(a!==s)throw new Error('Invalid OID "'+a+'"; OID must be "'+s+'".');var o=e.ed25519PublicKey;if(o.length!==xe.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return bn({message:o,encoding:"binary"})};xe.publicKeyFromPrivateKey=function(t){t=t||{};var e=bn({message:t.privateKey,encoding:"binary"});if(e.length!==xe.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+xe.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Jt(xe.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=e[32+n];return r};xe.sign=function(t){t=t||{};var e=bn(t),r=bn({message:t.privateKey,encoding:"binary"});if(r.length===xe.constants.SEED_BYTE_LENGTH){var n=xe.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==xe.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+xe.constants.SEED_BYTE_LENGTH+" or "+xe.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new Jt(xe.constants.SIGN_BYTE_LENGTH+e.length);f7(i,e,e.length,r);for(var a=new Jt(xe.constants.SIGN_BYTE_LENGTH),s=0;s<a.length;++s)a[s]=i[s];return a};xe.verify=function(t){t=t||{};var e=bn(t);if(t.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=bn({message:t.signature,encoding:"binary"});if(r.length!==xe.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+xe.constants.SIGN_BYTE_LENGTH);var n=bn({message:t.publicKey,encoding:"binary"});if(n.length!==xe.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+xe.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new Jt(xe.constants.SIGN_BYTE_LENGTH+e.length),a=new Jt(xe.constants.SIGN_BYTE_LENGTH+e.length),s;for(s=0;s<xe.constants.SIGN_BYTE_LENGTH;++s)i[s]=r[s];for(s=0;s<e.length;++s)i[s+xe.constants.SIGN_BYTE_LENGTH]=e[s];return u7(a,i,i.length,n)>=0};function bn(t){var e=t.message;if(e instanceof Uint8Array||e instanceof Jt)return e;var r=t.encoding;if(e===void 0)if(t.md)e=t.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof e=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof e=="string"){if(typeof Buffer!="undefined")return Buffer.from(e,r);e=new yu(e,r)}else if(!(e instanceof yu))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new Jt(e.length()),i=0;i<n.length;++i)n[i]=e.at(i);return n}var bu=se(),So=se([1]),c7=se([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h7=se([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),ay=se([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),sy=se([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),vu=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),l7=se([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ns(t,e){var r=kt.md.sha512.create(),n=new yu(t);r.update(n.getBytes(e),"binary");var i=r.digest().getBytes();if(typeof Buffer!="undefined")return Buffer.from(i,"binary");for(var a=new Jt(xe.constants.HASH_BYTE_LENGTH),s=0;s<64;++s)a[s]=i.charCodeAt(s);return a}function o7(t,e){var r=[se(),se(),se(),se()],n,i=ns(e,32);for(i[0]&=248,i[31]&=127,i[31]|=64,mu(r,i),gu(t,r),n=0;n<32;++n)e[n+32]=t[n];return 0}function f7(t,e,r,n){var i,a,s=new Float64Array(64),o=[se(),se(),se(),se()],f=ns(n,32);f[0]&=248,f[31]&=127,f[31]|=64;var u=r+64;for(i=0;i<r;++i)t[64+i]=e[i];for(i=0;i<32;++i)t[32+i]=f[32+i];var c=ns(t.subarray(32),r+32);for(xu(c),mu(o,c),gu(t,o),i=32;i<64;++i)t[i]=n[i];var l=ns(t,r+64);for(xu(l),i=32;i<64;++i)s[i]=0;for(i=0;i<32;++i)s[i]=c[i];for(i=0;i<32;++i)for(a=0;a<32;a++)s[i+a]+=l[i]*f[a];return oy(t.subarray(32),s),u}function u7(t,e,r,n){var i,a,s=new Jt(32),o=[se(),se(),se(),se()],f=[se(),se(),se(),se()];if(a=-1,r<64||d7(f,n))return-1;for(i=0;i<r;++i)t[i]=e[i];for(i=0;i<32;++i)t[i+32]=n[i];var u=ns(t,r);if(xu(u),uy(o,f,u),mu(f,e.subarray(32)),wu(o,f),gu(s,o),r-=64,fy(e,0,s,0)){for(i=0;i<r;++i)t[i]=0;return-1}for(i=0;i<r;++i)t[i]=e[i+64];return a=r,a}function oy(t,e){var r,n,i,a;for(n=63;n>=32;--n){for(r=0,i=n-32,a=n-12;i<a;++i)e[i]+=r-16*e[n]*vu[i-(n-32)],r=e[i]+128>>8,e[i]-=r*256;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;++i)e[i]+=r-(e[31]>>4)*vu[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;++i)e[i]-=r*vu[i];for(n=0;n<32;++n)e[n+1]+=e[n]>>8,t[n]=e[n]&255}function xu(t){for(var e=new Float64Array(64),r=0;r<64;++r)e[r]=t[r],t[r]=0;oy(t,e)}function wu(t,e){var r=se(),n=se(),i=se(),a=se(),s=se(),o=se(),f=se(),u=se(),c=se();ta(r,t[1],t[0]),ta(c,e[1],e[0]),ke(r,r,c),ea(n,t[0],t[1]),ea(c,e[0],e[1]),ke(n,n,c),ke(i,t[3],e[3]),ke(i,i,h7),ke(a,t[2],e[2]),ea(a,a,a),ta(s,n,r),ta(o,a,i),ea(f,a,i),ea(u,n,r),ke(t[0],s,o),ke(t[1],u,f),ke(t[2],f,o),ke(t[3],s,u)}function hy(t,e,r){for(var n=0;n<4;++n)cy(t[n],e[n],r)}function gu(t,e){var r=se(),n=se(),i=se();p7(i,e[2]),ke(r,e[0],i),ke(n,e[1],i),Ao(t,n),t[31]^=ly(r)<<7}function Ao(t,e){var r,n,i,a=se(),s=se();for(r=0;r<16;++r)s[r]=e[r];for(Eu(s),Eu(s),Eu(s),n=0;n<2;++n){for(a[0]=s[0]-65517,r=1;r<15;++r)a[r]=s[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),i=a[15]>>16&1,a[14]&=65535,cy(s,a,1-i)}for(r=0;r<16;r++)t[2*r]=s[r]&255,t[2*r+1]=s[r]>>8}function d7(t,e){var r=se(),n=se(),i=se(),a=se(),s=se(),o=se(),f=se();return Kn(t[2],So),y7(t[1],e),di(i,t[1]),ke(a,i,c7),ta(i,i,t[2]),ea(a,t[2],a),di(s,a),di(o,s),ke(f,o,s),ke(r,f,i),ke(r,r,a),b7(r,r),ke(r,r,i),ke(r,r,a),ke(r,r,a),ke(t[0],r,a),di(n,t[0]),ke(n,n,a),dy(n,i)&&ke(t[0],t[0],l7),di(n,t[0]),ke(n,n,a),dy(n,i)?-1:(ly(t[0])===e[31]>>7&&ta(t[0],bu,t[0]),ke(t[3],t[0],t[1]),0)}function y7(t,e){var r;for(r=0;r<16;++r)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function b7(t,e){var r=se(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=250;n>=0;--n)di(r,r),n!==1&&ke(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}function dy(t,e){var r=new Jt(32),n=new Jt(32);return Ao(r,t),Ao(n,e),fy(r,0,n,0)}function fy(t,e,r,n){return v7(t,e,r,n,32)}function v7(t,e,r,n,i){var a,s=0;for(a=0;a<i;++a)s|=t[e+a]^r[n+a];return(1&s-1>>>8)-1}function ly(t){var e=new Jt(32);return Ao(e,t),e[0]&1}function uy(t,e,r){var n,i;for(Kn(t[0],bu),Kn(t[1],So),Kn(t[2],So),Kn(t[3],bu),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,hy(t,e,n),wu(e,t),wu(t,t),hy(t,e,n)}function mu(t,e){var r=[se(),se(),se(),se()];Kn(r[0],ay),Kn(r[1],sy),Kn(r[2],So),ke(r[3],ay,sy),uy(t,r,e)}function Kn(t,e){var r;for(r=0;r<16;r++)t[r]=e[r]|0}function p7(t,e){var r=se(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=253;n>=0;--n)di(r,r),n!==2&&n!==4&&ke(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}function Eu(t){var e,r,n=1;for(e=0;e<16;++e)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-n*65536;t[0]+=n-1+37*(n-1)}function cy(t,e,r){for(var n,i=~(r-1),a=0;a<16;++a)n=i&(t[a]^e[a]),t[a]^=n,e[a]^=n}function se(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;++e)r[e]=t[e];return r}function ea(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]+r[n]}function ta(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]-r[n]}function di(t,e){ke(t,e,e)}function ke(t,e,r){var n,i,a=0,s=0,o=0,f=0,u=0,c=0,l=0,y=0,b=0,g=0,v=0,E=0,A=0,P=0,q=0,F=0,D=0,O=0,j=0,H=0,ne=0,B=0,h=0,p=0,m=0,x=0,w=0,T=0,I=0,_=0,d=0,S=r[0],$=r[1],Y=r[2],W=r[3],X=r[4],oe=r[5],he=r[6],Pe=r[7],le=r[8],ce=r[9],je=r[10],ge=r[11],R=r[12],L=r[13],N=r[14],K=r[15];n=e[0],a+=n*S,s+=n*$,o+=n*Y,f+=n*W,u+=n*X,c+=n*oe,l+=n*he,y+=n*Pe,b+=n*le,g+=n*ce,v+=n*je,E+=n*ge,A+=n*R,P+=n*L,q+=n*N,F+=n*K,n=e[1],s+=n*S,o+=n*$,f+=n*Y,u+=n*W,c+=n*X,l+=n*oe,y+=n*he,b+=n*Pe,g+=n*le,v+=n*ce,E+=n*je,A+=n*ge,P+=n*R,q+=n*L,F+=n*N,D+=n*K,n=e[2],o+=n*S,f+=n*$,u+=n*Y,c+=n*W,l+=n*X,y+=n*oe,b+=n*he,g+=n*Pe,v+=n*le,E+=n*ce,A+=n*je,P+=n*ge,q+=n*R,F+=n*L,D+=n*N,O+=n*K,n=e[3],f+=n*S,u+=n*$,c+=n*Y,l+=n*W,y+=n*X,b+=n*oe,g+=n*he,v+=n*Pe,E+=n*le,A+=n*ce,P+=n*je,q+=n*ge,F+=n*R,D+=n*L,O+=n*N,j+=n*K,n=e[4],u+=n*S,c+=n*$,l+=n*Y,y+=n*W,b+=n*X,g+=n*oe,v+=n*he,E+=n*Pe,A+=n*le,P+=n*ce,q+=n*je,F+=n*ge,D+=n*R,O+=n*L,j+=n*N,H+=n*K,n=e[5],c+=n*S,l+=n*$,y+=n*Y,b+=n*W,g+=n*X,v+=n*oe,E+=n*he,A+=n*Pe,P+=n*le,q+=n*ce,F+=n*je,D+=n*ge,O+=n*R,j+=n*L,H+=n*N,ne+=n*K,n=e[6],l+=n*S,y+=n*$,b+=n*Y,g+=n*W,v+=n*X,E+=n*oe,A+=n*he,P+=n*Pe,q+=n*le,F+=n*ce,D+=n*je,O+=n*ge,j+=n*R,H+=n*L,ne+=n*N,B+=n*K,n=e[7],y+=n*S,b+=n*$,g+=n*Y,v+=n*W,E+=n*X,A+=n*oe,P+=n*he,q+=n*Pe,F+=n*le,D+=n*ce,O+=n*je,j+=n*ge,H+=n*R,ne+=n*L,B+=n*N,h+=n*K,n=e[8],b+=n*S,g+=n*$,v+=n*Y,E+=n*W,A+=n*X,P+=n*oe,q+=n*he,F+=n*Pe,D+=n*le,O+=n*ce,j+=n*je,H+=n*ge,ne+=n*R,B+=n*L,h+=n*N,p+=n*K,n=e[9],g+=n*S,v+=n*$,E+=n*Y,A+=n*W,P+=n*X,q+=n*oe,F+=n*he,D+=n*Pe,O+=n*le,j+=n*ce,H+=n*je,ne+=n*ge,B+=n*R,h+=n*L,p+=n*N,m+=n*K,n=e[10],v+=n*S,E+=n*$,A+=n*Y,P+=n*W,q+=n*X,F+=n*oe,D+=n*he,O+=n*Pe,j+=n*le,H+=n*ce,ne+=n*je,B+=n*ge,h+=n*R,p+=n*L,m+=n*N,x+=n*K,n=e[11],E+=n*S,A+=n*$,P+=n*Y,q+=n*W,F+=n*X,D+=n*oe,O+=n*he,j+=n*Pe,H+=n*le,ne+=n*ce,B+=n*je,h+=n*ge,p+=n*R,m+=n*L,x+=n*N,w+=n*K,n=e[12],A+=n*S,P+=n*$,q+=n*Y,F+=n*W,D+=n*X,O+=n*oe,j+=n*he,H+=n*Pe,ne+=n*le,B+=n*ce,h+=n*je,p+=n*ge,m+=n*R,x+=n*L,w+=n*N,T+=n*K,n=e[13],P+=n*S,q+=n*$,F+=n*Y,D+=n*W,O+=n*X,j+=n*oe,H+=n*he,ne+=n*Pe,B+=n*le,h+=n*ce,p+=n*je,m+=n*ge,x+=n*R,w+=n*L,T+=n*N,I+=n*K,n=e[14],q+=n*S,F+=n*$,D+=n*Y,O+=n*W,j+=n*X,H+=n*oe,ne+=n*he,B+=n*Pe,h+=n*le,p+=n*ce,m+=n*je,x+=n*ge,w+=n*R,T+=n*L,I+=n*N,_+=n*K,n=e[15],F+=n*S,D+=n*$,O+=n*Y,j+=n*W,H+=n*X,ne+=n*oe,B+=n*he,h+=n*Pe,p+=n*le,m+=n*ce,x+=n*je,w+=n*ge,T+=n*R,I+=n*L,_+=n*N,d+=n*K,a+=38*D,s+=38*O,o+=38*j,f+=38*H,u+=38*ne,c+=38*B,l+=38*h,y+=38*p,b+=38*m,g+=38*x,v+=38*w,E+=38*T,A+=38*I,P+=38*_,q+=38*d,i=1,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=q+i+65535,i=Math.floor(n/65536),q=n-i*65536,n=F+i+65535,i=Math.floor(n/65536),F=n-i*65536,a+=i-1+37*(i-1),i=1,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=q+i+65535,i=Math.floor(n/65536),q=n-i*65536,n=F+i+65535,i=Math.floor(n/65536),F=n-i*65536,a+=i-1+37*(i-1),t[0]=a,t[1]=s,t[2]=o,t[3]=f,t[4]=u,t[5]=c,t[6]=l,t[7]=y,t[8]=b,t[9]=g,t[10]=v,t[11]=E,t[12]=A,t[13]=P,t[14]=q,t[15]=F}});var yy=C((MC,py)=>{"use strict";var Bo=65536;function g7(t){let e=new Uint8Array(t),r=0;if(t>0)if(t>Bo)for(;r<t;)r+Bo>t?(crypto.getRandomValues(e.subarray(r,r+(t-r))),r+=t-r):(crypto.getRandomValues(e.subarray(r,r+Bo)),r+=Bo);else crypto.getRandomValues(e);return e}py.exports=g7});var Io=C((RC,by)=>{"use strict";var m7=yy(),x7=qe();by.exports=function(t){if(isNaN(t)||t<=0)throw x7(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return m7(t)}});var Co=C(is=>{"use strict";$e();es();var w7=Be(),E7=fr(),vy=Je(),gy=On();is.bigIntegerToUintBase64url=(t,e)=>{let r=Uint8Array.from(t.abs().toByteArray());if(r=r[0]===0?r.slice(1):r,e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=gy([new Uint8Array(e-r.length),r])}return vy(r,"base64url")};is.base64urlToBigInteger=t=>{let e=is.base64urlToBuffer(t);return new w7.jsbn.BigInteger(vy(e,"base16"),16)};is.base64urlToBuffer=(t,e)=>{let r=E7(t,"base64urlpad");if(e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=gy([new Uint8Array(e-r.length),r])}return r}});var wy=C(as=>{"use strict";Yi();_o();var Fn=Be(),{bigIntegerToUintBase64url:Gr,base64urlToBigInteger:$r}=Co(),my=fr(),xy=Je();as.pkcs1ToJwk=function(t){let e=Fn.asn1.fromDer(xy(t,"ascii")),r=Fn.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:Gr(r.n),e:Gr(r.e),d:Gr(r.d),p:Gr(r.p),q:Gr(r.q),dp:Gr(r.dP),dq:Gr(r.dQ),qi:Gr(r.qInv),alg:"RS256",kid:"2011-04-29"}};as.jwkToPkcs1=function(t){let e=Fn.pki.privateKeyToAsn1({n:$r(t.n),e:$r(t.e),d:$r(t.d),p:$r(t.p),q:$r(t.q),dP:$r(t.dp),dQ:$r(t.dq),qInv:$r(t.qi)});return my(Fn.asn1.toDer(e).getBytes(),"ascii")};as.pkixToJwk=function(t){let e=Fn.asn1.fromDer(xy(t,"ascii")),r=Fn.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:Gr(r.n),e:Gr(r.e),alg:"RS256",kid:"2011-04-29"}};as.jwkToPkix=function(t){let e=Fn.pki.publicKeyToAsn1({n:$r(t.n),e:$r(t.e)});return my(Fn.asn1.toDer(e).getBytes(),"ascii")}});var Ay=C((NC,Ey)=>{"use strict";_o();var _y=Be(),{base64urlToBigInteger:_7}=Co();function Sy(t,e){return e.map(r=>_7(t[r]))}function S7(t){return _y.pki.setRsaPrivateKey(...Sy(t,["n","e","d","p","q","dp","dq","qi"]))}function A7(t){return _y.pki.setRsaPublicKey(...Sy(t,["n","e"]))}Ey.exports={jwk2pub:A7,jwk2priv:S7}});var Cy=C(vn=>{"use strict";var gn=ts(),B7=Io(),I7=Je(),C7=fr();vn.utils=wy();vn.generateKey=async function(t){let e=await gn.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await By(e);return{privateKey:r[0],publicKey:r[1]}};vn.unmarshalPrivateKey=async function(t){let r=[await gn.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await T7(t)],n=await By({privateKey:r[0],publicKey:r[1]});return{privateKey:n[0],publicKey:n[1]}};vn.getRandomValues=B7;vn.hashAndSign=async function(t,e){let r=await gn.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),n=await gn.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(e));return new Uint8Array(n,n.byteOffset,n.byteLength)};vn.hashAndVerify=async function(t,e,r){let n=await gn.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return gn.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},n,e,r)};function By(t){return Promise.all([gn.get().subtle.exportKey("jwk",t.privateKey),gn.get().subtle.exportKey("jwk",t.publicKey)])}function T7(t){return gn.get().subtle.importKey("jwk",{kty:t.kty,n:t.n,e:t.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}var{jwk2pub:P7,jwk2priv:M7}=Ay();function Iy(t,e,r,n){let i=e?P7(t):M7(t),a=I7(Uint8Array.from(r),"ascii"),s=n(a,i);return C7(s,"ascii")}vn.encrypt=function(t,e){return Iy(t,!0,e,(r,n)=>n.encrypt(r))};vn.decrypt=function(t,e){return Iy(t,!1,e,(r,n)=>n.decrypt(r))}});var To=C((DC,Ty)=>{"use strict";var R7=Oa(),q7=cu();Ty.exports={export:async function(t,e){let n=await q7.create().encrypt(t,e);return R7.names.base64.encode(n)}}});var ky=C((OC,Py)=>{"use strict";var{sha256:My}=(Tn(),Cn),Ry=qe(),qy=or(),k7=Je();du();_u();var Po=Be(),pr=Cy(),Mo=io(),N7=To(),Ro=class{constructor(e){this._key=e}async verify(e,r){return pr.hashAndVerify(this._key,r,e)}marshal(){return pr.utils.jwkToPkix(this._key)}get bytes(){return Mo.PublicKey.encode({Type:Mo.KeyType.RSA,Data:this.marshal()}).finish()}encrypt(e){return pr.encrypt(this._key,e)}equals(e){return qy(this.bytes,e.bytes)}async hash(){let{bytes:e}=await My.digest(this.bytes);return e}},ss=class{constructor(e,r){this._key=e,this._publicKey=r}genSecret(){return pr.getRandomValues(16)}async sign(e){return pr.hashAndSign(this._key,e)}get public(){if(!this._publicKey)throw Ry(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new Ro(this._publicKey)}decrypt(e){return pr.decrypt(this._key,e)}marshal(){return pr.utils.jwkToPkcs1(this._key)}get bytes(){return Mo.PrivateKey.encode({Type:Mo.KeyType.RSA,Data:this.marshal()}).finish()}equals(e){return qy(this.bytes,e.bytes)}async hash(){let{bytes:e}=await My.digest(this.bytes);return e}async id(){let e=await this.public.hash();return k7(e,"base58btc")}async export(e,r="pkcs-8"){if(r==="pkcs-8"){let n=new Po.util.ByteBuffer(this.marshal()),i=Po.asn1.fromDer(n),a=Po.pki.privateKeyFromAsn1(i),s={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return Po.pki.encryptRsaPrivateKey(a,e,s)}else{if(r==="libp2p-key")return N7.export(this.bytes,e);throw Ry(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}};async function L7(t){let e=pr.utils.pkcs1ToJwk(t),r=await pr.unmarshalPrivateKey(e);return new ss(r.privateKey,r.publicKey)}function D7(t){let e=pr.utils.pkixToJwk(t);return new Ro(e)}async function O7(t){let e=await pr.unmarshalPrivateKey(t);return new ss(e.privateKey,e.publicKey)}async function K7(t){let e=await pr.generateKey(t);return new ss(e.privateKey,e.publicKey)}Py.exports={RsaPublicKey:Ro,RsaPrivateKey:ss,unmarshalRsaPublicKey:D7,unmarshalRsaPrivateKey:L7,generateKeyPair:K7,fromJwk:O7}});var Su={};_n(Su,{identity:()=>F7});var F7,Au=zt(()=>{g0();Mi();F7=Va({name:"identity",code:0,encode:t=>In(t)})});var Ny=C(pi=>{"use strict";_u();var ra=Be();pi.publicKeyLength=ra.pki.ed25519.constants.PUBLIC_KEY_BYTE_LENGTH;pi.privateKeyLength=ra.pki.ed25519.constants.PRIVATE_KEY_BYTE_LENGTH;pi.generateKey=async function(){return ra.pki.ed25519.generateKeyPair()};pi.generateKeyFromSeed=async function(t){return ra.pki.ed25519.generateKeyPair({seed:t})};pi.hashAndSign=async function(t,e){return ra.pki.ed25519.sign({message:e,privateKey:t})};pi.hashAndVerify=async function(t,e,r){return ra.pki.ed25519.verify({signature:e,message:r,publicKey:t})}});var Fy=C((zC,Ly)=>{"use strict";var Dy=qe(),Oy=or(),{sha256:Ky}=(Tn(),Cn),{base58btc:U7}=(Rn(),ai),{identity:z7}=(Au(),Su),Kt=Ny(),qo=io(),V7=To(),ko=class{constructor(e){this._key=na(e,Kt.publicKeyLength)}async verify(e,r){return Kt.hashAndVerify(this._key,r,e)}marshal(){return this._key}get bytes(){return qo.PublicKey.encode({Type:qo.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return Oy(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Ky.digest(this.bytes);return e}},ia=class{constructor(e,r){this._key=na(e,Kt.privateKeyLength),this._publicKey=na(r,Kt.publicKeyLength)}async sign(e){return Kt.hashAndSign(this._key,e)}get public(){return new ko(this._publicKey)}marshal(){return this._key}get bytes(){return qo.PrivateKey.encode({Type:qo.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return Oy(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Ky.digest(this.bytes);return e}async id(){let e=await z7.digest(this.public.bytes);return U7.encode(e.bytes).substring(1)}async export(e,r="libp2p-key"){if(r==="libp2p-key")return V7.export(this.bytes,e);throw Dy(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function H7(t){if(t.length>Kt.privateKeyLength){t=na(t,Kt.privateKeyLength+Kt.publicKeyLength);let n=t.slice(0,Kt.privateKeyLength),i=t.slice(Kt.privateKeyLength,t.length);return new ia(n,i)}t=na(t,Kt.privateKeyLength);let e=t.slice(0,Kt.privateKeyLength),r=t.slice(Kt.publicKeyLength);return new ia(e,r)}function j7(t){return t=na(t,Kt.publicKeyLength),new ko(t)}async function G7(){let{privateKey:t,publicKey:e}=await Kt.generateKey();return new ia(t,e)}async function $7(t){let{privateKey:e,publicKey:r}=await Kt.generateKeyFromSeed(t);return new ia(e,r)}function na(t,e){if(t=Uint8Array.from(t||[]),t.length!==e)throw Dy(new Error(`Key must be a Uint8Array of length ${e}, got ${t.length}`),"ERR_INVALID_KEY_TYPE");return t}Ly.exports={Ed25519PublicKey:ko,Ed25519PrivateKey:ia,unmarshalEd25519PrivateKey:H7,unmarshalEd25519PublicKey:j7,generateKeyPair:G7,generateKeyPairFromSeed:$7}});var zy=C((VC,Uy)=>{var Ie={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function yr(t,e){if(!t)throw new Error(e)}function _e(t,e,r){if(yr(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){let n=r.join(", "),i=`Expected ${t} to be an Uint8Array with length [${n}]`;yr(r.includes(e.length),i)}else{let n=`Expected ${t} to be an Uint8Array with length ${r}`;yr(e.length===r,n)}}function yi(t){yr(aa(t)==="Boolean","Expected compressed to be a Boolean")}function Sr(t=r=>new Uint8Array(r),e){return typeof t=="function"&&(t=t(e)),_e("output",t,e),t}function aa(t){return Object.prototype.toString.call(t).slice(8,-1)}Uy.exports=t=>({contextRandomize(e){switch(yr(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&_e("seed",e,32),t.contextRandomize(e)){case 1:throw new Error(Ie.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return _e("private key",e,32),t.privateKeyVerify(e)===0},privateKeyNegate(e){switch(_e("private key",e,32),t.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(Ie.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,r){switch(_e("private key",e,32),_e("tweak",r,32),t.privateKeyTweakAdd(e,r)){case 0:return e;case 1:throw new Error(Ie.TWEAK_ADD)}},privateKeyTweakMul(e,r){switch(_e("private key",e,32),_e("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw new Error(Ie.TWEAK_MUL)}},publicKeyVerify(e){return _e("public key",e,[33,65]),t.publicKeyVerify(e)===0},publicKeyCreate(e,r=!0,n){switch(_e("private key",e,32),yi(r),n=Sr(n,r?33:65),t.publicKeyCreate(n,e)){case 0:return n;case 1:throw new Error(Ie.SECKEY_INVALID);case 2:throw new Error(Ie.PUBKEY_SERIALIZE)}},publicKeyConvert(e,r=!0,n){switch(_e("public key",e,[33,65]),yi(r),n=Sr(n,r?33:65),t.publicKeyConvert(n,e)){case 0:return n;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.PUBKEY_SERIALIZE)}},publicKeyNegate(e,r=!0,n){switch(_e("public key",e,[33,65]),yi(r),n=Sr(n,r?33:65),t.publicKeyNegate(n,e)){case 0:return n;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.IMPOSSIBLE_CASE);case 3:throw new Error(Ie.PUBKEY_SERIALIZE)}},publicKeyCombine(e,r=!0,n){yr(Array.isArray(e),"Expected public keys to be an Array"),yr(e.length>0,"Expected public keys array will have more than zero items");for(let i of e)_e("public key",i,[33,65]);switch(yi(r),n=Sr(n,r?33:65),t.publicKeyCombine(n,e)){case 0:return n;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.PUBKEY_COMBINE);case 3:throw new Error(Ie.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,r,n=!0,i){switch(_e("public key",e,[33,65]),_e("tweak",r,32),yi(n),i=Sr(i,n?33:65),t.publicKeyTweakAdd(i,e,r)){case 0:return i;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.TWEAK_ADD)}},publicKeyTweakMul(e,r,n=!0,i){switch(_e("public key",e,[33,65]),_e("tweak",r,32),yi(n),i=Sr(i,n?33:65),t.publicKeyTweakMul(i,e,r)){case 0:return i;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.TWEAK_MUL)}},signatureNormalize(e){switch(_e("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(Ie.SIG_PARSE)}},signatureExport(e,r){_e("signature",e,64),r=Sr(r,72);let n={output:r,outputlen:72};switch(t.signatureExport(n,e)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(Ie.SIG_PARSE);case 2:throw new Error(Ie.IMPOSSIBLE_CASE)}},signatureImport(e,r){switch(_e("signature",e),r=Sr(r,64),t.signatureImport(r,e)){case 0:return r;case 1:throw new Error(Ie.SIG_PARSE);case 2:throw new Error(Ie.IMPOSSIBLE_CASE)}},ecdsaSign(e,r,n={},i){_e("message",e,32),_e("private key",r,32),yr(aa(n)==="Object","Expected options to be an Object"),n.data!==void 0&&_e("options.data",n.data),n.noncefn!==void 0&&yr(aa(n.noncefn)==="Function","Expected options.noncefn to be a Function"),i=Sr(i,64);let a={signature:i,recid:null};switch(t.ecdsaSign(a,e,r,n.data,n.noncefn)){case 0:return a;case 1:throw new Error(Ie.SIGN);case 2:throw new Error(Ie.IMPOSSIBLE_CASE)}},ecdsaVerify(e,r,n){switch(_e("signature",e,64),_e("message",r,32),_e("public key",n,[33,65]),t.ecdsaVerify(e,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(Ie.SIG_PARSE);case 2:throw new Error(Ie.PUBKEY_PARSE)}},ecdsaRecover(e,r,n,i=!0,a){switch(_e("signature",e,64),yr(aa(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),_e("message",n,32),yi(i),a=Sr(a,i?33:65),t.ecdsaRecover(a,e,r,n)){case 0:return a;case 1:throw new Error(Ie.SIG_PARSE);case 2:throw new Error(Ie.RECOVER);case 3:throw new Error(Ie.IMPOSSIBLE_CASE)}},ecdh(e,r,n={},i){switch(_e("public key",e,[33,65]),_e("private key",r,32),yr(aa(n)==="Object","Expected options to be an Object"),n.data!==void 0&&_e("options.data",n.data),n.hashfn!==void 0?(yr(aa(n.hashfn)==="Function","Expected options.hashfn to be a Function"),n.xbuf!==void 0&&_e("options.xbuf",n.xbuf,32),n.ybuf!==void 0&&_e("options.ybuf",n.ybuf,32),_e("output",i)):i=Sr(i,32),t.ecdh(i,e,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(Ie.PUBKEY_PARSE);case 2:throw new Error(Ie.ECDH)}}})});var Hy=C((HC,Vy)=>{Vy.exports={_from:"elliptic@^6.5.2",_id:"elliptic@6.5.4",_inBundle:!1,_integrity:"sha512-iLhC6ULemrljPZb+QutR5TQGB+pdW6KGD5RSegS+8sorOZT+rdQFbsQFJgvN3eRqNALqJer4oQ16YvJHlU8hzQ==",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.5.2",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.5.2",saveSpec:null,fetchSpec:"^6.5.2"},_requiredBy:["/secp256k1"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.5.4.tgz",_shasum:"da37cebd31e79a1367e941b592ed1fbebd58abbb",_spec:"elliptic@^6.5.2",_where:"/Users/alex/Documents/Workspaces/libp2p/js-libp2p-kad-dht/node_modules/secp256k1",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.5.4"}});var jy=C(()=>{});var Yr=C((Gy,Bu)=>{(function(t,e){"use strict";function r(B,h){if(!B)throw new Error(h||"Assertion failed")}function n(B,h){B.super_=h;var p=function(){};p.prototype=h.prototype,B.prototype=new p,B.prototype.constructor=B}function i(B,h,p){if(i.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((h==="le"||h==="be")&&(p=h,h=10),this._init(B||0,h||10,p||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?a=window.Buffer:a=jy().Buffer}catch(B){}i.isBN=function(h){return h instanceof i?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===i.wordSize&&Array.isArray(h.words)},i.max=function(h,p){return h.cmp(p)>0?h:p},i.min=function(h,p){return h.cmp(p)<0?h:p},i.prototype._init=function(h,p,m){if(typeof h=="number")return this._initNumber(h,p,m);if(typeof h=="object")return this._initArray(h,p,m);p==="hex"&&(p=16),r(p===(p|0)&&p>=2&&p<=36),h=h.toString().replace(/\s+/g,"");var x=0;h[0]==="-"&&(x++,this.negative=1),x<h.length&&(p===16?this._parseHex(h,x,m):(this._parseBase(h,p,x),m==="le"&&this._initArray(this.toArray(),p,m)))},i.prototype._initNumber=function(h,p,m){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(r(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),p,m)},i.prototype._initArray=function(h,p,m){if(r(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var w,T,I=0;if(m==="be")for(x=h.length-1,w=0;x>=0;x-=3)T=h[x]|h[x-1]<<8|h[x-2]<<16,this.words[w]|=T<<I&67108863,this.words[w+1]=T>>>26-I&67108863,I+=24,I>=26&&(I-=26,w++);else if(m==="le")for(x=0,w=0;x<h.length;x+=3)T=h[x]|h[x+1]<<8|h[x+2]<<16,this.words[w]|=T<<I&67108863,this.words[w+1]=T>>>26-I&67108863,I+=24,I>=26&&(I-=26,w++);return this.strip()};function s(B,h){var p=B.charCodeAt(h);return p>=65&&p<=70?p-55:p>=97&&p<=102?p-87:p-48&15}function o(B,h,p){var m=s(B,p);return p-1>=h&&(m|=s(B,p-1)<<4),m}i.prototype._parseHex=function(h,p,m){this.length=Math.ceil((h.length-p)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var w=0,T=0,I;if(m==="be")for(x=h.length-1;x>=p;x-=2)I=o(h,p,x)<<w,this.words[T]|=I&67108863,w>=18?(w-=18,T+=1,this.words[T]|=I>>>26):w+=8;else{var _=h.length-p;for(x=_%2==0?p+1:p;x<h.length;x+=2)I=o(h,p,x)<<w,this.words[T]|=I&67108863,w>=18?(w-=18,T+=1,this.words[T]|=I>>>26):w+=8}this.strip()};function f(B,h,p,m){for(var x=0,w=Math.min(B.length,p),T=h;T<w;T++){var I=B.charCodeAt(T)-48;x*=m,I>=49?x+=I-49+10:I>=17?x+=I-17+10:x+=I}return x}i.prototype._parseBase=function(h,p,m){this.words=[0],this.length=1;for(var x=0,w=1;w<=67108863;w*=p)x++;x--,w=w/p|0;for(var T=h.length-m,I=T%x,_=Math.min(T,T-I)+m,d=0,S=m;S<_;S+=x)d=f(h,S,S+x,p),this.imuln(w),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(I!==0){var $=1;for(d=f(h,S,h.length,p),S=0;S<I;S++)$*=p;this.imuln($),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},i.prototype.copy=function(h){h.words=new Array(this.length);for(var p=0;p<this.length;p++)h.words[p]=this.words[p];h.length=this.length,h.negative=this.negative,h.red=this.red},i.prototype.clone=function(){var h=new i(null);return this.copy(h),h},i.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(h,p){h=h||10,p=p|0||1;var m;if(h===16||h==="hex"){m="";for(var x=0,w=0,T=0;T<this.length;T++){var I=this.words[T],_=((I<<x|w)&16777215).toString(16);w=I>>>24-x&16777215,w!==0||T!==this.length-1?m=u[6-_.length]+_+m:m=_+m,x+=2,x>=26&&(x-=26,T--)}for(w!==0&&(m=w.toString(16)+m);m.length%p!=0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(h===(h|0)&&h>=2&&h<=36){var d=c[h],S=l[h];m="";var $=this.clone();for($.negative=0;!$.isZero();){var Y=$.modn(S).toString(h);$=$.idivn(S),$.isZero()?m=Y+m:m=u[d-Y.length]+Y+m}for(this.isZero()&&(m="0"+m);m.length%p!=0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(h,p){return r(typeof a!="undefined"),this.toArrayLike(a,h,p)},i.prototype.toArray=function(h,p){return this.toArrayLike(Array,h,p)},i.prototype.toArrayLike=function(h,p,m){var x=this.byteLength(),w=m||Math.max(1,x);r(x<=w,"byte array longer than desired length"),r(w>0,"Requested array length <= 0"),this.strip();var T=p==="le",I=new h(w),_,d,S=this.clone();if(T){for(d=0;!S.isZero();d++)_=S.andln(255),S.iushrn(8),I[d]=_;for(;d<w;d++)I[d]=0}else{for(d=0;d<w-x;d++)I[d]=0;for(d=0;!S.isZero();d++)_=S.andln(255),S.iushrn(8),I[w-d-1]=_}return I},Math.clz32?i.prototype._countBits=function(h){return 32-Math.clz32(h)}:i.prototype._countBits=function(h){var p=h,m=0;return p>=4096&&(m+=13,p>>>=13),p>=64&&(m+=7,p>>>=7),p>=8&&(m+=4,p>>>=4),p>=2&&(m+=2,p>>>=2),m+p},i.prototype._zeroBits=function(h){if(h===0)return 26;var p=h,m=0;return(p&8191)==0&&(m+=13,p>>>=13),(p&127)==0&&(m+=7,p>>>=7),(p&15)==0&&(m+=4,p>>>=4),(p&3)==0&&(m+=2,p>>>=2),(p&1)==0&&m++,m},i.prototype.bitLength=function(){var h=this.words[this.length-1],p=this._countBits(h);return(this.length-1)*26+p};function y(B){for(var h=new Array(B.bitLength()),p=0;p<h.length;p++){var m=p/26|0,x=p%26;h[p]=(B.words[m]&1<<x)>>>x}return h}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,p=0;p<this.length;p++){var m=this._zeroBits(this.words[p]);if(h+=m,m!==26)break}return h},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},i.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]|h.words[p];return this.strip()},i.prototype.ior=function(h){return r((this.negative|h.negative)==0),this.iuor(h)},i.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},i.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},i.prototype.iuand=function(h){var p;this.length>h.length?p=h:p=this;for(var m=0;m<p.length;m++)this.words[m]=this.words[m]&h.words[m];return this.length=p.length,this.strip()},i.prototype.iand=function(h){return r((this.negative|h.negative)==0),this.iuand(h)},i.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},i.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},i.prototype.iuxor=function(h){var p,m;this.length>h.length?(p=this,m=h):(p=h,m=this);for(var x=0;x<m.length;x++)this.words[x]=p.words[x]^m.words[x];if(this!==p)for(;x<p.length;x++)this.words[x]=p.words[x];return this.length=p.length,this.strip()},i.prototype.ixor=function(h){return r((this.negative|h.negative)==0),this.iuxor(h)},i.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},i.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},i.prototype.inotn=function(h){r(typeof h=="number"&&h>=0);var p=Math.ceil(h/26)|0,m=h%26;this._expand(p),m>0&&p--;for(var x=0;x<p;x++)this.words[x]=~this.words[x]&67108863;return m>0&&(this.words[x]=~this.words[x]&67108863>>26-m),this.strip()},i.prototype.notn=function(h){return this.clone().inotn(h)},i.prototype.setn=function(h,p){r(typeof h=="number"&&h>=0);var m=h/26|0,x=h%26;return this._expand(m+1),p?this.words[m]=this.words[m]|1<<x:this.words[m]=this.words[m]&~(1<<x),this.strip()},i.prototype.iadd=function(h){var p;if(this.negative!==0&&h.negative===0)return this.negative=0,p=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,p=this.isub(h),h.negative=1,p._normSign();var m,x;this.length>h.length?(m=this,x=h):(m=h,x=this);for(var w=0,T=0;T<x.length;T++)p=(m.words[T]|0)+(x.words[T]|0)+w,this.words[T]=p&67108863,w=p>>>26;for(;w!==0&&T<m.length;T++)p=(m.words[T]|0)+w,this.words[T]=p&67108863,w=p>>>26;if(this.length=m.length,w!==0)this.words[this.length]=w,this.length++;else if(m!==this)for(;T<m.length;T++)this.words[T]=m.words[T];return this},i.prototype.add=function(h){var p;return h.negative!==0&&this.negative===0?(h.negative=0,p=this.sub(h),h.negative^=1,p):h.negative===0&&this.negative!==0?(this.negative=0,p=h.sub(this),this.negative=1,p):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},i.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var p=this.iadd(h);return h.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var m=this.cmp(h);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,w;m>0?(x=this,w=h):(x=h,w=this);for(var T=0,I=0;I<w.length;I++)p=(x.words[I]|0)-(w.words[I]|0)+T,T=p>>26,this.words[I]=p&67108863;for(;T!==0&&I<x.length;I++)p=(x.words[I]|0)+T,T=p>>26,this.words[I]=p&67108863;if(T===0&&I<x.length&&x!==this)for(;I<x.length;I++)this.words[I]=x.words[I];return this.length=Math.max(this.length,I),x!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(h){return this.clone().isub(h)};function b(B,h,p){p.negative=h.negative^B.negative;var m=B.length+h.length|0;p.length=m,m=m-1|0;var x=B.words[0]|0,w=h.words[0]|0,T=x*w,I=T&67108863,_=T/67108864|0;p.words[0]=I;for(var d=1;d<m;d++){for(var S=_>>>26,$=_&67108863,Y=Math.min(d,h.length-1),W=Math.max(0,d-B.length+1);W<=Y;W++){var X=d-W|0;x=B.words[X]|0,w=h.words[W]|0,T=x*w+$,S+=T/67108864|0,$=T&67108863}p.words[d]=$|0,_=S|0}return _!==0?p.words[d]=_|0:p.length--,p.strip()}var g=function(h,p,m){var x=h.words,w=p.words,T=m.words,I=0,_,d,S,$=x[0]|0,Y=$&8191,W=$>>>13,X=x[1]|0,oe=X&8191,he=X>>>13,Pe=x[2]|0,le=Pe&8191,ce=Pe>>>13,je=x[3]|0,ge=je&8191,R=je>>>13,L=x[4]|0,N=L&8191,K=L>>>13,Z=x[5]|0,ie=Z&8191,ae=Z>>>13,ze=x[6]|0,fe=ze&8191,ue=ze>>>13,Fe=x[7]|0,ee=Fe&8191,be=Fe>>>13,ir=x[8]|0,Me=ir&8191,de=ir>>>13,Ce=x[9]|0,Ge=Ce&8191,et=Ce>>>13,$c=w[0]|0,tt=$c&8191,rt=$c>>>13,Yc=w[1]|0,nt=Yc&8191,it=Yc>>>13,Wc=w[2]|0,at=Wc&8191,st=Wc>>>13,Qc=w[3]|0,ot=Qc&8191,ft=Qc>>>13,Jc=w[4]|0,ut=Jc&8191,ct=Jc>>>13,Zc=w[5]|0,ht=Zc&8191,lt=Zc>>>13,Xc=w[6]|0,dt=Xc&8191,pt=Xc>>>13,eh=w[7]|0,yt=eh&8191,bt=eh>>>13,th=w[8]|0,vt=th&8191,gt=th>>>13,rh=w[9]|0,mt=rh&8191,xt=rh>>>13;m.negative=h.negative^p.negative,m.length=19,_=Math.imul(Y,tt),d=Math.imul(Y,rt),d=d+Math.imul(W,tt)|0,S=Math.imul(W,rt);var Pf=(I+_|0)+((d&8191)<<13)|0;I=(S+(d>>>13)|0)+(Pf>>>26)|0,Pf&=67108863,_=Math.imul(oe,tt),d=Math.imul(oe,rt),d=d+Math.imul(he,tt)|0,S=Math.imul(he,rt),_=_+Math.imul(Y,nt)|0,d=d+Math.imul(Y,it)|0,d=d+Math.imul(W,nt)|0,S=S+Math.imul(W,it)|0;var Mf=(I+_|0)+((d&8191)<<13)|0;I=(S+(d>>>13)|0)+(Mf>>>26)|0,Mf&=67108863,_=Math.imul(le,tt),d=Math.imul(le,rt),d=d+Math.imul(ce,tt)|0,S=Math.imul(ce,rt),_=_+Math.imul(oe,nt)|0,d=d+Math.imul(oe,it)|0,d=d+Math.imul(he,nt)|0,S=S+Math.imul(he,it)|0,_=_+Math.imul(Y,at)|0,d=d+Math.imul(Y,st)|0,d=d+Math.imul(W,at)|0,S=S+Math.imul(W,st)|0;var Rf=(I+_|0)+((d&8191)<<13)|0;I=(S+(d>>>13)|0)+(Rf>>>26)|0,Rf&=67108863,_=Math.imul(ge,tt),d=Math.imul(ge,rt),d=d+Math.imul(R,tt)|0,S=Math.imul(R,rt),_=_+Math.imul(le,nt)|0,d=d+Math.imul(le,it)|0,d=d+Math.imul(ce,nt)|0,S=S+Math.imul(ce,it)|0,_=_+Math.imul(oe,at)|0,d=d+Math.imul(oe,st)|0,d=d+Math.imul(he,at)|0,S=S+Math.imul(he,st)|0,_=_+Math.imul(Y,ot)|0,d=d+Math.imul(Y,ft)|0,d=d+Math.imul(W,ot)|0,S=S+Math.imul(W,ft)|0;var qf=(I+_|0)+((d&8191)<<13)|0;I=(S+(d>>>13)|0)+(qf>>>26)|0,qf&=67108863,_=Math.imul(N,tt),d=Math.imul(N,rt),d=d+Math.imul(K,tt)|0,S=Math.imul(K,rt),_=_+Math.imul(ge,nt)|0,d=d+Math.imul(ge,it)|0,d=d+Math.imul(R,nt)|0,S=S+Math.imul(R,it)|0,_=_+Math.imul(le,at)|0,d=d+Math.imul(le,st)|0,d=d+Math.imul(ce,at)|0,S=S+Math.imul(ce,st)|0,_=_+Math.imul(oe,ot)|0,d=d+Math.imul(oe,ft)|0,d=d+Math.imul(he,ot)|0,S=S+Math.imul(he,ft)|0,_=_+Math.imul(Y,ut)|0,d=d+Math.imul(Y,ct)|0,d=d+Math.imul(W,ut)|0,S=S+Math.imul(W,ct)|0;var kf=(I+_|0)+((d&8191)<<13)|0;I=(S+(d>>>13)|0)+(kf>>>26)|0,kf&=67108863,_=Math.imul(ie,tt),d=Math.imul(ie,rt),d=d+Math.imul(ae,tt)|0,S=Math.imul(ae,rt),_=_+Math.imul(N,nt)|0,d=d+Math.imul(N,it)|0,d=d+Math.imul(K,nt)|0,S=S+Math.imul(K,it)|0,_=_+Math.imul(ge,at)|0,d=d+Math.imul(ge,st)|0,d=d+Math.imul(R,at)|0,S=S+Math.imul(R,st)|0,_=_+Math.imul(le,ot)|0,d=d+Math.imul(le,ft)|0,d=d+Math.imul(ce,ot)|0,S=S+Math.imul(ce,ft)|0,_=_+Math.imul(oe,ut)|0,d=d+Math.imul(oe,ct)|0,d=d+Math.imul(he,ut)|0,S=S+Math.imul(he,ct)|0,_=_+Math.imul(Y,ht)|0,d=d+Math.imul(Y,lt)|0,d=d+Math.imul(W,ht)|0,S=S+Math.imul(W,lt)|0;var Nf=(I+_|0)+((d&8191)<<13)|0;I=(S+(d>>>13)|0)+(Nf>>>26)|0,Nf&=67108863,_=Math.imul(fe,tt),d=Math.imul(fe,rt),d=d+Math.imul(ue,tt)|0,S=Math.imul(ue,rt),_=_+Math.imul(ie,nt)|0,d=d+Math.imul(ie,it)|0,d=d+Math.imul(ae,nt)|0,S=S+Math.imul(ae,it)|0,_=_+Math.imul(N,at)|0,d=d+Math.imul(N,st)|0,d=d+Math.imul(K,at)|0,S=S+Math.imul(K,st)|0,_=_+Math.imul(ge,ot)|0,d=d+Math.imul(ge,ft)|0,d=d+Math.imul(R,ot)|0,S=S+Math.imul(R,ft)|0,_=_+Math.imul(le,ut)|0,d=d+Math.imul(le,ct)|0,d=d+Math.imul(ce,ut)|0,S=S+Math.imul(ce,ct)|0,_=_+Math.imul(oe,ht)|0,d=d+Math.imul(oe,lt)|0,d=d+Math.imul(he,ht)|0,S=S+Math.imul(he,lt)|0,_=_+Math.imul(Y,dt)|0,d=d+Math.imul(Y,pt)|0,d=d+Math.imul(W,dt)|0,S=S+Math.imul(W,pt)|0;var Lf=(I+_|0)+((d&8191)<<13)|0;I=(S+(d>>>13)|0)+(Lf>>>26)|0,Lf&=67108863,_=Math.imul(ee,tt),d=Math.imul(ee,rt),d=d+Math.imul(be,tt)|0,S=Math.imul(be,rt),_=_+Math.imul(fe,nt)|0,d=d+Math.imul(fe,it)|0,d=d+Math.imul(ue,nt)|0,S=S+Math.imul(ue,it)|0,_=_+Math.imul(ie,at)|0,d=d+Math.imul(ie,st)|0,d=d+Math.imul(ae,at)|0,S=S+Math.imul(ae,st)|0,_=_+Math.imul(N,ot)|0,d=d+Math.imul(N,ft)|0,d=d+Math.imul(K,ot)|0,S=S+Math.imul(K,ft)|0,_=_+Math.imul(ge,ut)|0,d=d+Math.imul(ge,ct)|0,d=d+Math.imul(R,ut)|0,S=S+Math.imul(R,ct)|0,_=_+Math.imul(le,ht)|0,d=d+Math.imul(le,lt)|0,d=d+Math.imul(ce,ht)|0,S=S+Math.imul(ce,lt)|0,_=_+Math.imul(oe,dt)|0,d=d+Math.imul(oe,pt)|0,d=d+Math.imul(he,dt)|0,S=S+Math.imul(he,pt)|0,_=_+Math.imul(Y,yt)|0,d=d+Math.imul(Y,bt)|0,d=d+Math.imul(W,yt)|0,S=S+Math.imul(W,bt)|0;var Df=(I+_|0)+((d&8191)<<13)|0;I=(S+(d>>>13)|0)+(Df>>>26)|0,Df&=67108863,_=Math.imul(Me,tt),d=Math.imul(Me,rt),d=d+Math.imul(de,tt)|0,S=Math.imul(de,rt),_=_+Math.imul(ee,nt)|0,d=d+Math.imul(ee,it)|0,d=d+Math.imul(be,nt)|0,S=S+Math.imul(be,it)|0,_=_+Math.imul(fe,at)|0,d=d+Math.imul(fe,st)|0,d=d+Math.imul(ue,at)|0,S=S+Math.imul(ue,st)|0,_=_+Math.imul(ie,ot)|0,d=d+Math.imul(ie,ft)|0,d=d+Math.imul(ae,ot)|0,S=S+Math.imul(ae,ft)|0,_=_+Math.imul(N,ut)|0,d=d+Math.imul(N,ct)|0,d=d+Math.imul(K,ut)|0,S=S+Math.imul(K,ct)|0,_=_+Math.imul(ge,ht)|0,d=d+Math.imul(ge,lt)|0,d=d+Math.imul(R,ht)|0,S=S+Math.imul(R,lt)|0,_=_+Math.imul(le,dt)|0,d=d+Math.imul(le,pt)|0,d=d+Math.imul(ce,dt)|0,S=S+Math.imul(ce,pt)|0,_=_+Math.imul(oe,yt)|0,d=d+Math.imul(oe,bt)|0,d=d+Math.imul(he,yt)|0,S=S+Math.imul(he,bt)|0,_=_+Math.imul(Y,vt)|0,d=d+Math.imul(Y,gt)|0,d=d+Math.imul(W,vt)|0,S=S+Math.imul(W,gt)|0;var Of=(I+_|0)+((d&8191)<<13)|0;I=(S+(d>>>13)|0)+(Of>>>26)|0,Of&=67108863,_=Math.imul(Ge,tt),d=Math.imul(Ge,rt),d=d+Math.imul(et,tt)|0,S=Math.imul(et,rt),_=_+Math.imul(Me,nt)|0,d=d+Math.imul(Me,it)|0,d=d+Math.imul(de,nt)|0,S=S+Math.imul(de,it)|0,_=_+Math.imul(ee,at)|0,d=d+Math.imul(ee,st)|0,d=d+Math.imul(be,at)|0,S=S+Math.imul(be,st)|0,_=_+Math.imul(fe,ot)|0,d=d+Math.imul(fe,ft)|0,d=d+Math.imul(ue,ot)|0,S=S+Math.imul(ue,ft)|0,_=_+Math.imul(ie,ut)|0,d=d+Math.imul(ie,ct)|0,d=d+Math.imul(ae,ut)|0,S=S+Math.imul(ae,ct)|0,_=_+Math.imul(N,ht)|0,d=d+Math.imul(N,lt)|0,d=d+Math.imul(K,ht)|0,S=S+Math.imul(K,lt)|0,_=_+Math.imul(ge,dt)|0,d=d+Math.imul(ge,pt)|0,d=d+Math.imul(R,dt)|0,S=S+Math.imul(R,pt)|0,_=_+Math.imul(le,yt)|0,d=d+Math.imul(le,bt)|0,d=d+Math.imul(ce,yt)|0,S=S+Math.imul(ce,bt)|0,_=_+Math.imul(oe,vt)|0,d=d+Math.imul(oe,gt)|0,d=d+Math.imul(he,vt)|0,S=S+Math.imul(he,gt)|0,_=_+Math.imul(Y,mt)|0,d=d+Math.imul(Y,xt)|0,d=d+Math.imul(W,mt)|0,S=S+Math.imul(W,xt)|0;var Kf=(I+_|0)+((d&8191)<<13)|0;I=(S+(d>>>13)|0)+(Kf>>>26)|0,Kf&=67108863,_=Math.imul(Ge,nt),d=Math.imul(Ge,it),d=d+Math.imul(et,nt)|0,S=Math.imul(et,it),_=_+Math.imul(Me,at)|0,d=d+Math.imul(Me,st)|0,d=d+Math.imul(de,at)|0,S=S+Math.imul(de,st)|0,_=_+Math.imul(ee,ot)|0,d=d+Math.imul(ee,ft)|0,d=d+Math.imul(be,ot)|0,S=S+Math.imul(be,ft)|0,_=_+Math.imul(fe,ut)|0,d=d+Math.imul(fe,ct)|0,d=d+Math.imul(ue,ut)|0,S=S+Math.imul(ue,ct)|0,_=_+Math.imul(ie,ht)|0,d=d+Math.imul(ie,lt)|0,d=d+Math.imul(ae,ht)|0,S=S+Math.imul(ae,lt)|0,_=_+Math.imul(N,dt)|0,d=d+Math.imul(N,pt)|0,d=d+Math.imul(K,dt)|0,S=S+Math.imul(K,pt)|0,_=_+Math.imul(ge,yt)|0,d=d+Math.imul(ge,bt)|0,d=d+Math.imul(R,yt)|0,S=S+Math.imul(R,bt)|0,_=_+Math.imul(le,vt)|0,d=d+Math.imul(le,gt)|0,d=d+Math.imul(ce,vt)|0,S=S+Math.imul(ce,gt)|0,_=_+Math.imul(oe,mt)|0,d=d+Math.imul(oe,xt)|0,d=d+Math.imul(he,mt)|0,S=S+Math.imul(he,xt)|0;var Ff=(I+_|0)+((d&8191)<<13)|0;I=(S+(d>>>13)|0)+(Ff>>>26)|0,Ff&=67108863,_=Math.imul(Ge,at),d=Math.imul(Ge,st),d=d+Math.imul(et,at)|0,S=Math.imul(et,st),_=_+Math.imul(Me,ot)|0,d=d+Math.imul(Me,ft)|0,d=d+Math.imul(de,ot)|0,S=S+Math.imul(de,ft)|0,_=_+Math.imul(ee,ut)|0,d=d+Math.imul(ee,ct)|0,d=d+Math.imul(be,ut)|0,S=S+Math.imul(be,ct)|0,_=_+Math.imul(fe,ht)|0,d=d+Math.imul(fe,lt)|0,d=d+Math.imul(ue,ht)|0,S=S+Math.imul(ue,lt)|0,_=_+Math.imul(ie,dt)|0,d=d+Math.imul(ie,pt)|0,d=d+Math.imul(ae,dt)|0,S=S+Math.imul(ae,pt)|0,_=_+Math.imul(N,yt)|0,d=d+Math.imul(N,bt)|0,d=d+Math.imul(K,yt)|0,S=S+Math.imul(K,bt)|0,_=_+Math.imul(ge,vt)|0,d=d+Math.imul(ge,gt)|0,d=d+Math.imul(R,vt)|0,S=S+Math.imul(R,gt)|0,_=_+Math.imul(le,mt)|0,d=d+Math.imul(le,xt)|0,d=d+Math.imul(ce,mt)|0,S=S+Math.imul(ce,xt)|0;var Uf=(I+_|0)+((d&8191)<<13)|0;I=(S+(d>>>13)|0)+(Uf>>>26)|0,Uf&=67108863,_=Math.imul(Ge,ot),d=Math.imul(Ge,ft),d=d+Math.imul(et,ot)|0,S=Math.imul(et,ft),_=_+Math.imul(Me,ut)|0,d=d+Math.imul(Me,ct)|0,d=d+Math.imul(de,ut)|0,S=S+Math.imul(de,ct)|0,_=_+Math.imul(ee,ht)|0,d=d+Math.imul(ee,lt)|0,d=d+Math.imul(be,ht)|0,S=S+Math.imul(be,lt)|0,_=_+Math.imul(fe,dt)|0,d=d+Math.imul(fe,pt)|0,d=d+Math.imul(ue,dt)|0,S=S+Math.imul(ue,pt)|0,_=_+Math.imul(ie,yt)|0,d=d+Math.imul(ie,bt)|0,d=d+Math.imul(ae,yt)|0,S=S+Math.imul(ae,bt)|0,_=_+Math.imul(N,vt)|0,d=d+Math.imul(N,gt)|0,d=d+Math.imul(K,vt)|0,S=S+Math.imul(K,gt)|0,_=_+Math.imul(ge,mt)|0,d=d+Math.imul(ge,xt)|0,d=d+Math.imul(R,mt)|0,S=S+Math.imul(R,xt)|0;var zf=(I+_|0)+((d&8191)<<13)|0;I=(S+(d>>>13)|0)+(zf>>>26)|0,zf&=67108863,_=Math.imul(Ge,ut),d=Math.imul(Ge,ct),d=d+Math.imul(et,ut)|0,S=Math.imul(et,ct),_=_+Math.imul(Me,ht)|0,d=d+Math.imul(Me,lt)|0,d=d+Math.imul(de,ht)|0,S=S+Math.imul(de,lt)|0,_=_+Math.imul(ee,dt)|0,d=d+Math.imul(ee,pt)|0,d=d+Math.imul(be,dt)|0,S=S+Math.imul(be,pt)|0,_=_+Math.imul(fe,yt)|0,d=d+Math.imul(fe,bt)|0,d=d+Math.imul(ue,yt)|0,S=S+Math.imul(ue,bt)|0,_=_+Math.imul(ie,vt)|0,d=d+Math.imul(ie,gt)|0,d=d+Math.imul(ae,vt)|0,S=S+Math.imul(ae,gt)|0,_=_+Math.imul(N,mt)|0,d=d+Math.imul(N,xt)|0,d=d+Math.imul(K,mt)|0,S=S+Math.imul(K,xt)|0;var Vf=(I+_|0)+((d&8191)<<13)|0;I=(S+(d>>>13)|0)+(Vf>>>26)|0,Vf&=67108863,_=Math.imul(Ge,ht),d=Math.imul(Ge,lt),d=d+Math.imul(et,ht)|0,S=Math.imul(et,lt),_=_+Math.imul(Me,dt)|0,d=d+Math.imul(Me,pt)|0,d=d+Math.imul(de,dt)|0,S=S+Math.imul(de,pt)|0,_=_+Math.imul(ee,yt)|0,d=d+Math.imul(ee,bt)|0,d=d+Math.imul(be,yt)|0,S=S+Math.imul(be,bt)|0,_=_+Math.imul(fe,vt)|0,d=d+Math.imul(fe,gt)|0,d=d+Math.imul(ue,vt)|0,S=S+Math.imul(ue,gt)|0,_=_+Math.imul(ie,mt)|0,d=d+Math.imul(ie,xt)|0,d=d+Math.imul(ae,mt)|0,S=S+Math.imul(ae,xt)|0;var Hf=(I+_|0)+((d&8191)<<13)|0;I=(S+(d>>>13)|0)+(Hf>>>26)|0,Hf&=67108863,_=Math.imul(Ge,dt),d=Math.imul(Ge,pt),d=d+Math.imul(et,dt)|0,S=Math.imul(et,pt),_=_+Math.imul(Me,yt)|0,d=d+Math.imul(Me,bt)|0,d=d+Math.imul(de,yt)|0,S=S+Math.imul(de,bt)|0,_=_+Math.imul(ee,vt)|0,d=d+Math.imul(ee,gt)|0,d=d+Math.imul(be,vt)|0,S=S+Math.imul(be,gt)|0,_=_+Math.imul(fe,mt)|0,d=d+Math.imul(fe,xt)|0,d=d+Math.imul(ue,mt)|0,S=S+Math.imul(ue,xt)|0;var jf=(I+_|0)+((d&8191)<<13)|0;I=(S+(d>>>13)|0)+(jf>>>26)|0,jf&=67108863,_=Math.imul(Ge,yt),d=Math.imul(Ge,bt),d=d+Math.imul(et,yt)|0,S=Math.imul(et,bt),_=_+Math.imul(Me,vt)|0,d=d+Math.imul(Me,gt)|0,d=d+Math.imul(de,vt)|0,S=S+Math.imul(de,gt)|0,_=_+Math.imul(ee,mt)|0,d=d+Math.imul(ee,xt)|0,d=d+Math.imul(be,mt)|0,S=S+Math.imul(be,xt)|0;var Gf=(I+_|0)+((d&8191)<<13)|0;I=(S+(d>>>13)|0)+(Gf>>>26)|0,Gf&=67108863,_=Math.imul(Ge,vt),d=Math.imul(Ge,gt),d=d+Math.imul(et,vt)|0,S=Math.imul(et,gt),_=_+Math.imul(Me,mt)|0,d=d+Math.imul(Me,xt)|0,d=d+Math.imul(de,mt)|0,S=S+Math.imul(de,xt)|0;var $f=(I+_|0)+((d&8191)<<13)|0;I=(S+(d>>>13)|0)+($f>>>26)|0,$f&=67108863,_=Math.imul(Ge,mt),d=Math.imul(Ge,xt),d=d+Math.imul(et,mt)|0,S=Math.imul(et,xt);var Yf=(I+_|0)+((d&8191)<<13)|0;return I=(S+(d>>>13)|0)+(Yf>>>26)|0,Yf&=67108863,T[0]=Pf,T[1]=Mf,T[2]=Rf,T[3]=qf,T[4]=kf,T[5]=Nf,T[6]=Lf,T[7]=Df,T[8]=Of,T[9]=Kf,T[10]=Ff,T[11]=Uf,T[12]=zf,T[13]=Vf,T[14]=Hf,T[15]=jf,T[16]=Gf,T[17]=$f,T[18]=Yf,I!==0&&(T[19]=I,m.length++),m};Math.imul||(g=b);function v(B,h,p){p.negative=h.negative^B.negative,p.length=B.length+h.length;for(var m=0,x=0,w=0;w<p.length-1;w++){var T=x;x=0;for(var I=m&67108863,_=Math.min(w,h.length-1),d=Math.max(0,w-B.length+1);d<=_;d++){var S=w-d,$=B.words[S]|0,Y=h.words[d]|0,W=$*Y,X=W&67108863;T=T+(W/67108864|0)|0,X=X+I|0,I=X&67108863,T=T+(X>>>26)|0,x+=T>>>26,T&=67108863}p.words[w]=I,m=T,T=x}return m!==0?p.words[w]=m:p.length--,p.strip()}function E(B,h,p){var m=new A;return m.mulp(B,h,p)}i.prototype.mulTo=function(h,p){var m,x=this.length+h.length;return this.length===10&&h.length===10?m=g(this,h,p):x<63?m=b(this,h,p):x<1024?m=v(this,h,p):m=E(this,h,p),m};function A(B,h){this.x=B,this.y=h}A.prototype.makeRBT=function(h){for(var p=new Array(h),m=i.prototype._countBits(h)-1,x=0;x<h;x++)p[x]=this.revBin(x,m,h);return p},A.prototype.revBin=function(h,p,m){if(h===0||h===m-1)return h;for(var x=0,w=0;w<p;w++)x|=(h&1)<<p-w-1,h>>=1;return x},A.prototype.permute=function(h,p,m,x,w,T){for(var I=0;I<T;I++)x[I]=p[h[I]],w[I]=m[h[I]]},A.prototype.transform=function(h,p,m,x,w,T){this.permute(T,h,p,m,x,w);for(var I=1;I<w;I<<=1)for(var _=I<<1,d=Math.cos(2*Math.PI/_),S=Math.sin(2*Math.PI/_),$=0;$<w;$+=_)for(var Y=d,W=S,X=0;X<I;X++){var oe=m[$+X],he=x[$+X],Pe=m[$+X+I],le=x[$+X+I],ce=Y*Pe-W*le;le=Y*le+W*Pe,Pe=ce,m[$+X]=oe+Pe,x[$+X]=he+le,m[$+X+I]=oe-Pe,x[$+X+I]=he-le,X!==_&&(ce=d*Y-S*W,W=d*W+S*Y,Y=ce)}},A.prototype.guessLen13b=function(h,p){var m=Math.max(p,h)|1,x=m&1,w=0;for(m=m/2|0;m;m=m>>>1)w++;return 1<<w+1+x},A.prototype.conjugate=function(h,p,m){if(!(m<=1))for(var x=0;x<m/2;x++){var w=h[x];h[x]=h[m-x-1],h[m-x-1]=w,w=p[x],p[x]=-p[m-x-1],p[m-x-1]=-w}},A.prototype.normalize13b=function(h,p){for(var m=0,x=0;x<p/2;x++){var w=Math.round(h[2*x+1]/p)*8192+Math.round(h[2*x]/p)+m;h[x]=w&67108863,w<67108864?m=0:m=w/67108864|0}return h},A.prototype.convert13b=function(h,p,m,x){for(var w=0,T=0;T<p;T++)w=w+(h[T]|0),m[2*T]=w&8191,w=w>>>13,m[2*T+1]=w&8191,w=w>>>13;for(T=2*p;T<x;++T)m[T]=0;r(w===0),r((w&~8191)==0)},A.prototype.stub=function(h){for(var p=new Array(h),m=0;m<h;m++)p[m]=0;return p},A.prototype.mulp=function(h,p,m){var x=2*this.guessLen13b(h.length,p.length),w=this.makeRBT(x),T=this.stub(x),I=new Array(x),_=new Array(x),d=new Array(x),S=new Array(x),$=new Array(x),Y=new Array(x),W=m.words;W.length=x,this.convert13b(h.words,h.length,I,x),this.convert13b(p.words,p.length,S,x),this.transform(I,T,_,d,x,w),this.transform(S,T,$,Y,x,w);for(var X=0;X<x;X++){var oe=_[X]*$[X]-d[X]*Y[X];d[X]=_[X]*Y[X]+d[X]*$[X],_[X]=oe}return this.conjugate(_,d,x),this.transform(_,d,W,T,x,w),this.conjugate(W,T,x),this.normalize13b(W,x),m.negative=h.negative^p.negative,m.length=h.length+p.length,m.strip()},i.prototype.mul=function(h){var p=new i(null);return p.words=new Array(this.length+h.length),this.mulTo(h,p)},i.prototype.mulf=function(h){var p=new i(null);return p.words=new Array(this.length+h.length),E(this,h,p)},i.prototype.imul=function(h){return this.clone().mulTo(h,this)},i.prototype.imuln=function(h){r(typeof h=="number"),r(h<67108864);for(var p=0,m=0;m<this.length;m++){var x=(this.words[m]|0)*h,w=(x&67108863)+(p&67108863);p>>=26,p+=x/67108864|0,p+=w>>>26,this.words[m]=w&67108863}return p!==0&&(this.words[m]=p,this.length++),this},i.prototype.muln=function(h){return this.clone().imuln(h)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(h){var p=y(h);if(p.length===0)return new i(1);for(var m=this,x=0;x<p.length&&p[x]===0;x++,m=m.sqr());if(++x<p.length)for(var w=m.sqr();x<p.length;x++,w=w.sqr())p[x]!==0&&(m=m.mul(w));return m},i.prototype.iushln=function(h){r(typeof h=="number"&&h>=0);var p=h%26,m=(h-p)/26,x=67108863>>>26-p<<26-p,w;if(p!==0){var T=0;for(w=0;w<this.length;w++){var I=this.words[w]&x,_=(this.words[w]|0)-I<<p;this.words[w]=_|T,T=I>>>26-p}T&&(this.words[w]=T,this.length++)}if(m!==0){for(w=this.length-1;w>=0;w--)this.words[w+m]=this.words[w];for(w=0;w<m;w++)this.words[w]=0;this.length+=m}return this.strip()},i.prototype.ishln=function(h){return r(this.negative===0),this.iushln(h)},i.prototype.iushrn=function(h,p,m){r(typeof h=="number"&&h>=0);var x;p?x=(p-p%26)/26:x=0;var w=h%26,T=Math.min((h-w)/26,this.length),I=67108863^67108863>>>w<<w,_=m;if(x-=T,x=Math.max(0,x),_){for(var d=0;d<T;d++)_.words[d]=this.words[d];_.length=T}if(T!==0)if(this.length>T)for(this.length-=T,d=0;d<this.length;d++)this.words[d]=this.words[d+T];else this.words[0]=0,this.length=1;var S=0;for(d=this.length-1;d>=0&&(S!==0||d>=x);d--){var $=this.words[d]|0;this.words[d]=S<<26-w|$>>>w,S=$&I}return _&&S!==0&&(_.words[_.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(h,p,m){return r(this.negative===0),this.iushrn(h,p,m)},i.prototype.shln=function(h){return this.clone().ishln(h)},i.prototype.ushln=function(h){return this.clone().iushln(h)},i.prototype.shrn=function(h){return this.clone().ishrn(h)},i.prototype.ushrn=function(h){return this.clone().iushrn(h)},i.prototype.testn=function(h){r(typeof h=="number"&&h>=0);var p=h%26,m=(h-p)/26,x=1<<p;if(this.length<=m)return!1;var w=this.words[m];return!!(w&x)},i.prototype.imaskn=function(h){r(typeof h=="number"&&h>=0);var p=h%26,m=(h-p)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(p!==0&&m++,this.length=Math.min(m,this.length),p!==0){var x=67108863^67108863>>>p<<p;this.words[this.length-1]&=x}return this.strip()},i.prototype.maskn=function(h){return this.clone().imaskn(h)},i.prototype.iaddn=function(h){return r(typeof h=="number"),r(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},i.prototype._iaddn=function(h){this.words[0]+=h;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},i.prototype.isubn=function(h){if(r(typeof h=="number"),r(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},i.prototype.addn=function(h){return this.clone().iaddn(h)},i.prototype.subn=function(h){return this.clone().isubn(h)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(h,p,m){var x=h.length+m,w;this._expand(x);var T,I=0;for(w=0;w<h.length;w++){T=(this.words[w+m]|0)+I;var _=(h.words[w]|0)*p;T-=_&67108863,I=(T>>26)-(_/67108864|0),this.words[w+m]=T&67108863}for(;w<this.length-m;w++)T=(this.words[w+m]|0)+I,I=T>>26,this.words[w+m]=T&67108863;if(I===0)return this.strip();for(r(I===-1),I=0,w=0;w<this.length;w++)T=-(this.words[w]|0)+I,I=T>>26,this.words[w]=T&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(h,p){var m=this.length-h.length,x=this.clone(),w=h,T=w.words[w.length-1]|0,I=this._countBits(T);m=26-I,m!==0&&(w=w.ushln(m),x.iushln(m),T=w.words[w.length-1]|0);var _=x.length-w.length,d;if(p!=="mod"){d=new i(null),d.length=_+1,d.words=new Array(d.length);for(var S=0;S<d.length;S++)d.words[S]=0}var $=x.clone()._ishlnsubmul(w,1,_);$.negative===0&&(x=$,d&&(d.words[_]=1));for(var Y=_-1;Y>=0;Y--){var W=(x.words[w.length+Y]|0)*67108864+(x.words[w.length+Y-1]|0);for(W=Math.min(W/T|0,67108863),x._ishlnsubmul(w,W,Y);x.negative!==0;)W--,x.negative=0,x._ishlnsubmul(w,1,Y),x.isZero()||(x.negative^=1);d&&(d.words[Y]=W)}return d&&d.strip(),x.strip(),p!=="div"&&m!==0&&x.iushrn(m),{div:d||null,mod:x}},i.prototype.divmod=function(h,p,m){if(r(!h.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,w,T;return this.negative!==0&&h.negative===0?(T=this.neg().divmod(h,p),p!=="mod"&&(x=T.div.neg()),p!=="div"&&(w=T.mod.neg(),m&&w.negative!==0&&w.iadd(h)),{div:x,mod:w}):this.negative===0&&h.negative!==0?(T=this.divmod(h.neg(),p),p!=="mod"&&(x=T.div.neg()),{div:x,mod:T.mod}):(this.negative&h.negative)!=0?(T=this.neg().divmod(h.neg(),p),p!=="div"&&(w=T.mod.neg(),m&&w.negative!==0&&w.isub(h)),{div:T.div,mod:w}):h.length>this.length||this.cmp(h)<0?{div:new i(0),mod:this}:h.length===1?p==="div"?{div:this.divn(h.words[0]),mod:null}:p==="mod"?{div:null,mod:new i(this.modn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new i(this.modn(h.words[0]))}:this._wordDiv(h,p)},i.prototype.div=function(h){return this.divmod(h,"div",!1).div},i.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},i.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},i.prototype.divRound=function(h){var p=this.divmod(h);if(p.mod.isZero())return p.div;var m=p.div.negative!==0?p.mod.isub(h):p.mod,x=h.ushrn(1),w=h.andln(1),T=m.cmp(x);return T<0||w===1&&T===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},i.prototype.modn=function(h){r(h<=67108863);for(var p=(1<<26)%h,m=0,x=this.length-1;x>=0;x--)m=(p*m+(this.words[x]|0))%h;return m},i.prototype.idivn=function(h){r(h<=67108863);for(var p=0,m=this.length-1;m>=0;m--){var x=(this.words[m]|0)+p*67108864;this.words[m]=x/h|0,p=x%h}return this.strip()},i.prototype.divn=function(h){return this.clone().idivn(h)},i.prototype.egcd=function(h){r(h.negative===0),r(!h.isZero());var p=this,m=h.clone();p.negative!==0?p=p.umod(h):p=p.clone();for(var x=new i(1),w=new i(0),T=new i(0),I=new i(1),_=0;p.isEven()&&m.isEven();)p.iushrn(1),m.iushrn(1),++_;for(var d=m.clone(),S=p.clone();!p.isZero();){for(var $=0,Y=1;(p.words[0]&Y)==0&&$<26;++$,Y<<=1);if($>0)for(p.iushrn($);$-- >0;)(x.isOdd()||w.isOdd())&&(x.iadd(d),w.isub(S)),x.iushrn(1),w.iushrn(1);for(var W=0,X=1;(m.words[0]&X)==0&&W<26;++W,X<<=1);if(W>0)for(m.iushrn(W);W-- >0;)(T.isOdd()||I.isOdd())&&(T.iadd(d),I.isub(S)),T.iushrn(1),I.iushrn(1);p.cmp(m)>=0?(p.isub(m),x.isub(T),w.isub(I)):(m.isub(p),T.isub(x),I.isub(w))}return{a:T,b:I,gcd:m.iushln(_)}},i.prototype._invmp=function(h){r(h.negative===0),r(!h.isZero());var p=this,m=h.clone();p.negative!==0?p=p.umod(h):p=p.clone();for(var x=new i(1),w=new i(0),T=m.clone();p.cmpn(1)>0&&m.cmpn(1)>0;){for(var I=0,_=1;(p.words[0]&_)==0&&I<26;++I,_<<=1);if(I>0)for(p.iushrn(I);I-- >0;)x.isOdd()&&x.iadd(T),x.iushrn(1);for(var d=0,S=1;(m.words[0]&S)==0&&d<26;++d,S<<=1);if(d>0)for(m.iushrn(d);d-- >0;)w.isOdd()&&w.iadd(T),w.iushrn(1);p.cmp(m)>=0?(p.isub(m),x.isub(w)):(m.isub(p),w.isub(x))}var $;return p.cmpn(1)===0?$=x:$=w,$.cmpn(0)<0&&$.iadd(h),$},i.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var p=this.clone(),m=h.clone();p.negative=0,m.negative=0;for(var x=0;p.isEven()&&m.isEven();x++)p.iushrn(1),m.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;m.isEven();)m.iushrn(1);var w=p.cmp(m);if(w<0){var T=p;p=m,m=T}else if(w===0||m.cmpn(1)===0)break;p.isub(m)}while(!0);return m.iushln(x)},i.prototype.invm=function(h){return this.egcd(h).a.umod(h)},i.prototype.isEven=function(){return(this.words[0]&1)==0},i.prototype.isOdd=function(){return(this.words[0]&1)==1},i.prototype.andln=function(h){return this.words[0]&h},i.prototype.bincn=function(h){r(typeof h=="number");var p=h%26,m=(h-p)/26,x=1<<p;if(this.length<=m)return this._expand(m+1),this.words[m]|=x,this;for(var w=x,T=m;w!==0&&T<this.length;T++){var I=this.words[T]|0;I+=w,w=I>>>26,I&=67108863,this.words[T]=I}return w!==0&&(this.words[T]=w,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(h){var p=h<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var m;if(this.length>1)m=1;else{p&&(h=-h),r(h<=67108863,"Number is too big");var x=this.words[0]|0;m=x===h?0:x<h?-1:1}return this.negative!==0?-m|0:m},i.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var p=this.ucmp(h);return this.negative!==0?-p|0:p},i.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var p=0,m=this.length-1;m>=0;m--){var x=this.words[m]|0,w=h.words[m]|0;if(x!==w){x<w?p=-1:x>w&&(p=1);break}}return p},i.prototype.gtn=function(h){return this.cmpn(h)===1},i.prototype.gt=function(h){return this.cmp(h)===1},i.prototype.gten=function(h){return this.cmpn(h)>=0},i.prototype.gte=function(h){return this.cmp(h)>=0},i.prototype.ltn=function(h){return this.cmpn(h)===-1},i.prototype.lt=function(h){return this.cmp(h)===-1},i.prototype.lten=function(h){return this.cmpn(h)<=0},i.prototype.lte=function(h){return this.cmp(h)<=0},i.prototype.eqn=function(h){return this.cmpn(h)===0},i.prototype.eq=function(h){return this.cmp(h)===0},i.red=function(h){return new H(h)},i.prototype.toRed=function(h){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(h){return this.red=h,this},i.prototype.forceRed=function(h){return r(!this.red,"Already a number in reduction context"),this._forceRed(h)},i.prototype.redAdd=function(h){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},i.prototype.redIAdd=function(h){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},i.prototype.redSub=function(h){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},i.prototype.redISub=function(h){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},i.prototype.redShl=function(h){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},i.prototype.redMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},i.prototype.redIMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(h){return r(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var P={k256:null,p224:null,p192:null,p25519:null};function q(B,h){this.name=B,this.p=new i(h,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}q.prototype._tmp=function(){var h=new i(null);return h.words=new Array(Math.ceil(this.n/13)),h},q.prototype.ireduce=function(h){var p=h,m;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),m=p.bitLength();while(m>this.n);var x=m<this.n?-1:p.ucmp(this.p);return x===0?(p.words[0]=0,p.length=1):x>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},q.prototype.split=function(h,p){h.iushrn(this.n,0,p)},q.prototype.imulK=function(h){return h.imul(this.k)};function F(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(F,q),F.prototype.split=function(h,p){for(var m=4194303,x=Math.min(h.length,9),w=0;w<x;w++)p.words[w]=h.words[w];if(p.length=x,h.length<=9){h.words[0]=0,h.length=1;return}var T=h.words[9];for(p.words[p.length++]=T&m,w=10;w<h.length;w++){var I=h.words[w]|0;h.words[w-10]=(I&m)<<4|T>>>22,T=I}T>>>=22,h.words[w-10]=T,T===0&&h.length>10?h.length-=10:h.length-=9},F.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var p=0,m=0;m<h.length;m++){var x=h.words[m]|0;p+=x*977,h.words[m]=p&67108863,p=x*64+(p/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function D(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(D,q);function O(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(O,q);function j(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(j,q),j.prototype.imulK=function(h){for(var p=0,m=0;m<h.length;m++){var x=(h.words[m]|0)*19+p,w=x&67108863;x>>>=26,h.words[m]=w,p=x}return p!==0&&(h.words[h.length++]=p),h},i._prime=function(h){if(P[h])return P[h];var p;if(h==="k256")p=new F;else if(h==="p224")p=new D;else if(h==="p192")p=new O;else if(h==="p25519")p=new j;else throw new Error("Unknown prime "+h);return P[h]=p,p};function H(B){if(typeof B=="string"){var h=i._prime(B);this.m=h.p,this.prime=h}else r(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}H.prototype._verify1=function(h){r(h.negative===0,"red works only with positives"),r(h.red,"red works only with red numbers")},H.prototype._verify2=function(h,p){r((h.negative|p.negative)==0,"red works only with positives"),r(h.red&&h.red===p.red,"red works only with red numbers")},H.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):h.umod(this.m)._forceRed(this)},H.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},H.prototype.add=function(h,p){this._verify2(h,p);var m=h.add(p);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},H.prototype.iadd=function(h,p){this._verify2(h,p);var m=h.iadd(p);return m.cmp(this.m)>=0&&m.isub(this.m),m},H.prototype.sub=function(h,p){this._verify2(h,p);var m=h.sub(p);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},H.prototype.isub=function(h,p){this._verify2(h,p);var m=h.isub(p);return m.cmpn(0)<0&&m.iadd(this.m),m},H.prototype.shl=function(h,p){return this._verify1(h),this.imod(h.ushln(p))},H.prototype.imul=function(h,p){return this._verify2(h,p),this.imod(h.imul(p))},H.prototype.mul=function(h,p){return this._verify2(h,p),this.imod(h.mul(p))},H.prototype.isqr=function(h){return this.imul(h,h.clone())},H.prototype.sqr=function(h){return this.mul(h,h)},H.prototype.sqrt=function(h){if(h.isZero())return h.clone();var p=this.m.andln(3);if(r(p%2==1),p===3){var m=this.m.add(new i(1)).iushrn(2);return this.pow(h,m)}for(var x=this.m.subn(1),w=0;!x.isZero()&&x.andln(1)===0;)w++,x.iushrn(1);r(!x.isZero());var T=new i(1).toRed(this),I=T.redNeg(),_=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);this.pow(d,_).cmp(I)!==0;)d.redIAdd(I);for(var S=this.pow(d,x),$=this.pow(h,x.addn(1).iushrn(1)),Y=this.pow(h,x),W=w;Y.cmp(T)!==0;){for(var X=Y,oe=0;X.cmp(T)!==0;oe++)X=X.redSqr();r(oe<W);var he=this.pow(S,new i(1).iushln(W-oe-1));$=$.redMul(he),S=he.redSqr(),Y=Y.redMul(S),W=oe}return $},H.prototype.invm=function(h){var p=h._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},H.prototype.pow=function(h,p){if(p.isZero())return new i(1).toRed(this);if(p.cmpn(1)===0)return h.clone();var m=4,x=new Array(1<<m);x[0]=new i(1).toRed(this),x[1]=h;for(var w=2;w<x.length;w++)x[w]=this.mul(x[w-1],h);var T=x[0],I=0,_=0,d=p.bitLength()%26;for(d===0&&(d=26),w=p.length-1;w>=0;w--){for(var S=p.words[w],$=d-1;$>=0;$--){var Y=S>>$&1;if(T!==x[0]&&(T=this.sqr(T)),Y===0&&I===0){_=0;continue}I<<=1,I|=Y,_++,!(_!==m&&(w!==0||$!==0))&&(T=this.mul(T,x[I]),_=0,I=0)}d=26}return T},H.prototype.convertTo=function(h){var p=h.umod(this.m);return p===h?p.clone():p},H.prototype.convertFrom=function(h){var p=h.clone();return p.red=null,p},i.mont=function(h){return new ne(h)};function ne(B){H.call(this,B),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ne,H),ne.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},ne.prototype.convertFrom=function(h){var p=this.imod(h.mul(this.rinv));return p.red=null,p},ne.prototype.imul=function(h,p){if(h.isZero()||p.isZero())return h.words[0]=0,h.length=1,h;var m=h.imul(p),x=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=m.isub(x).iushrn(this.shift),T=w;return w.cmp(this.m)>=0?T=w.isub(this.m):w.cmpn(0)<0&&(T=w.iadd(this.m)),T._forceRed(this)},ne.prototype.mul=function(h,p){if(h.isZero()||p.isZero())return new i(0)._forceRed(this);var m=h.mul(p),x=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=m.isub(x).iushrn(this.shift),T=w;return w.cmp(this.m)>=0?T=w.isub(this.m):w.cmpn(0)<0&&(T=w.iadd(this.m)),T._forceRed(this)},ne.prototype.invm=function(h){var p=this.imod(h._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof Bu=="undefined"||Bu,Gy)});var Un=C(($C,$y)=>{$y.exports=Yy;function Yy(t,e){if(!t)throw new Error(e||"Assertion failed")}Yy.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)}});var Iu=C(Wy=>{"use strict";var No=Wy;function Y7(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!=0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),a=i>>8,s=i&255;a?r.push(a,s):r.push(s)}return r}No.toArray=Y7;function Qy(t){return t.length===1?"0"+t:t}No.zero2=Qy;function Jy(t){for(var e="",r=0;r<t.length;r++)e+=Qy(t[r].toString(16));return e}No.toHex=Jy;No.encode=function(e,r){return r==="hex"?Jy(e):e}});var nr=C(Zy=>{"use strict";var Ar=Zy,W7=Yr(),Q7=Un(),Lo=Iu();Ar.assert=Q7;Ar.toArray=Lo.toArray;Ar.zero2=Lo.zero2;Ar.toHex=Lo.toHex;Ar.encode=Lo.encode;function J7(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,a=t.clone(),s=0;s<n.length;s++){var o,f=a.andln(i-1);a.isOdd()?(f>(i>>1)-1?o=(i>>1)-f:o=f,a.isubn(o)):o=0,n[s]=o,a.iushrn(1)}return n}Ar.getNAF=J7;function Z7(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,a;t.cmpn(-n)>0||e.cmpn(-i)>0;){var s=t.andln(3)+n&3,o=e.andln(3)+i&3;s===3&&(s=-1),o===3&&(o=-1);var f;(s&1)==0?f=0:(a=t.andln(7)+n&7,(a===3||a===5)&&o===2?f=-s:f=s),r[0].push(f);var u;(o&1)==0?u=0:(a=e.andln(7)+i&7,(a===3||a===5)&&s===2?u=-o:u=o),r[1].push(u),2*n===f+1&&(n=1-n),2*i===u+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}Ar.getJSF=Z7;function X7(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}Ar.cachedProperty=X7;function e9(t){return typeof t=="string"?Ar.toArray(t,"hex"):t}Ar.parseBytes=e9;function t9(t){return new W7(t,"hex","le")}Ar.intFromLE=t9});var Mu=C((QC,Cu)=>{var Tu;Cu.exports=function(e){return Tu||(Tu=new zn(null)),Tu.generate(e)};function zn(t){this.rand=t}Cu.exports.Rand=zn;zn.prototype.generate=function(e){return this._rand(e)};zn.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?zn.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?zn.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(zn.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(Pu=Za(),typeof Pu.randomBytes!="function")throw new Error("Not supported");zn.prototype._rand=function(e){return Pu.randomBytes(e)}}catch(t){}var Pu});var fs=C((JC,Xy)=>{"use strict";var bi=Yr(),os=nr(),Do=os.getNAF,r9=os.getJSF,Oo=os.assert;function Vn(t,e){this.type=t,this.p=new bi(e.p,16),this.red=e.prime?bi.red(e.prime):bi.mont(this.p),this.zero=new bi(0).toRed(this.red),this.one=new bi(1).toRed(this.red),this.two=new bi(2).toRed(this.red),this.n=e.n&&new bi(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}Xy.exports=Vn;Vn.prototype.point=function(){throw new Error("Not implemented")};Vn.prototype.validate=function(){throw new Error("Not implemented")};Vn.prototype._fixedNafMul=function(e,r){Oo(e.precomputed);var n=e._getDoubles(),i=Do(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2==0?2:1);a/=3;var s=[],o,f;for(o=0;o<i.length;o+=n.step){f=0;for(var u=o+n.step-1;u>=o;u--)f=(f<<1)+i[u];s.push(f)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),y=a;y>0;y--){for(o=0;o<s.length;o++)f=s[o],f===y?l=l.mixedAdd(n.points[o]):f===-y&&(l=l.mixedAdd(n.points[o].neg()));c=c.add(l)}return c.toP()};Vn.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=Do(r,n,this._bitLength),o=this.jpoint(null,null,null),f=s.length-1;f>=0;f--){for(var u=0;f>=0&&s[f]===0;f--)u++;if(f>=0&&u++,o=o.dblp(u),f<0)break;var c=s[f];Oo(c!==0),e.type==="affine"?c>0?o=o.mixedAdd(a[c-1>>1]):o=o.mixedAdd(a[-c-1>>1].neg()):c>0?o=o.add(a[c-1>>1]):o=o.add(a[-c-1>>1].neg())}return e.type==="affine"?o.toP():o};Vn.prototype._wnafMulAdd=function(e,r,n,i,a){var s=this._wnafT1,o=this._wnafT2,f=this._wnafT3,u=0,c,l,y;for(c=0;c<i;c++){y=r[c];var b=y._getNAFPoints(e);s[c]=b.wnd,o[c]=b.points}for(c=i-1;c>=1;c-=2){var g=c-1,v=c;if(s[g]!==1||s[v]!==1){f[g]=Do(n[g],s[g],this._bitLength),f[v]=Do(n[v],s[v],this._bitLength),u=Math.max(f[g].length,u),u=Math.max(f[v].length,u);continue}var E=[r[g],null,null,r[v]];r[g].y.cmp(r[v].y)===0?(E[1]=r[g].add(r[v]),E[2]=r[g].toJ().mixedAdd(r[v].neg())):r[g].y.cmp(r[v].y.redNeg())===0?(E[1]=r[g].toJ().mixedAdd(r[v]),E[2]=r[g].add(r[v].neg())):(E[1]=r[g].toJ().mixedAdd(r[v]),E[2]=r[g].toJ().mixedAdd(r[v].neg()));var A=[-3,-1,-5,-7,0,7,5,1,3],P=r9(n[g],n[v]);for(u=Math.max(P[0].length,u),f[g]=new Array(u),f[v]=new Array(u),l=0;l<u;l++){var q=P[0][l]|0,F=P[1][l]|0;f[g][l]=A[(q+1)*3+(F+1)],f[v][l]=0,o[g]=E}}var D=this.jpoint(null,null,null),O=this._wnafT4;for(c=u;c>=0;c--){for(var j=0;c>=0;){var H=!0;for(l=0;l<i;l++)O[l]=f[l][c]|0,O[l]!==0&&(H=!1);if(!H)break;j++,c--}if(c>=0&&j++,D=D.dblp(j),c<0)break;for(l=0;l<i;l++){var ne=O[l];ne!==0&&(ne>0?y=o[l][ne-1>>1]:ne<0&&(y=o[l][-ne-1>>1].neg()),y.type==="affine"?D=D.mixedAdd(y):D=D.add(y))}}for(c=0;c<i;c++)o[c]=null;return a?D:D.toP()};function br(t,e){this.curve=t,this.type=e,this.precomputed=null}Vn.BasePoint=br;br.prototype.eq=function(){throw new Error("Not implemented")};br.prototype.validate=function(){return this.curve.validate(this)};Vn.prototype.decodePoint=function(e,r){e=os.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1==2*n){e[0]===6?Oo(e[e.length-1]%2==0):e[0]===7&&Oo(e[e.length-1]%2==1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};br.prototype.encodeCompressed=function(e){return this.encode(e,!0)};br.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};br.prototype.encode=function(e,r){return os.encode(this._encode(r),e)};br.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};br.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};br.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};br.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};br.prototype._getBeta=function(){return null};br.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var us=C((ZC,Ru)=>{typeof Object.create=="function"?Ru.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Ru.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var t2=C((XC,e2)=>{"use strict";var n9=nr(),Ye=Yr(),qu=us(),sa=fs(),i9=n9.assert;function vr(t){sa.call(this,"short",t),this.a=new Ye(t.a,16).toRed(this.red),this.b=new Ye(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}qu(vr,sa);e2.exports=vr;vr.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Ye(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Ye(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],i9(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new Ye(o.a,16),b:new Ye(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};vr.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Ye.mont(e),n=new Ye(2).toRed(r).redInvm(),i=n.redNeg(),a=new Ye(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};vr.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new Ye(1),s=new Ye(0),o=new Ye(0),f=new Ye(1),u,c,l,y,b,g,v,E=0,A,P;n.cmpn(0)!==0;){var q=i.div(n);A=i.sub(q.mul(n)),P=o.sub(q.mul(a));var F=f.sub(q.mul(s));if(!l&&A.cmp(r)<0)u=v.neg(),c=a,l=A.neg(),y=P;else if(l&&++E==2)break;v=A,i=n,n=A,o=a,a=P,f=s,s=F}b=A.neg(),g=P;var D=l.sqr().add(y.sqr()),O=b.sqr().add(g.sqr());return O.cmp(D)>=0&&(b=u,g=c),l.negative&&(l=l.neg(),y=y.neg()),b.negative&&(b=b.neg(),g=g.neg()),[{a:l,b:y},{a:b,b:g}]};vr.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),o=a.mul(n.a),f=s.mul(i.a),u=a.mul(n.b),c=s.mul(i.b),l=e.sub(o).sub(f),y=u.add(c).neg();return{k1:l,k2:y}};vr.prototype.pointFromX=function(e,r){e=new Ye(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};vr.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};vr.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(r[s]),f=e[s],u=f._getBeta();o.k1.negative&&(o.k1.ineg(),f=f.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),i[s*2]=f,i[s*2+1]=u,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var c=this._wnafMulAdd(1,i,a,s*2,n),l=0;l<s*2;l++)i[l]=null,a[l]=null;return c};function Tt(t,e,r,n){sa.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ye(e,16),this.y=new Ye(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}qu(Tt,sa.BasePoint);vr.prototype.point=function(e,r,n){return new Tt(this,e,r,n)};vr.prototype.pointFromJSON=function(e,r){return Tt.fromJSON(this,e,r)};Tt.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Tt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Tt.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(o){return e.point(o[0],o[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};Tt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Tt.prototype.isInfinity=function(){return this.inf};Tt.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Tt.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};Tt.prototype.getX=function(){return this.x.fromRed()};Tt.prototype.getY=function(){return this.y.fromRed()};Tt.prototype.mul=function(e){return e=new Ye(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Tt.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};Tt.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};Tt.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Tt.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Tt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Nt(t,e,r,n){sa.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ye(0)):(this.x=new Ye(e,16),this.y=new Ye(r,16),this.z=new Ye(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}qu(Nt,sa.BasePoint);vr.prototype.jpoint=function(e,r,n){return new Nt(this,e,r,n)};Nt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Nt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Nt.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),f=i.redSub(a),u=s.redSub(o);if(f.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=f.redSqr(),l=c.redMul(f),y=i.redMul(c),b=u.redSqr().redIAdd(l).redISub(y).redISub(y),g=u.redMul(y.redISub(b)).redISub(s.redMul(l)),v=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(b,g,v)};Nt.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,s=e.y.redMul(r).redMul(this.z),o=n.redSub(i),f=a.redSub(s);if(o.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),l=n.redMul(u),y=f.redSqr().redIAdd(c).redISub(l).redISub(l),b=f.redMul(l.redISub(y)).redISub(a.redMul(c)),g=this.z.redMul(o);return this.curve.jpoint(y,b,g)};Nt.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,f=this.z,u=f.redSqr().redSqr(),c=o.redAdd(o);for(r=0;r<e;r++){var l=s.redSqr(),y=c.redSqr(),b=y.redSqr(),g=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(u)),v=s.redMul(y),E=g.redSqr().redISub(v.redAdd(v)),A=v.redISub(E),P=g.redMul(A);P=P.redIAdd(P).redISub(b);var q=c.redMul(f);r+1<e&&(u=u.redMul(b)),s=E,f=q,c=P}return this.curve.jpoint(s,c.redMul(a),f)};Nt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Nt.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i),u=f.redSqr().redISub(o).redISub(o),c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),e=u,r=f.redMul(o.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),y=this.y.redSqr(),b=y.redSqr(),g=this.x.redAdd(y).redSqr().redISub(l).redISub(b);g=g.redIAdd(g);var v=l.redAdd(l).redIAdd(l),E=v.redSqr(),A=b.redIAdd(b);A=A.redIAdd(A),A=A.redIAdd(A),e=E.redISub(g).redISub(g),r=v.redMul(g.redISub(e)).redISub(A),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Nt.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=f.redSqr().redISub(o).redISub(o);e=u;var c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),r=f.redMul(o.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),y=this.y.redSqr(),b=this.x.redMul(y),g=this.x.redSub(l).redMul(this.x.redAdd(l));g=g.redAdd(g).redIAdd(g);var v=b.redIAdd(b);v=v.redIAdd(v);var E=v.redAdd(v);e=g.redSqr().redISub(E),n=this.y.redAdd(this.z).redSqr().redISub(y).redISub(l);var A=y.redSqr();A=A.redIAdd(A),A=A.redIAdd(A),A=A.redIAdd(A),r=g.redMul(v.redISub(e)).redISub(A)}return this.curve.jpoint(e,r,n)};Nt.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),f=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),u=r.redAdd(r);u=u.redIAdd(u);var c=u.redMul(o),l=f.redSqr().redISub(c.redAdd(c)),y=c.redISub(l),b=o.redSqr();b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var g=f.redMul(y).redISub(b),v=n.redAdd(n).redMul(i);return this.curve.jpoint(l,g,v)};Nt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var f=o.redSqr(),u=i.redIAdd(i);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var c=a.redIAdd(o).redSqr().redISub(s).redISub(f).redISub(u),l=r.redMul(c);l=l.redIAdd(l),l=l.redIAdd(l);var y=this.x.redMul(f).redISub(l);y=y.redIAdd(y),y=y.redIAdd(y);var b=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(f)));b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var g=this.z.redAdd(o).redSqr().redISub(n).redISub(f);return this.curve.jpoint(y,b,g)};Nt.prototype.mul=function(e,r){return e=new Ye(e,r),this.curve._wnafMul(this,e)};Nt.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};Nt.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};Nt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Nt.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var i2=C((eT,r2)=>{"use strict";var oa=Yr(),n2=us(),Ko=fs(),a9=nr();function fa(t){Ko.call(this,"mont",t),this.a=new oa(t.a,16).toRed(this.red),this.b=new oa(t.b,16).toRed(this.red),this.i4=new oa(4).toRed(this.red).redInvm(),this.two=new oa(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}n2(fa,Ko);r2.exports=fa;fa.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function Pt(t,e,r){Ko.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new oa(e,16),this.z=new oa(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n2(Pt,Ko.BasePoint);fa.prototype.decodePoint=function(e,r){return this.point(a9.toArray(e,r),1)};fa.prototype.point=function(e,r){return new Pt(this,e,r)};fa.prototype.pointFromJSON=function(e){return Pt.fromJSON(this,e)};Pt.prototype.precompute=function(){};Pt.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Pt.fromJSON=function(e,r){return new Pt(e,r[0],r[1]||e.one)};Pt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Pt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Pt.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),s=r.redMul(i),o=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(s,o)};Pt.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Pt.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=e.x.redAdd(e.z),s=e.x.redSub(e.z),o=s.redMul(n),f=a.redMul(i),u=r.z.redMul(o.redAdd(f).redSqr()),c=r.x.redMul(o.redISub(f).redSqr());return this.curve.point(u,c)};Pt.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),a=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};Pt.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Pt.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Pt.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Pt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Pt.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var o2=C((tT,a2)=>{"use strict";var s9=nr(),mn=Yr(),s2=us(),Fo=fs(),o9=s9.assert;function Wr(t){this.twisted=(t.a|0)!=1,this.mOneA=this.twisted&&(t.a|0)==-1,this.extended=this.mOneA,Fo.call(this,"edwards",t),this.a=new mn(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new mn(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new mn(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o9(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)==1}s2(Wr,Fo);a2.exports=Wr;Wr.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Wr.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Wr.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};Wr.prototype.pointFromX=function(e,r){e=new mn(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(a.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var f=o.fromRed().isOdd();return(r&&!f||!r&&f)&&(o=o.redNeg()),this.point(e,o)};Wr.prototype.pointFromY=function(e,r){e=new mn(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};Wr.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function Oe(t,e,r,n,i){Fo.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new mn(e,16),this.y=new mn(r,16),this.z=n?new mn(n,16):this.curve.one,this.t=i&&new mn(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s2(Oe,Fo.BasePoint);Wr.prototype.pointFromJSON=function(e){return Oe.fromJSON(this,e)};Wr.prototype.point=function(e,r,n,i){return new Oe(this,e,r,n,i)};Oe.fromJSON=function(e,r){return new Oe(e,r[0],r[1],r[2])};Oe.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Oe.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Oe.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=i.redAdd(r),o=s.redSub(n),f=i.redSub(r),u=a.redMul(o),c=s.redMul(f),l=a.redMul(f),y=o.redMul(s);return this.curve.point(u,c,y,l)};Oe.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,s,o,f,u;if(this.curve.twisted){o=this.curve._mulA(r);var c=o.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(c.redSub(this.curve.two)),a=c.redMul(o.redSub(n)),s=c.redSqr().redSub(c).redSub(c)):(f=this.z.redSqr(),u=c.redSub(f).redISub(f),i=e.redSub(r).redISub(n).redMul(u),a=c.redMul(o.redSub(n)),s=c.redMul(u))}else o=r.redAdd(n),f=this.curve._mulC(this.z).redSqr(),u=o.redSub(f).redSub(f),i=this.curve._mulC(e.redISub(o)).redMul(u),a=this.curve._mulC(o).redMul(r.redISub(n)),s=o.redMul(u);return this.curve.point(i,a,s)};Oe.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Oe.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),o=a.redSub(i),f=a.redAdd(i),u=n.redAdd(r),c=s.redMul(o),l=f.redMul(u),y=s.redMul(u),b=o.redMul(f);return this.curve.point(c,l,b,y)};Oe.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(a),o=n.redSub(s),f=n.redAdd(s),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a),c=r.redMul(o).redMul(u),l,y;return this.curve.twisted?(l=r.redMul(f).redMul(a.redSub(this.curve._mulA(i))),y=o.redMul(f)):(l=r.redMul(f).redMul(a.redSub(i)),y=this.curve._mulC(o).redMul(f)),this.curve.point(c,l,y)};Oe.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Oe.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Oe.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Oe.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Oe.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Oe.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Oe.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Oe.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Oe.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Oe.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Oe.prototype.toP=Oe.prototype.normalize;Oe.prototype.mixedAdd=Oe.prototype.add});var ku=C(f2=>{"use strict";var Uo=f2;Uo.base=fs();Uo.short=t2();Uo.mont=i2();Uo.edwards=o2()});var Br=C(Ne=>{"use strict";var f9=Un(),u9=us();Ne.inherits=u9;function c9(t,e){return(t.charCodeAt(e)&64512)!=55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)==56320}function h9(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):c9(t,i)?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Ne.toArray=h9;function l9(t){for(var e="",r=0;r<t.length;r++)e+=u2(t[r].toString(16));return e}Ne.toHex=l9;function c2(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Ne.htonl=c2;function d9(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=c2(i)),r+=h2(i.toString(16))}return r}Ne.toHex32=d9;function u2(t){return t.length===1?"0"+t:t}Ne.zero2=u2;function h2(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Ne.zero8=h2;function p9(t,e,r,n){var i=r-e;f9(i%4==0);for(var a=new Array(i/4),s=0,o=e;s<a.length;s++,o+=4){var f;n==="big"?f=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:f=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],a[s]=f>>>0}return a}Ne.join32=p9;function y9(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var a=t[n];e==="big"?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=a&255):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=a&255)}return r}Ne.split32=y9;function b9(t,e){return t>>>e|t<<32-e}Ne.rotr32=b9;function v9(t,e){return t<<e|t>>>32-e}Ne.rotl32=v9;function g9(t,e){return t+e>>>0}Ne.sum32=g9;function m9(t,e,r){return t+e+r>>>0}Ne.sum32_3=m9;function x9(t,e,r,n){return t+e+r+n>>>0}Ne.sum32_4=x9;function w9(t,e,r,n,i){return t+e+r+n+i>>>0}Ne.sum32_5=w9;function E9(t,e,r,n){var i=t[e],a=t[e+1],s=n+a>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s}Ne.sum64=E9;function _9(t,e,r,n){var i=e+n>>>0,a=(i<e?1:0)+t+r;return a>>>0}Ne.sum64_hi=_9;function S9(t,e,r,n){var i=e+n;return i>>>0}Ne.sum64_lo=S9;function A9(t,e,r,n,i,a,s,o){var f=0,u=e;u=u+n>>>0,f+=u<e?1:0,u=u+a>>>0,f+=u<a?1:0,u=u+o>>>0,f+=u<o?1:0;var c=t+r+i+s+f;return c>>>0}Ne.sum64_4_hi=A9;function B9(t,e,r,n,i,a,s,o){var f=e+n+a+o;return f>>>0}Ne.sum64_4_lo=B9;function I9(t,e,r,n,i,a,s,o,f,u){var c=0,l=e;l=l+n>>>0,c+=l<e?1:0,l=l+a>>>0,c+=l<a?1:0,l=l+o>>>0,c+=l<o?1:0,l=l+u>>>0,c+=l<u?1:0;var y=t+r+i+s+f+c;return y>>>0}Ne.sum64_5_hi=I9;function C9(t,e,r,n,i,a,s,o,f,u){var c=e+n+a+o+u;return c>>>0}Ne.sum64_5_lo=C9;function T9(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Ne.rotr64_hi=T9;function P9(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ne.rotr64_lo=P9;function M9(t,e,r){return t>>>r}Ne.shr64_hi=M9;function R9(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ne.shr64_lo=R9});var ua=C(l2=>{"use strict";var d2=Br(),q9=Un();function zo(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}l2.BlockHash=zo;zo.prototype.update=function(e,r){if(e=d2.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=d2.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};zo.prototype.digest=function(e){return this.update(this._pad()),q9(this.pending===null),this._digest(e)};zo.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var a=1;a<n;a++)i[a]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=e>>>24&255,i[a++]=e>>>16&255,i[a++]=e>>>8&255,i[a++]=e&255}else for(i[a++]=e&255,i[a++]=e>>>8&255,i[a++]=e>>>16&255,i[a++]=e>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,s=8;s<this.padLength;s++)i[a++]=0;return i}});var Nu=C(xn=>{"use strict";var k9=Br(),Qr=k9.rotr32;function N9(t,e,r,n){if(t===0)return p2(e,r,n);if(t===1||t===3)return b2(e,r,n);if(t===2)return y2(e,r,n)}xn.ft_1=N9;function p2(t,e,r){return t&e^~t&r}xn.ch32=p2;function y2(t,e,r){return t&e^t&r^e&r}xn.maj32=y2;function b2(t,e,r){return t^e^r}xn.p32=b2;function L9(t){return Qr(t,2)^Qr(t,13)^Qr(t,22)}xn.s0_256=L9;function D9(t){return Qr(t,6)^Qr(t,11)^Qr(t,25)}xn.s1_256=D9;function O9(t){return Qr(t,7)^Qr(t,18)^t>>>3}xn.g0_256=O9;function K9(t){return Qr(t,17)^Qr(t,19)^t>>>10}xn.g1_256=K9});var m2=C((sT,v2)=>{"use strict";var ca=Br(),F9=ua(),U9=Nu(),Lu=ca.rotl32,cs=ca.sum32,z9=ca.sum32_5,V9=U9.ft_1,g2=F9.BlockHash,H9=[1518500249,1859775393,2400959708,3395469782];function Jr(){if(!(this instanceof Jr))return new Jr;g2.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ca.inherits(Jr,g2);v2.exports=Jr;Jr.blockSize=512;Jr.outSize=160;Jr.hmacStrength=80;Jr.padLength=64;Jr.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Lu(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var a=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],u=this.h[4];for(i=0;i<n.length;i++){var c=~~(i/20),l=z9(Lu(a,5),V9(c,s,o,f),u,n[i],H9[c]);u=f,f=o,o=Lu(s,30),s=a,a=l}this.h[0]=cs(this.h[0],a),this.h[1]=cs(this.h[1],s),this.h[2]=cs(this.h[2],o),this.h[3]=cs(this.h[3],f),this.h[4]=cs(this.h[4],u)};Jr.prototype._digest=function(e){return e==="hex"?ca.toHex32(this.h,"big"):ca.split32(this.h,"big")}});var Du=C((oT,x2)=>{"use strict";var ha=Br(),j9=ua(),la=Nu(),G9=Un(),Ir=ha.sum32,$9=ha.sum32_4,Y9=ha.sum32_5,W9=la.ch32,Q9=la.maj32,J9=la.s0_256,Z9=la.s1_256,X9=la.g0_256,eE=la.g1_256,w2=j9.BlockHash,tE=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Zr(){if(!(this instanceof Zr))return new Zr;w2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=tE,this.W=new Array(64)}ha.inherits(Zr,w2);x2.exports=Zr;Zr.blockSize=512;Zr.outSize=256;Zr.hmacStrength=192;Zr.padLength=64;Zr.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=$9(eE(n[i-2]),n[i-7],X9(n[i-15]),n[i-16]);var a=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],u=this.h[4],c=this.h[5],l=this.h[6],y=this.h[7];for(G9(this.k.length===n.length),i=0;i<n.length;i++){var b=Y9(y,Z9(u),W9(u,c,l),this.k[i],n[i]),g=Ir(J9(a),Q9(a,s,o));y=l,l=c,c=u,u=Ir(f,b),f=o,o=s,s=a,a=Ir(b,g)}this.h[0]=Ir(this.h[0],a),this.h[1]=Ir(this.h[1],s),this.h[2]=Ir(this.h[2],o),this.h[3]=Ir(this.h[3],f),this.h[4]=Ir(this.h[4],u),this.h[5]=Ir(this.h[5],c),this.h[6]=Ir(this.h[6],l),this.h[7]=Ir(this.h[7],y)};Zr.prototype._digest=function(e){return e==="hex"?ha.toHex32(this.h,"big"):ha.split32(this.h,"big")}});var S2=C((fT,E2)=>{"use strict";var Ou=Br(),_2=Du();function wn(){if(!(this instanceof wn))return new wn;_2.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Ou.inherits(wn,_2);E2.exports=wn;wn.blockSize=512;wn.outSize=224;wn.hmacStrength=192;wn.padLength=64;wn.prototype._digest=function(e){return e==="hex"?Ou.toHex32(this.h.slice(0,7),"big"):Ou.split32(this.h.slice(0,7),"big")}});var Uu=C((uT,A2)=>{"use strict";var Zt=Br(),rE=ua(),nE=Un(),Xr=Zt.rotr64_hi,en=Zt.rotr64_lo,B2=Zt.shr64_hi,I2=Zt.shr64_lo,Hn=Zt.sum64,Ku=Zt.sum64_hi,Fu=Zt.sum64_lo,iE=Zt.sum64_4_hi,aE=Zt.sum64_4_lo,sE=Zt.sum64_5_hi,oE=Zt.sum64_5_lo,C2=rE.BlockHash,fE=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Cr(){if(!(this instanceof Cr))return new Cr;C2.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=fE,this.W=new Array(160)}Zt.inherits(Cr,C2);A2.exports=Cr;Cr.blockSize=1024;Cr.outSize=512;Cr.hmacStrength=192;Cr.padLength=128;Cr.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var a=hE(n[i-4],n[i-3]),s=lE(n[i-4],n[i-3]),o=n[i-14],f=n[i-13],u=uE(n[i-30],n[i-29]),c=cE(n[i-30],n[i-29]),l=n[i-32],y=n[i-31];n[i]=iE(a,s,o,f,u,c,l,y),n[i+1]=aE(a,s,o,f,u,c,l,y)}};Cr.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],f=this.h[4],u=this.h[5],c=this.h[6],l=this.h[7],y=this.h[8],b=this.h[9],g=this.h[10],v=this.h[11],E=this.h[12],A=this.h[13],P=this.h[14],q=this.h[15];nE(this.k.length===n.length);for(var F=0;F<n.length;F+=2){var D=P,O=q,j=mE(y,b),H=xE(y,b),ne=dE(y,b,g,v,E,A),B=pE(y,b,g,v,E,A),h=this.k[F],p=this.k[F+1],m=n[F],x=n[F+1],w=sE(D,O,j,H,ne,B,h,p,m,x),T=oE(D,O,j,H,ne,B,h,p,m,x);D=vE(i,a),O=gE(i,a),j=yE(i,a,s,o,f,u),H=bE(i,a,s,o,f,u);var I=Ku(D,O,j,H),_=Fu(D,O,j,H);P=E,q=A,E=g,A=v,g=y,v=b,y=Ku(c,l,w,T),b=Fu(l,l,w,T),c=f,l=u,f=s,u=o,s=i,o=a,i=Ku(w,T,I,_),a=Fu(w,T,I,_)}Hn(this.h,0,i,a),Hn(this.h,2,s,o),Hn(this.h,4,f,u),Hn(this.h,6,c,l),Hn(this.h,8,y,b),Hn(this.h,10,g,v),Hn(this.h,12,E,A),Hn(this.h,14,P,q)};Cr.prototype._digest=function(e){return e==="hex"?Zt.toHex32(this.h,"big"):Zt.split32(this.h,"big")};function dE(t,e,r,n,i){var a=t&r^~t&i;return a<0&&(a+=4294967296),a}function pE(t,e,r,n,i,a){var s=e&n^~e&a;return s<0&&(s+=4294967296),s}function yE(t,e,r,n,i){var a=t&r^t&i^r&i;return a<0&&(a+=4294967296),a}function bE(t,e,r,n,i,a){var s=e&n^e&a^n&a;return s<0&&(s+=4294967296),s}function vE(t,e){var r=Xr(t,e,28),n=Xr(e,t,2),i=Xr(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function gE(t,e){var r=en(t,e,28),n=en(e,t,2),i=en(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function mE(t,e){var r=Xr(t,e,14),n=Xr(t,e,18),i=Xr(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function xE(t,e){var r=en(t,e,14),n=en(t,e,18),i=en(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function uE(t,e){var r=Xr(t,e,1),n=Xr(t,e,8),i=B2(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function cE(t,e){var r=en(t,e,1),n=en(t,e,8),i=I2(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function hE(t,e){var r=Xr(t,e,19),n=Xr(e,t,29),i=B2(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}function lE(t,e){var r=en(t,e,19),n=en(e,t,29),i=I2(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}});var M2=C((cT,T2)=>{"use strict";var zu=Br(),P2=Uu();function En(){if(!(this instanceof En))return new En;P2.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}zu.inherits(En,P2);T2.exports=En;En.blockSize=1024;En.outSize=384;En.hmacStrength=192;En.padLength=128;En.prototype._digest=function(e){return e==="hex"?zu.toHex32(this.h.slice(0,12),"big"):zu.split32(this.h.slice(0,12),"big")}});var R2=C(da=>{"use strict";da.sha1=m2();da.sha224=S2();da.sha256=Du();da.sha384=M2();da.sha512=Uu()});var O2=C(q2=>{"use strict";var vi=Br(),wE=ua(),Vo=vi.rotl32,k2=vi.sum32,hs=vi.sum32_3,N2=vi.sum32_4,L2=wE.BlockHash;function tn(){if(!(this instanceof tn))return new tn;L2.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}vi.inherits(tn,L2);q2.ripemd160=tn;tn.blockSize=512;tn.outSize=160;tn.hmacStrength=192;tn.padLength=64;tn.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],f=n,u=i,c=a,l=s,y=o,b=0;b<80;b++){var g=k2(Vo(N2(n,D2(b,i,a,s),e[SE[b]+r],EE(b)),BE[b]),o);n=o,o=s,s=Vo(a,10),a=i,i=g,g=k2(Vo(N2(f,D2(79-b,u,c,l),e[AE[b]+r],_E(b)),IE[b]),y),f=y,y=l,l=Vo(c,10),c=u,u=g}g=hs(this.h[1],a,l),this.h[1]=hs(this.h[2],s,y),this.h[2]=hs(this.h[3],o,f),this.h[3]=hs(this.h[4],n,u),this.h[4]=hs(this.h[0],i,c),this.h[0]=g};tn.prototype._digest=function(e){return e==="hex"?vi.toHex32(this.h,"little"):vi.split32(this.h,"little")};function D2(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function EE(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function _E(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var SE=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],AE=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],BE=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],IE=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var F2=C((dT,K2)=>{"use strict";var CE=Br(),TE=Un();function pa(t,e,r){if(!(this instanceof pa))return new pa(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(CE.toArray(e,r))}K2.exports=pa;pa.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),TE(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};pa.prototype.update=function(e,r){return this.inner.update(e,r),this};pa.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var Ho=C(U2=>{var Lt=U2;Lt.utils=Br();Lt.common=ua();Lt.sha=R2();Lt.ripemd=O2();Lt.hmac=F2();Lt.sha1=Lt.sha.sha1;Lt.sha256=Lt.sha.sha256;Lt.sha224=Lt.sha.sha224;Lt.sha384=Lt.sha.sha384;Lt.sha512=Lt.sha.sha512;Lt.ripemd160=Lt.ripemd.ripemd160});var V2=C((yT,z2)=>{z2.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var jo=C(H2=>{"use strict";var Vu=H2,jn=Ho(),Hu=ku(),PE=nr(),j2=PE.assert;function G2(t){t.type==="short"?this.curve=new Hu.short(t):t.type==="edwards"?this.curve=new Hu.edwards(t):this.curve=new Hu.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,j2(this.g.validate(),"Invalid curve"),j2(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}Vu.PresetCurve=G2;function Gn(t,e){Object.defineProperty(Vu,t,{configurable:!0,enumerable:!0,get:function(){var r=new G2(e);return Object.defineProperty(Vu,t,{configurable:!0,enumerable:!0,value:r}),r}})}Gn("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:jn.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});Gn("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:jn.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});Gn("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:jn.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});Gn("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:jn.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});Gn("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:jn.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});Gn("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:jn.sha256,gRed:!1,g:["9"]});Gn("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:jn.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var ju;try{ju=V2()}catch(t){ju=void 0}Gn("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:jn.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",ju]})});var W2=C((vT,$2)=>{"use strict";var ME=Ho(),gi=Iu(),Y2=Un();function $n(t){if(!(this instanceof $n))return new $n(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=gi.toArray(t.entropy,t.entropyEnc||"hex"),r=gi.toArray(t.nonce,t.nonceEnc||"hex"),n=gi.toArray(t.pers,t.persEnc||"hex");Y2(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}$2.exports=$n;$n.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};$n.prototype._hmac=function(){return new ME.hmac(this.hash,this.K)};$n.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),!!e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};$n.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=gi.toArray(e,r),n=gi.toArray(n,i),Y2(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};$n.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=gi.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,e);return this._update(n),this._reseed++,gi.encode(s,r)}});var J2=C((gT,Q2)=>{"use strict";var RE=Yr(),qE=nr(),Gu=qE.assert;function Ft(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}Q2.exports=Ft;Ft.fromPublic=function(e,r,n){return r instanceof Ft?r:new Ft(e,{pub:r,pubEnc:n})};Ft.fromPrivate=function(e,r,n){return r instanceof Ft?r:new Ft(e,{priv:r,privEnc:n})};Ft.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ft.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ft.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ft.prototype._importPrivate=function(e,r){this.priv=new RE(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ft.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Gu(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Gu(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ft.prototype.derive=function(e){return e.validate()||Gu(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ft.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ft.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Ft.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var eb=C((mT,Z2)=>{"use strict";var Go=Yr(),$u=nr(),kE=$u.assert;function $o(t,e){if(t instanceof $o)return t;this._importDER(t,e)||(kE(t.r&&t.s,"Signature without r or s"),this.r=new Go(t.r,16),this.s=new Go(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}Z2.exports=$o;function NE(){this.place=0}function Yu(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,a=0,s=e.place;a<n;a++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function X2(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}$o.prototype._importDER=function(e,r){e=$u.toArray(e,r);var n=new NE;if(e[n.place++]!==48)return!1;var i=Yu(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=Yu(e,n);if(a===!1)return!1;var s=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var o=Yu(e,n);if(o===!1||e.length!==o+n.place)return!1;var f=e.slice(n.place,o+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new Go(s),this.s=new Go(f),this.recoveryParam=null,!0};function Wu(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}$o.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=X2(r),n=X2(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Wu(i,r.length),i=i.concat(r),i.push(2),Wu(i,n.length);var a=i.concat(n),s=[48];return Wu(s,a.length),s=s.concat(a),$u.encode(s,e)}});var ib=C((xT,tb)=>{"use strict";var mi=Yr(),rb=W2(),LE=nr(),Qu=jo(),DE=Mu(),nb=LE.assert,Ju=J2(),Yo=eb();function gr(t){if(!(this instanceof gr))return new gr(t);typeof t=="string"&&(nb(Object.prototype.hasOwnProperty.call(Qu,t),"Unknown curve "+t),t=Qu[t]),t instanceof Qu.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}tb.exports=gr;gr.prototype.keyPair=function(e){return new Ju(this,e)};gr.prototype.keyFromPrivate=function(e,r){return Ju.fromPrivate(this,e,r)};gr.prototype.keyFromPublic=function(e,r){return Ju.fromPublic(this,e,r)};gr.prototype.genKeyPair=function(e){e||(e={});for(var r=new rb({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||DE(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new mi(2));;){var a=new mi(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};gr.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};gr.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new mi(e,16));for(var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),o=e.toArray("be",a),f=new rb({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new mi(1)),c=0;;c++){var l=i.k?i.k(c):new mi(f.generate(this.n.byteLength()));if(l=this._truncateToN(l,!0),!(l.cmpn(1)<=0||l.cmp(u)>=0)){var y=this.g.mul(l);if(!y.isInfinity()){var b=y.getX(),g=b.umod(this.n);if(g.cmpn(0)!==0){var v=l.invm(this.n).mul(g.mul(r.getPrivate()).iadd(e));if(v=v.umod(this.n),v.cmpn(0)!==0){var E=(y.getY().isOdd()?1:0)|(b.cmp(g)!==0?2:0);return i.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),E^=1),new Yo({r:g,s:v,recoveryParam:E})}}}}}};gr.prototype.verify=function(e,r,n,i){e=this._truncateToN(new mi(e,16)),n=this.keyFromPublic(n,i),r=new Yo(r,"hex");var a=r.r,s=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o=s.invm(this.n),f=o.mul(e).umod(this.n),u=o.mul(a).umod(this.n),c;return this.curve._maxwellTrick?(c=this.g.jmulAdd(f,n.getPublic(),u),c.isInfinity()?!1:c.eqXToP(a)):(c=this.g.mulAdd(f,n.getPublic(),u),c.isInfinity()?!1:c.getX().umod(this.n).cmp(a)===0)};gr.prototype.recoverPubKey=function(t,e,r,n){nb((3&r)===r,"The recovery param is more than two bits"),e=new Yo(e,n);var i=this.n,a=new mi(t),s=e.r,o=e.s,f=r&1,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?s=this.curve.pointFromX(s.add(this.curve.n),f):s=this.curve.pointFromX(s,f);var c=e.r.invm(i),l=i.sub(a).mul(c).umod(i),y=o.mul(c).umod(i);return this.g.mulAdd(l,s,y)};gr.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Yo(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch(s){continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var fb=C((wT,ab)=>{"use strict";var ls=nr(),sb=ls.assert,ob=ls.parseBytes,ya=ls.cachedProperty;function Mt(t,e){this.eddsa=t,this._secret=ob(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=ob(e.pub)}Mt.fromPublic=function(e,r){return r instanceof Mt?r:new Mt(e,{pub:r})};Mt.fromSecret=function(e,r){return r instanceof Mt?r:new Mt(e,{secret:r})};Mt.prototype.secret=function(){return this._secret};ya(Mt,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});ya(Mt,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});ya(Mt,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});ya(Mt,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});ya(Mt,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});ya(Mt,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Mt.prototype.sign=function(e){return sb(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Mt.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Mt.prototype.getSecret=function(e){return sb(this._secret,"KeyPair is public only"),ls.encode(this.secret(),e)};Mt.prototype.getPublic=function(e){return ls.encode(this.pubBytes(),e)};ab.exports=Mt});var cb=C((ET,ub)=>{"use strict";var OE=Yr(),Wo=nr(),KE=Wo.assert,Qo=Wo.cachedProperty,FE=Wo.parseBytes;function xi(t,e){this.eddsa=t,typeof e!="object"&&(e=FE(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),KE(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof OE&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Qo(xi,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Qo(xi,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Qo(xi,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Qo(xi,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});xi.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};xi.prototype.toHex=function(){return Wo.encode(this.toBytes(),"hex").toUpperCase()};ub.exports=xi});var yb=C((_T,hb)=>{"use strict";var UE=Ho(),zE=jo(),ba=nr(),VE=ba.assert,lb=ba.parseBytes,db=fb(),pb=cb();function Xt(t){if(VE(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Xt))return new Xt(t);t=zE[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=UE.sha512}hb.exports=Xt;Xt.prototype.sign=function(e,r){e=lb(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),a=this.g.mul(i),s=this.encodePoint(a),o=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),f=i.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:f,Rencoded:s})};Xt.prototype.verify=function(e,r,n){e=lb(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),e),s=this.g.mul(r.S()),o=r.R().add(i.pub().mul(a));return o.eq(s)};Xt.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return ba.intFromLE(e.digest()).umod(this.curve.n)};Xt.prototype.keyFromPublic=function(e){return db.fromPublic(this,e)};Xt.prototype.keyFromSecret=function(e){return db.fromSecret(this,e)};Xt.prototype.makeSignature=function(e){return e instanceof pb?e:new pb(this,e)};Xt.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Xt.prototype.decodePoint=function(e){e=ba.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&~128),i=(e[r]&128)!=0,a=ba.intFromLE(n);return this.curve.pointFromY(a,i)};Xt.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Xt.prototype.decodeInt=function(e){return ba.intFromLE(e)};Xt.prototype.isPoint=function(e){return e instanceof this.pointClass}});var vb=C(bb=>{"use strict";var wi=bb;wi.version=Hy().version;wi.utils=nr();wi.rand=Mu();wi.curve=ku();wi.curves=jo();wi.ec=ib();wi.eddsa=yb()});var mb=C((AT,gb)=>{var HE=vb().ec,rn=new HE("secp256k1"),we=rn.curve,Le=we.n.constructor;function jE(t,e){let r=new Le(e);if(r.cmp(we.p)>=0)return null;r=r.toRed(we.red);let n=r.redSqr().redIMul(r).redIAdd(we.b).redSqrt();return t===3!==n.isOdd()&&(n=n.redNeg()),rn.keyPair({pub:{x:r,y:n}})}function GE(t,e,r){let n=new Le(e),i=new Le(r);if(n.cmp(we.p)>=0||i.cmp(we.p)>=0||(n=n.toRed(we.red),i=i.toRed(we.red),(t===6||t===7)&&i.isOdd()!==(t===7)))return null;let a=n.redSqr().redIMul(n);return i.redSqr().redISub(a.redIAdd(we.b)).isZero()?rn.keyPair({pub:{x:n,y:i}}):null}function Yn(t){let e=t[0];switch(e){case 2:case 3:return t.length!==33?null:jE(e,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:GE(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function Ei(t,e){let r=e.encode(null,t.length===33);for(let n=0;n<t.length;++n)t[n]=r[n]}gb.exports={contextRandomize(){return 0},privateKeyVerify(t){let e=new Le(t);return e.cmp(we.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){let e=new Le(t),r=we.n.sub(e).umod(we.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){let r=new Le(e);if(r.cmp(we.n)>=0||(r.iadd(new Le(t)),r.cmp(we.n)>=0&&r.isub(we.n),r.isZero()))return 1;let n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},privateKeyTweakMul(t,e){let r=new Le(e);if(r.cmp(we.n)>=0||r.isZero())return 1;r.imul(new Le(t)),r.cmp(we.n)>=0&&(r=r.umod(we.n));let n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},publicKeyVerify(t){return Yn(t)===null?1:0},publicKeyCreate(t,e){let r=new Le(e);if(r.cmp(we.n)>=0||r.isZero())return 1;let n=rn.keyFromPrivate(e).getPublic();return Ei(t,n),0},publicKeyConvert(t,e){let r=Yn(e);if(r===null)return 1;let n=r.getPublic();return Ei(t,n),0},publicKeyNegate(t,e){let r=Yn(e);if(r===null)return 1;let n=r.getPublic();return n.y=n.y.redNeg(),Ei(t,n),0},publicKeyCombine(t,e){let r=new Array(e.length);for(let i=0;i<e.length;++i)if(r[i]=Yn(e[i]),r[i]===null)return 1;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?2:(Ei(t,n),0)},publicKeyTweakAdd(t,e,r){let n=Yn(e);if(n===null)return 1;if(r=new Le(r),r.cmp(we.n)>=0)return 2;let i=n.getPublic().add(we.g.mul(r));return i.isInfinity()?2:(Ei(t,i),0)},publicKeyTweakMul(t,e,r){let n=Yn(e);if(n===null)return 1;if(r=new Le(r),r.cmp(we.n)>=0||r.isZero())return 2;let i=n.getPublic().mul(r);return Ei(t,i),0},signatureNormalize(t){let e=new Le(t.subarray(0,32)),r=new Le(t.subarray(32,64));return e.cmp(we.n)>=0||r.cmp(we.n)>=0?1:(r.cmp(rn.nh)===1&&t.set(we.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){let r=e.subarray(0,32),n=e.subarray(32,64);if(new Le(r).cmp(we.n)>=0||new Le(n).cmp(we.n)>=0)return 1;let{output:i}=t,a=i.subarray(4,4+33);a[0]=0,a.set(r,1);let s=33,o=0;for(;s>1&&a[o]===0&&!(a[o+1]&128);--s,++o);if(a=a.subarray(o),a[0]&128||s>1&&a[0]===0&&!(a[1]&128))return 1;let f=i.subarray(6+33,6+33+33);f[0]=0,f.set(n,1);let u=33,c=0;for(;u>1&&f[c]===0&&!(f[c+1]&128);--u,++c);return f=f.subarray(c),f[0]&128||u>1&&f[0]===0&&!(f[1]&128)?1:(t.outputlen=6+s+u,i[0]=48,i[1]=t.outputlen-2,i[2]=2,i[3]=a.length,i.set(a,4),i[4+s]=2,i[5+s]=f.length,i.set(f,6+s),0)},signatureImport(t,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;let r=e[3];if(r===0||5+r>=e.length||e[4+r]!==2)return 1;let n=e[5+r];if(n===0||6+r+n!==e.length||e[4]&128||r>1&&e[4]===0&&!(e[5]&128)||e[r+6]&128||n>1&&e[r+6]===0&&!(e[r+7]&128))return 1;let i=e.subarray(4,4+r);if(i.length===33&&i[0]===0&&(i=i.subarray(1)),i.length>32)return 1;let a=e.subarray(6+r);if(a.length===33&&a[0]===0&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");let s=new Le(i);s.cmp(we.n)>=0&&(s=new Le(0));let o=new Le(e.subarray(6+r));return o.cmp(we.n)>=0&&(o=new Le(0)),t.set(s.toArrayLike(Uint8Array,"be",32),0),t.set(o.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,n,i){if(i){let o=i;i=f=>{let u=o(e,r,null,n,f);if(!(u instanceof Uint8Array&&u.length===32))throw new Error("This is the way");return new Le(u)}}let a=new Le(r);if(a.cmp(we.n)>=0||a.isZero())return 1;let s;try{s=rn.sign(e,r,{canonical:!0,k:i,pers:n})}catch(o){return 1}return t.signature.set(s.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(s.s.toArrayLike(Uint8Array,"be",32),32),t.recid=s.recoveryParam,0},ecdsaVerify(t,e,r){let n={r:t.subarray(0,32),s:t.subarray(32,64)},i=new Le(n.r),a=new Le(n.s);if(i.cmp(we.n)>=0||a.cmp(we.n)>=0)return 1;if(a.cmp(rn.nh)===1||i.isZero()||a.isZero())return 3;let s=Yn(r);if(s===null)return 2;let o=s.getPublic();return rn.verify(e,n,o)?0:3},ecdsaRecover(t,e,r,n){let i={r:e.slice(0,32),s:e.slice(32,64)},a=new Le(i.r),s=new Le(i.s);if(a.cmp(we.n)>=0||s.cmp(we.n)>=0)return 1;if(a.isZero()||s.isZero())return 2;let o;try{o=rn.recoverPubKey(n,i,r)}catch(f){return 2}return Ei(t,o),0},ecdh(t,e,r,n,i,a,s){let o=Yn(e);if(o===null)return 1;let f=new Le(r);if(f.cmp(we.n)>=0||f.isZero())return 2;let u=o.getPublic().mul(f);if(i===void 0){let c=u.encode(null,!0),l=rn.hash().update(c).digest();for(let y=0;y<32;++y)t[y]=l[y]}else{a||(a=new Uint8Array(32));let c=u.getX().toArray("be",32);for(let g=0;g<32;++g)a[g]=c[g];s||(s=new Uint8Array(32));let l=u.getY().toArray("be",32);for(let g=0;g<32;++g)s[g]=l[g];let y=i(a,s,n);if(!(y instanceof Uint8Array&&y.length===t.length))return 2;t.set(y)}return 0}}});var wb=C((BT,xb)=>{xb.exports=zy()(mb())});var Sb=C((IT,Eb)=>{"use strict";var Tr=wb(),{sha256:_b}=(Tn(),Cn);Eb.exports=t=>{let e=32;function r(){let c;do c=t(32);while(!Tr.privateKeyVerify(c));return c}async function n(c,l){let{digest:y}=await _b.digest(l),b=Tr.ecdsaSign(y,c);return Tr.signatureExport(b.signature)}async function i(c,l,y){let{digest:b}=await _b.digest(y);return l=Tr.signatureImport(l),Tr.ecdsaVerify(l,b,c)}function a(c){if(!Tr.publicKeyVerify(c))throw new Error("Invalid public key");return Tr.publicKeyConvert(c,!0)}function s(c){return Tr.publicKeyConvert(c,!1)}function o(c){if(!Tr.privateKeyVerify(c))throw new Error("Invalid private key")}function f(c){if(!Tr.publicKeyVerify(c))throw new Error("Invalid public key")}function u(c){return o(c),Tr.publicKeyCreate(c)}return{generateKey:r,privateKeyLength:e,hashAndSign:n,hashAndVerify:i,compressPublicKey:a,decompressPublicKey:s,validatePrivateKey:o,validatePublicKey:f,computePublicKey:u}}});var Cb=C((CT,Ab)=>{"use strict";var{sha256:Bb}=(Tn(),Cn),$E=qe(),Ib=or(),YE=Je(),WE=To();Ab.exports=(t,e,r)=>{r=r||Sb()(e);class n{constructor(u){r.validatePublicKey(u),this._key=u}verify(u,c){return r.hashAndVerify(this._key,c,u)}marshal(){return r.compressPublicKey(this._key)}get bytes(){return t.PublicKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(u){return Ib(this.bytes,u.bytes)}async hash(){let{bytes:u}=await Bb.digest(this.bytes);return u}}class i{constructor(u,c){this._key=u,this._publicKey=c||r.computePublicKey(u),r.validatePrivateKey(this._key),r.validatePublicKey(this._publicKey)}sign(u){return r.hashAndSign(this._key,u)}get public(){return new n(this._publicKey)}marshal(){return this._key}get bytes(){return t.PrivateKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(u){return Ib(this.bytes,u.bytes)}async hash(){let{bytes:u}=await Bb.digest(this.bytes);return u}async id(){let u=await this.public.hash();return YE(u,"base58btc")}async export(u,c="libp2p-key"){if(c==="libp2p-key")return WE.export(this.bytes,u);throw $E(new Error(`export format '${c}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function a(f){return new i(f)}function s(f){return new n(f)}async function o(){let f=await r.generateKey();return new i(f)}return{Secp256k1PublicKey:n,Secp256k1PrivateKey:i,unmarshalSecp256k1PrivateKey:a,unmarshalSecp256k1PublicKey:s,generateKeyPair:o}}});var Pb=C((TT,Tb)=>{"use strict";Tb.exports={SHA1:20,SHA256:32,SHA512:64}});var Zu=C(Mb=>{"use strict";var Rb=ts(),QE=Pb(),JE={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"},ZE=async(t,e)=>{let r=await Rb.get().subtle.sign({name:"HMAC"},t,e);return new Uint8Array(r,r.byteOffset,r.byteLength)};Mb.create=async function(t,e){let r=JE[t],n=await Rb.get().subtle.importKey("raw",e,{name:"HMAC",hash:{name:r}},!1,["sign"]);return{async digest(i){return ZE(n,i)},length:QE[t]}}});var Db=C((MT,qb)=>{"use strict";var kb=qe(),Nb=On(),XE=fr(),e_=Zu(),Lb={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};qb.exports=async(t,e,r)=>{let n=Lb[t];if(!n){let P=Object.keys(Lb).join(" / ");throw kb(new Error(`unknown cipher type '${t}'. Must be ${P}`),"ERR_INVALID_CIPHER_TYPE")}if(!e)throw kb(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");let i=n.keySize,a=n.ivSize,s=20,o=XE("key expansion"),f=2*(a+i+s),u=await e_.create(e,r),c=await u.digest(o),l=[],y=0;for(;y<f;){let P=await u.digest(Nb([c,o])),q=P.length;y+q>f&&(q=f-y),l.push(P),y+=q,c=await u.digest(c)}let b=f/2,g=Nb(l),v=g.slice(0,b),E=g.slice(b,f),A=P=>({iv:P.slice(0,a),cipherKey:P.slice(a,a+i),macKey:P.slice(a+i)});return{k1:A(v),k2:A(E)}}});var Kb=C((RT,Ob)=>{"use strict";var t_=qe();Ob.exports=function(t,e){if(!t.includes(e)){let r=t.join(" / ");throw t_(new Error(`Unknown curve: ${e}. Must be ${r}`),"ERR_INVALID_CURVE")}}});var jb=C(Fb=>{"use strict";var r_=qe(),ds=ts(),{base64urlToBuffer:Ub}=Co(),n_=Kb(),Xu=Je(),i_=On(),a_=or(),zb={"P-256":256,"P-384":384,"P-521":521};Fb.generateEphmeralKeyPair=async function(t){n_(Object.keys(zb),t);let e=await ds.get().subtle.generateKey({name:"ECDH",namedCurve:t},!0,["deriveBits"]),r=async(i,a)=>{let s;a?s=await ds.get().subtle.importKey("jwk",o_(t,a),{name:"ECDH",namedCurve:t},!1,["deriveBits"]):s=e.privateKey;let o=[await ds.get().subtle.importKey("jwk",Vb(t,i),{name:"ECDH",namedCurve:t},!1,[]),s],f=await ds.get().subtle.deriveBits({name:"ECDH",namedCurve:t,public:o[0]},o[1],zb[t]);return new Uint8Array(f,f.byteOffset,f.byteLength)},n=await ds.get().subtle.exportKey("jwk",e.publicKey);return{key:s_(n),genSharedKey:r}};var Hb={"P-256":32,"P-384":48,"P-521":66};function s_(t){let e=Hb[t.crv];return i_([Uint8Array.from([4]),Ub(t.x,e),Ub(t.y,e)],1+e*2)}function Vb(t,e){let r=Hb[t];if(a_(!e.slice(0,1),Uint8Array.from([4])))throw r_(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:t,x:Xu(e.slice(1,r+1),"base64url"),y:Xu(e.slice(1+r),"base64url"),ext:!0}}var o_=(t,e)=>({...Vb(t,e.public),d:Xu(e.private,"base64url")})});var $b=C((kT,Gb)=>{"use strict";var f_=jb();Gb.exports=async t=>f_.generateEphmeralKeyPair(t)});var tc=C((NT,Yb)=>{"use strict";var nn=io();Yi();H1();var ec=Be(),ps=qe(),u_=fr(),c_=Q1(),mr={rsa:ky(),ed25519:Fy(),secp256k1:Cb()(nn,Io())},Jo={message:"secp256k1 support requires libp2p-crypto-secp256k1 package",code:"ERR_MISSING_PACKAGE"};function va(t){let e=mr[t.toLowerCase()];if(!e){let r=Object.keys(mr).join(" / ");throw ps(new Error(`invalid or unsupported key type ${t}. Must be ${r}`),"ERR_UNSUPPORTED_KEY_TYPE")}return e}var h_=async(t,e)=>va(t).generateKeyPair(e),l_=async(t,e,r)=>{let n=va(t);if(t.toLowerCase()!=="ed25519")throw ps(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return n.generateKeyPairFromSeed(e,r)},d_=t=>{let e=nn.PublicKey.decode(t),r=e.Data;switch(e.Type){case nn.KeyType.RSA:return mr.rsa.unmarshalRsaPublicKey(r);case nn.KeyType.Ed25519:return mr.ed25519.unmarshalEd25519PublicKey(r);case nn.KeyType.Secp256k1:if(mr.secp256k1)return mr.secp256k1.unmarshalSecp256k1PublicKey(r);throw ps(new Error(Jo.message),Jo.code);default:va(e.Type)}},p_=(t,e)=>(e=(e||"rsa").toLowerCase(),va(e),t.bytes),Wb=async t=>{let e=nn.PrivateKey.decode(t),r=e.Data;switch(e.Type){case nn.KeyType.RSA:return mr.rsa.unmarshalRsaPrivateKey(r);case nn.KeyType.Ed25519:return mr.ed25519.unmarshalEd25519PrivateKey(r);case nn.KeyType.Secp256k1:if(mr.secp256k1)return mr.secp256k1.unmarshalSecp256k1PrivateKey(r);throw ps(new Error(Jo.message),Jo.code);default:va(e.Type)}},y_=(t,e)=>(e=(e||"rsa").toLowerCase(),va(e),t.bytes),b_=async(t,e)=>{try{let i=await c_.import(t,e);return Wb(i)}catch(i){}let r=ec.pki.decryptRsaPrivateKey(t,e);if(r===null)throw ps(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let n=ec.asn1.toDer(ec.pki.privateKeyToAsn1(r));return n=u_(n.getBytes(),"ascii"),mr.rsa.unmarshalRsaPrivateKey(n)};Yb.exports={supportedKeys:mr,keysPBM:nn,keyStretcher:Db(),generateEphemeralKeyPair:$b(),generateKeyPair:h_,generateKeyPairFromSeed:l_,unmarshalPublicKey:d_,marshalPublicKey:p_,unmarshalPrivateKey:Wb,marshalPrivateKey:y_,import:b_}});var Qb=C((LT,rc)=>{"use strict";function v_(t,{className:e,symbolName:r}){let n=Symbol.for(r),i={[e]:class extends t{constructor(...a){super(...a);Object.defineProperty(this,n,{value:!0})}get[Symbol.toStringTag](){return e}}}[e];return i[`is${e}`]=a=>!!(a&&a[n]),i}function g_(t,{className:e,symbolName:r,withoutNew:n}){let i=Symbol.for(r),a={[e]:function(...s){if(n&&!(this instanceof a))return new a(...s);let o=t.call(this,...s)||this;return o&&!o[i]&&Object.defineProperty(o,i,{value:!0}),o}}[e];return a.prototype=Object.create(t.prototype),a.prototype.constructor=a,Object.defineProperty(a.prototype,Symbol.toStringTag,{get(){return e}}),a[`is${e}`]=s=>!!(s&&s[i]),a}rc.exports=v_;rc.exports.proto=g_});var Xb=C((DT,Jb)=>{"use strict";var ga=ka(),Zb=ga.Reader,m_=ga.Writer,Et=ga.util,ys=ga.roots["libp2p-peer-id"]||(ga.roots["libp2p-peer-id"]={});ys.PeerIdProto=function(){function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.id=Et.newBuffer([]),t.prototype.pubKey=Et.newBuffer([]),t.prototype.privKey=Et.newBuffer([]),t.encode=function(r,n){return n||(n=m_.create()),n.uint32(10).bytes(r.id),r.pubKey!=null&&Object.hasOwnProperty.call(r,"pubKey")&&n.uint32(18).bytes(r.pubKey),r.privKey!=null&&Object.hasOwnProperty.call(r,"privKey")&&n.uint32(26).bytes(r.privKey),n},t.decode=function(r,n){r instanceof Zb||(r=Zb.create(r));for(var i=n===void 0?r.len:r.pos+n,a=new ys.PeerIdProto;r.pos<i;){var s=r.uint32();switch(s>>>3){case 1:a.id=r.bytes();break;case 2:a.pubKey=r.bytes();break;case 3:a.privKey=r.bytes();break;default:r.skipType(s&7);break}}if(!a.hasOwnProperty("id"))throw Et.ProtocolError("missing required 'id'",{instance:a});return a},t.fromObject=function(r){if(r instanceof ys.PeerIdProto)return r;var n=new ys.PeerIdProto;return r.id!=null&&(typeof r.id=="string"?Et.base64.decode(r.id,n.id=Et.newBuffer(Et.base64.length(r.id)),0):r.id.length&&(n.id=r.id)),r.pubKey!=null&&(typeof r.pubKey=="string"?Et.base64.decode(r.pubKey,n.pubKey=Et.newBuffer(Et.base64.length(r.pubKey)),0):r.pubKey.length&&(n.pubKey=r.pubKey)),r.privKey!=null&&(typeof r.privKey=="string"?Et.base64.decode(r.privKey,n.privKey=Et.newBuffer(Et.base64.length(r.privKey)),0):r.privKey.length&&(n.privKey=r.privKey)),n},t.toObject=function(r,n){n||(n={});var i={};return n.defaults&&(n.bytes===String?i.id="":(i.id=[],n.bytes!==Array&&(i.id=Et.newBuffer(i.id))),n.bytes===String?i.pubKey="":(i.pubKey=[],n.bytes!==Array&&(i.pubKey=Et.newBuffer(i.pubKey))),n.bytes===String?i.privKey="":(i.privKey=[],n.bytes!==Array&&(i.privKey=Et.newBuffer(i.privKey)))),r.id!=null&&r.hasOwnProperty("id")&&(i.id=n.bytes===String?Et.base64.encode(r.id,0,r.id.length):n.bytes===Array?Array.prototype.slice.call(r.id):r.id),r.pubKey!=null&&r.hasOwnProperty("pubKey")&&(i.pubKey=n.bytes===String?Et.base64.encode(r.pubKey,0,r.pubKey.length):n.bytes===Array?Array.prototype.slice.call(r.pubKey):r.pubKey),r.privKey!=null&&r.hasOwnProperty("privKey")&&(i.privKey=n.bytes===String?Et.base64.encode(r.privKey,0,r.privKey.length):n.bytes===Array?Array.prototype.slice.call(r.privKey):r.privKey),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,ga.util.toJSONOptions)},t}();Jb.exports=ys});var ma=C((Dt,ev)=>{"use strict";var{CID:Zo}=($i(),Gi),{base58btc:Xo}=(Rn(),ai),{base16:tv}=(Ip(),Bp),bs=(za(),y0),an=tc(),x_=Qb(),{PeerIdProto:rv}=Xb(),_i=or(),vs=fr(),w_=Je(),{identity:ef}=(Au(),Su),E_=112,nv=114,iv=class{constructor(e,r,n){if(!(e instanceof Uint8Array))throw new Error("invalid id provided");if(r&&n&&!_i(r.public.bytes,n.bytes))throw new Error("inconsistent arguments");this._id=e,this._idB58String=Xo.encode(this.id).substring(1),this._privKey=r,this._pubKey=n}get id(){return this._id}set id(e){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(e){this._privKey=e}get pubKey(){if(this._pubKey)return this._pubKey;if(this._privKey)return this._privKey.public;try{let e=bs.decode(this.id);e.code===ef.code&&(this._pubKey=an.unmarshalPublicKey(e.digest))}catch(e){}return this._pubKey}set pubKey(e){this._pubKey=e}marshalPubKey(){if(this.pubKey)return an.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return an.marshalPrivateKey(this.privKey)}marshal(e){return rv.encode({id:this.toBytes(),pubKey:this.marshalPubKey(),privKey:e?null:this.marshalPrivKey()}).finish()}toPrint(){let e=this.toB58String();e.startsWith("Qm")&&(e=e.slice(2));let r=6;return e.length<r&&(r=e.length),"<peer.ID "+e.substr(0,r)+">"}toJSON(){return{id:this.toB58String(),privKey:av(this.marshalPrivKey()),pubKey:av(this.marshalPubKey())}}toHexString(){return tv.encode(this.id).substring(1)}toBytes(){return this.id}toB58String(){return this._idB58String}toString(){if(!this._idCIDString){let e=Zo.createV1(nv,bs.decode(this.id));Object.defineProperty(this,"_idCIDString",{value:e.toString(),enumerable:!1})}return this._idCIDString}equals(e){if(e instanceof Uint8Array)return _i(this.id,e);if(e.id)return _i(this.id,e.id);throw new Error("not valid Id")}isEqual(e){return this.equals(e)}isValid(){return Boolean(this.privKey&&this.privKey.public&&this.privKey.public.bytes&&this.pubKey.bytes instanceof Uint8Array&&_i(this.privKey.public.bytes,this.pubKey.bytes))}hasInlinePublicKey(){try{if(bs.decode(this.id).code===ef.code)return!0}catch(e){}return!1}},sn=x_(iv,{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});Dt=ev.exports=sn;var gs=t=>t.bytes.length<=42?bs.create(ef.code,t.bytes).bytes:t.hash(),nc=async(t,e)=>{let r=await gs(e);return new sn(r,t,e)};Dt.create=async t=>{t=t||{},t.bits=t.bits||2048,t.keyType=t.keyType||"RSA";let e=await an.generateKeyPair(t.keyType,t.bits);return nc(e,e.public)};Dt.createFromHexString=t=>new sn(tv.decode("f"+t));Dt.createFromBytes=t=>{try{let e=Zo.decode(t);if(!sv(e))throw new Error("Supplied PeerID CID is invalid");return Dt.createFromCID(e)}catch{if(bs.decode(t).code!==ef.code)throw new Error("Supplied PeerID CID is invalid");return new sn(t)}};Dt.createFromB58String=t=>Dt.createFromBytes(Xo.decode("z"+t));var sv=t=>t.code===nv||t.code===E_;Dt.createFromCID=t=>{if(t=Zo.asCID(t),!t||!sv(t))throw new Error("Supplied PeerID CID is invalid");return new sn(t.multihash.bytes)};Dt.createFromPubKey=async t=>{let e=t;if(typeof e=="string"&&(e=vs(t,"base64pad")),!(e instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let r=await an.unmarshalPublicKey(e);return nc(null,r)};Dt.createFromPrivKey=async t=>{if(typeof t=="string"&&(t=vs(t,"base64pad")),!(t instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let e=await an.unmarshalPrivateKey(t);return nc(e,e.public)};Dt.createFromJSON=async t=>{let e=Xo.decode("z"+t.id),r=t.privKey&&vs(t.privKey,"base64pad"),n=t.pubKey&&vs(t.pubKey,"base64pad"),i=n&&await an.unmarshalPublicKey(n);if(!r)return new sn(e,null,i);let a=await an.unmarshalPrivateKey(r),s=await gs(a.public),o;if(i&&(o=await gs(i)),i&&!_i(s,o))throw new Error("Public and private key do not match");if(e&&!_i(s,e))throw new Error("Id and private key do not match");return new sn(e,a,i)};Dt.createFromProtobuf=async t=>{typeof t=="string"&&(t=vs(t,"base16"));let{id:e,privKey:r,pubKey:n}=rv.decode(t);r=r?await an.unmarshalPrivateKey(r):!1,n=n?await an.unmarshalPublicKey(n):!1;let i,a;if(r&&(a=await gs(r.public)),n&&(i=await gs(n)),r){if(n&&!_i(a,i))throw new Error("Public and private key do not match");return new sn(a,r,r.public)}if(n)return new sn(i,null,n);if(e)return new sn(e);throw new Error("Protobuf did not contain any usable key material")};Dt.parse=t=>t.charAt(0)==="1"?Dt.createFromBytes(Xo.decode(`z${t}`)):Dt.createFromCID(Zo.parse(t));Dt.isPeerId=t=>Boolean(typeof t=="object"&&t._id&&t._idB58String);function av(t){if(t)return w_(t,"base64pad")}});var xa=C((OT,tf)=>{"use strict";var ic=class extends Error{constructor(e){super(e);this.name="TimeoutError"}},ov=(t,e,r,n)=>{let i,a=new Promise((s,o)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===Infinity){s(t);return}n={customTimers:{setTimeout,clearTimeout},...n},i=n.customTimers.setTimeout.call(void 0,()=>{if(typeof r=="function"){try{s(r())}catch(c){o(c)}return}let f=typeof r=="string"?r:`Promise timed out after ${e} milliseconds`,u=r instanceof Error?r:new ic(f);typeof t.cancel=="function"&&t.cancel(),o(u)},e),(async()=>{try{s(await t)}catch(f){o(f)}finally{n.customTimers.clearTimeout.call(void 0,i)}})()});return a.clear=()=>{clearTimeout(i),i=void 0},a};tf.exports=ov;tf.exports.default=ov;tf.exports.TimeoutError=ic});var Xe=C(Ze=>{"use strict";var ac=F0(),{sha256:fv}=(Tn(),Cn),{base58btc:__}=(Rn(),ai),{Key:S_}=zs(),uv=Xs(),A_=eo(),{Record:B_}=Ni(),I_=ma(),C_=qe(),T_=On(),cv=fr(),hv=Je(),lv=xa();Ze.convertBuffer=async t=>(await fv.digest(t)).digest;Ze.convertPeerId=async t=>(await fv.digest(t.id)).digest;Ze.bufferToKey=t=>new S_("/"+Ze.encodeBase32(t),!1);Ze.keyForPublicKey=t=>T_([cv("/pk/"),t.id]);Ze.isPublicKeyKey=t=>hv(t.slice(0,4))==="/pk/";Ze.fromPublicKeyKey=t=>new I_(t.slice(4));Ze.now=()=>Date.now();Ze.encodeBase32=t=>hv(t,"base32");Ze.decodeBase32=t=>cv(t,"base32");Ze.sortClosestPeers=async(t,e)=>(await A_(t,async n=>{let i=await Ze.convertPeerId(n);return{peer:n,distance:uv(i,e)}})).sort(Ze.xorCompare).map(n=>n.peer);Ze.xorCompare=(t,e)=>uv.compare(t.distance,e.distance);Ze.pathSize=(t,e)=>Math.ceil(t/e);Ze.createPutRecord=(t,e)=>{let r=new Date;return new B_(t,e,r).serialize()};Ze.logger=(t,e)=>{let r=["libp2p","dht"];return e&&r.push(e),t&&r.push(`${t.toB58String().slice(0,8)}`),ac.formatters.b=i=>__.baseEncode(i),Object.assign(ac(r.join(":")),{error:ac(r.concat(["error"]).join(":"))})};Ze.TimeoutError=class extends Error{get code(){return"ETIMEDOUT"}};Ze.withTimeout=(t,e)=>{async function r(...n){if(!e)return t(...n);let i;try{i=await lv(t(...n),e)}catch(a){throw a instanceof lv.TimeoutError?C_(a,"ETIMEDOUT"):a}return i}return r};Ze.mapParallel=async function(t,e){let r=[];for await(let n of t)r.push(e(n));return Promise.all(r)}});var yv=C((UT,dv)=>{"use strict";var P_=ep(),rf=Xe(),pv=class{constructor(e,r){this.self=e,this._onPing=this._onPing.bind(this),this._onInit(r)}async _onInit(e){let r=await rf.convertPeerId(this.self);this.kb=new P_({localNodeId:r,numberOfNodesPerKBucket:e,numberOfNodesToPing:1}),this.kb.on("ping",this._onPing)}_onPing(e,r){let n=e[0];n&&this.kb.remove(n.id),this.kb.add(r)}get size(){return this.kb.count()}async find(e){let r=await rf.convertPeerId(e),n=this.closestPeer(r);if(n&&e.equals(n))return n}closestPeer(e){let r=this.closestPeers(e,1);if(r.length>0)return r[0]}closestPeers(e,r){return this.kb.closest(e,r).map(i=>i.peer)}async add(e){let r=await rf.convertPeerId(e);this.kb.add({id:r,peer:e})}async remove(e){let r=await rf.convertPeerId(e);this.kb.remove(r)}};dv.exports=pv});var Wn=C(jt=>{"use strict";var nf=jt.second=1e3,bv=jt.minute=60*nf,sc=jt.hour=60*bv;jt.MAX_RECORD_AGE=36*sc;jt.PROTOCOL_DHT="/kad/1.0.0";jt.PROVIDERS_KEY_PREFIX="/providers/";jt.PROVIDERS_LRU_CACHE_SIZE=256;jt.PROVIDERS_VALIDITY=24*sc;jt.PROVIDERS_CLEANUP_INTERVAL=sc;jt.READ_MESSAGE_TIMEOUT=10*nf;jt.GET_MANY_RECORD_COUNT=16;jt.K=20;jt.ALPHA=3;jt.defaultRandomWalk={enabled:!0,queriesPerPeriod:1,interval:5*bv,timeout:10*nf,delay:10*nf}});var fc=C((VT,wa)=>{var vv=(...t)=>{let e;for(;t.length;)e=t.shift()(e);return e},oc=t=>t&&(typeof t[Symbol.asyncIterator]=="function"||typeof t[Symbol.iterator]=="function"||typeof t.next=="function"),af=t=>t&&typeof t.sink=="function"&&oc(t.source),M_=t=>e=>(t.sink(e),t.source),gv=(...t)=>{if(af(t[0])){let e=t[0];t[0]=()=>e.source}else if(oc(t[0])){let e=t[0];t[0]=()=>e}if(t.length>1&&af(t[t.length-1])&&(t[t.length-1]=t[t.length-1].sink),t.length>2)for(let e=1;e<t.length-1;e++)af(t[e])&&(t[e]=M_(t[e]));return vv(...t)};wa.exports=gv;wa.exports.pipe=gv;wa.exports.rawPipe=vv;wa.exports.isIterable=oc;wa.exports.isDuplex=af});var uc=C((HT,mv)=>{"use strict";var{Buffer:Pr}=Mn(),xv=Symbol.for("BufferList");function Ke(t){if(!(this instanceof Ke))return new Ke(t);Ke._init.call(this,t)}Ke._init=function(e){Object.defineProperty(this,xv,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};Ke.prototype._new=function(e){return new Ke(e)};Ke.prototype._offset=function(e){if(e===0)return[0,0];let r=0;for(let n=0;n<this._bufs.length;n++){let i=r+this._bufs[n].length;if(e<i||n===this._bufs.length-1)return[n,e-r];r=i}};Ke.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let n=0;n<e;n++)r+=this._bufs[n].length;return r};Ke.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]};Ke.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};Ke.prototype.copy=function(e,r,n,i){if((typeof n!="number"||n<0)&&(n=0),(typeof i!="number"||i>this.length)&&(i=this.length),n>=this.length||i<=0)return e||Pr.alloc(0);let a=!!e,s=this._offset(n),o=i-n,f=o,u=a&&r||0,c=s[1];if(n===0&&i===this.length){if(!a)return this._bufs.length===1?this._bufs[0]:Pr.concat(this._bufs,this.length);for(let l=0;l<this._bufs.length;l++)this._bufs[l].copy(e,u),u+=this._bufs[l].length;return e}if(f<=this._bufs[s[0]].length-c)return a?this._bufs[s[0]].copy(e,r,c,c+f):this._bufs[s[0]].slice(c,c+f);a||(e=Pr.allocUnsafe(o));for(let l=s[0];l<this._bufs.length;l++){let y=this._bufs[l].length-c;if(f>y)this._bufs[l].copy(e,u,c),u+=y;else{this._bufs[l].copy(e,u,c,c+f),u+=y;break}f-=y,c&&(c=0)}return e.length>u?e.slice(0,u):e};Ke.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let n=this._offset(e),i=this._offset(r),a=this._bufs.slice(n[0],i[0]+1);return i[1]===0?a.pop():a[a.length-1]=a[a.length-1].slice(0,i[1]),n[1]!==0&&(a[0]=a[0].slice(n[1])),this._new(a)};Ke.prototype.toString=function(e,r,n){return this.slice(r,n).toString(e)};Ke.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};Ke.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};Ke.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(Pr.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(Pr.from(e));return this};Ke.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};Ke.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=Pr.from([t]):typeof t=="string"?t=Pr.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=Pr.from(t.buffer,t.byteOffset,t.byteLength):Pr.isBuffer(t)||(t=Pr.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let n=this._offset(e),i=n[0],a=n[1];for(;i<this._bufs.length;i++){let s=this._bufs[i];for(;a<s.length;)if(s.length-a>=t.length){let f=s.indexOf(t,a);if(f!==-1)return this._reverseOffset([i,f]);a=s.length-t.length+1}else{let f=this._reverseOffset([i,a]);if(this._match(f,t))return f;a++}a=0}return-1};Ke.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0};(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)(function(r){t[r]===null?Ke.prototype[r]=function(n,i){return this.slice(n,n+i)[r](0,i)}:Ke.prototype[r]=function(n=0){return this.slice(n,n+t[r])[r](0)}})(e)})();Ke.prototype._isBufferList=function(e){return e instanceof Ke||Ke.isBufferList(e)};Ke.isBufferList=function(e){return e!=null&&e[xv]};mv.exports=Ke});var _v=C((jT,wv)=>{wv.exports=cc;var Ev=128,R_=127,q_=~R_,k_=Math.pow(2,31);function cc(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw cc.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var n=r;t>=k_;)e[r++]=t&255|Ev,t/=128;for(;t&q_;)e[r++]=t&255|Ev,t>>>=7;return e[r]=t|0,cc.bytes=r-n+1,e}});var Bv=C((GT,Sv)=>{Sv.exports=hc;var N_=128,Av=127;function hc(t,e){var r=0,e=e||0,n=0,i=e,a,s=t.length;do{if(i>=s||n>49)throw hc.bytes=0,new RangeError("Could not decode varint");a=t[i++],r+=n<28?(a&Av)<<n:(a&Av)*Math.pow(2,n),n+=7}while(a>=N_);return hc.bytes=i-e,r}});var Cv=C(($T,Iv)=>{var L_=Math.pow(2,7),D_=Math.pow(2,14),O_=Math.pow(2,21),K_=Math.pow(2,28),F_=Math.pow(2,35),U_=Math.pow(2,42),z_=Math.pow(2,49),V_=Math.pow(2,56),H_=Math.pow(2,63);Iv.exports=function(t){return t<L_?1:t<D_?2:t<O_?3:t<K_?4:t<F_?5:t<U_?6:t<z_?7:t<V_?8:t<H_?9:10}});var Si=C((YT,Tv)=>{Tv.exports={encode:_v(),decode:Bv(),encodingLength:Cv()}});var lc=C((WT,Pv)=>{"use strict";var Mv=Si(),{Buffer:j_}=Mn(),Rv=(t,e,r)=>{let n=Mv.encode(t,e,r);return Rv.bytes=Mv.encode.bytes,e||j_.from(n)};Pv.exports=Rv});var Ov=C((QT,sf)=>{"use strict";var{Buffer:qv}=Mn(),kv=uc(),Nv=lc(),dc=8,Lv=10*1024;function Dv(t){t=t||{};let e=Math.max(t.poolSize||Lv,t.minPoolSize||dc),r=t.lengthEncoder||Nv;return async function*(i){let a=qv.alloc(e),s=0;for await(let o of i){r(o.length,a,s);let f=a.slice(s,s+r.bytes);s+=r.bytes,a.length-s<dc&&(a=qv.alloc(e),s=0),yield new kv().append(f).append(o)}}}Dv.single=(t,e)=>{e=e||{};let r=e.lengthEncoder||Nv;return new kv([r(t.length),t.slice()])};sf.exports=Dv;sf.exports.MIN_POOL_SIZE=dc;sf.exports.DEFAULT_POOL_SIZE=Lv});var pc=C((JT,Kv)=>{"use strict";var Fv=Si(),{Buffer:G_}=Mn(),$_=t=>new Proxy({},{get:(e,r)=>r[0]==="l"?t[r]:t.get(parseInt(r))}),Uv=t=>{let e=Fv.decode(G_.isBuffer(t)?t:$_(t));return Uv.bytes=Fv.decode.bytes,e};Kv.exports=Uv});var jv=C((ZT,of)=>{"use strict";var{Buffer:Y_}=Mn(),yc=uc(),W_=pc(),zv=8,Vv=1024*1024*4,Hv=Y_.alloc(0),Qn={LENGTH:"readLength",DATA:"readData"},Q_={[Qn.LENGTH]:(t,e,r,n)=>{e=e.append(t);let i;try{i=n.lengthDecoder(e)}catch(a){if(e.length>n.maxLengthLength)throw Object.assign(a,{message:"message length too long",code:"ERR_MSG_LENGTH_TOO_LONG"});if(a instanceof RangeError)return{mode:Qn.LENGTH,buffer:e,chunk:void 0,state:void 0,data:void 0};throw a}if(i>n.maxDataLength)throw Object.assign(new Error("message data too long"),{code:"ERR_MSG_DATA_TOO_LONG"});return t=e.shallowSlice(n.lengthDecoder.bytes),e=new yc,n.onLength&&n.onLength(i),i<=0?(n.onData&&n.onData(Hv),{mode:Qn.LENGTH,chunk:t,buffer:e,data:Hv}):{mode:Qn.DATA,chunk:t,buffer:e,state:{dataLength:i},data:void 0}},[Qn.DATA]:(t,e,r,n)=>{if(e=e.append(t),!r)throw new Error("state is required");if(e.length<r.dataLength)return{mode:Qn.DATA,buffer:e,state:r,chunk:void 0,data:void 0};let{dataLength:i}=r,a=e.shallowSlice(0,i),s=e.length>i?e.shallowSlice(i):void 0;return e=new yc,n.onData&&n.onData(a),{mode:Qn.LENGTH,chunk:s,buffer:e,state:void 0,data:a}}};function bc(t){t=t||{};let e={lengthDecoder:t.lengthDecoder||W_,maxLengthLength:t.maxLengthLength||zv,maxDataLength:t.maxDataLength||Vv,onLength:t.onLength,onData:t.onData};return async function*(n){let i=new yc,a=Qn.LENGTH,s;for await(let o of n){let f=o;for(;f;){let u=Q_[a](f,i,s,e);a=u.mode,f=u.chunk,i=u.buffer,s=u.state,u.data&&(yield u.data)}}if(i.length)throw Object.assign(new Error("unexpected end of input"),{code:"ERR_UNEXPECTED_EOF"})}}bc.fromReader=(t,e)=>{let r=1,n={[Symbol.asyncIterator](){return this},next:async()=>{try{return await t.next(r)}catch(a){if(a.code==="ERR_UNDER_READ")return{done:!0,value:null};throw a}finally{r=1}}};return bc({...e||{},onLength:a=>{r=a}})(n)};of.exports=bc;of.exports.MAX_LENGTH_LENGTH=zv;of.exports.MAX_DATA_LENGTH=Vv});var Yv=C((XT,Gv)=>{"use strict";var{Buffer:J_}=Mn(),$v=(t,e,r)=>(e=e||J_.allocUnsafe(4),e.writeInt32BE(t,r),e);$v.bytes=4;Gv.exports=$v});var Jv=C((eP,Wv)=>{"use strict";var Qv=t=>{if(t.length<4)throw RangeError("Could not decode int32BE");return t.readInt32BE(0)};Qv.bytes=4;Wv.exports=Qv});var vc=C(Ai=>{"use strict";Ai.encode=Ov();Ai.decode=jv();Ai.varintEncode=lc();Ai.varintDecode=pc();Ai.int32BEEncode=Yv();Ai.int32BEDecode=Jv()});var Xv=C((ff,Zv)=>{(function(t,e){typeof ff=="object"&&typeof Zv!="undefined"?e(ff):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis!="undefined"?globalThis:t||self,e(t.streamingIterables={}))})(ff,function(t){"use strict";async function*e(R,L){let N=[];for await(let K of L)N.push(K),N.length===R&&(yield N,N=[]);N.length>0&&(yield N)}function*r(R,L){let N=[];for(let K of L)N.push(K),N.length===R&&(yield N,N=[]);N.length>0&&(yield N)}function n(R,L){return L===void 0?N=>n(R,N):L[Symbol.asyncIterator]?e(R,L):r(R,L)}function i(R){if(typeof R.next=="function")return R;if(typeof R[Symbol.iterator]=="function")return R[Symbol.iterator]();if(typeof R[Symbol.asyncIterator]=="function")return R[Symbol.asyncIterator]();throw new TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function a(){let R,L;return{promise:new Promise((K,Z)=>{L=K,R=Z}),reject:R,resolve:L}}function s(R,L){let N=i(L),K=[],Z=[],ie=!1,ae=!1;function ze(){for(;Z.length>0&&K.length>0;){let ee=Z.shift(),{error:be,value:ir}=K.shift();be?ee.reject(be):ee.resolve({done:!1,value:ir})}for(;Z.length>0&&ae;){let{resolve:ee}=Z.shift();ee({done:!0,value:void 0})}}async function fe(){if(!ae&&!ie&&!(K.length>=R)){ie=!0;try{let{done:ee,value:be}=await N.next();ee?ae=!0:K.push({value:be})}catch(ee){ae=!0,K.push({error:ee})}ze(),ie=!1,fe()}}async function ue(){if(K.length>0){let{error:be,value:ir}=K.shift();if(be)throw be;return fe(),{done:!1,value:ir}}if(ae)return{done:!0,value:void 0};let ee=a();return Z.push(ee),fe(),ee.promise}let Fe={next:ue,[Symbol.asyncIterator]:()=>Fe};return Fe}function*o(R,L){let N=[],K;try{for(let Z of L)N.push(Z),!(N.length<=R)&&(yield N.shift())}catch(Z){K=Z}for(let Z of N)yield Z;if(K)throw K}function f(R,L){return L===void 0?N=>f(R,N):R===0?L:L[Symbol.asyncIterator]?s(R,L):o(R,L)}async function u(R){let L=[];for await(let N of R)L.push(N);return L}function c(R){return R[Symbol.asyncIterator]?u(R):Array.from(R)}async function*l(R){for await(let L of R)yield*L}function*y(R){for(let L of R)yield*L}function b(...R){return R.find(N=>N[Symbol.asyncIterator]!==void 0)?l(R):y(R)}async function g(R){for await(let L of R);}function v(R){if(R[Symbol.asyncIterator])return g(R);for(let L of R);}async function*E(R,L){for await(let N of L)await R(N)&&(yield N)}function A(R,L){return L===void 0?N=>E(R,N):E(R,L)}async function*P(R){for await(let L of R)L&&typeof L!="string"&&(L[Symbol.iterator]||L[Symbol.asyncIterator])?yield*P(L):yield L}async function*q(R,L){for await(let N of L)yield await R(N)}function F(R,L){return L===void 0?N=>q(R,N):q(R,L)}function D(R,L){return L===void 0?N=>D(R,N):A(N=>N!=null,P(F(R,L)))}function O(R,L,N){let K=i(N),Z=[],ie=[],ae=!1,ze=!1,fe=0,ue=null;function Fe(){for(;ie.length>0&&Z.length>0;){let{resolve:de}=ie.shift(),Ce=Z.shift();de({done:!1,value:Ce})}for(;ie.length>0&&fe===0&&ae;){let{resolve:de,reject:Ce}=ie.shift();ue?(Ce(ue),ue=null):de({done:!0,value:void 0})}}async function ee(){if(ae){Fe();return}if(!ze&&!(fe+Z.length>=R)){ze=!0,fe++;try{let{done:de,value:Ce}=await K.next();de?(ae=!0,fe--,Fe()):be(Ce)}catch(de){ae=!0,fe--,ue=de,Fe()}ze=!1,ee()}}async function be(de){try{let Ce=await L(de);if(Ce&&Ce[Symbol.asyncIterator])for await(let Ge of Ce)Z.push(Ge);else Z.push(Ce)}catch(Ce){ae=!0,ue=Ce}fe--,Fe(),ee()}async function ir(){if(Z.length===0){let Ce=a();return ie.push(Ce),ee(),Ce.promise}let de=Z.shift();return ee(),{done:!1,value:de}}let Me={next:ir,[Symbol.asyncIterator]:()=>Me};return Me}function j(R,L,N){return L===void 0?(K,Z)=>Z?j(R,K,Z):j(R,K):N===void 0?K=>j(R,L,K):A(K=>K!=null,P(O(R,L,N)))}async function H(R){return new Promise(L=>{R.once("readable",()=>{L()})})}async function*ne(R){for(;;){let L=R.read();if(L!==null){yield L;continue}if(R._readableState.ended)break;await H(R)}}function B(R){return typeof R[Symbol.asyncIterator]=="function"?R:ne(R)}async function*h(...R){let L=new Set(R.map(i));for(;L.size>0;)for(let N of L){let K=await N.next();K.done?L.delete(N):yield K.value}}function p(R,...L){let N=R();for(let K of L)N=K(N);return N}async function*m(R,L,N){let K=null,Z=fe=>({value:L(fe)}),ie=async function*(fe){for await(let ue of fe){if(K)return;yield ue}},ae=p(()=>N,f(1),ie,F(Z),f(R-1)),ze=i(ae);for(;;){let{value:fe,done:ue}=await ze.next();if(ue)break;try{let Fe=await fe.value;K||(yield Fe)}catch(Fe){K=Fe}}if(K)throw K}function x(R,L,N){return L===void 0?(K,Z)=>x(R,K,Z):N===void 0?K=>x(R,L,K):R===1?F(L,N):m(R,L,N)}function w(R,L,N){return L===void 0?(K,Z)=>Z?w(R,K,Z):w(R,K):N===void 0?K=>w(R,L,K):A(K=>K!=null,P(x(R,L,N)))}async function*T(...R){let L=R.map(i),N=new Set,K=new Map,Z=null,ie=null,ae=null,ze=ee=>{Z=ee,ie&&ie(ee)},fe=ee=>{ae&&ae(ee)},ue=()=>new Promise((ee,be)=>{if(Z&&be(Z),K.size>0)return ee();ae=ee,ie=be}),Fe=ee=>{let be=Promise.resolve(ee.next()).then(async({done:ir,value:Me})=>{ir||K.set(ee,Me),N.delete(be)});N.add(be),be.then(fe,ze)};for(let ee of L)Fe(ee);for(;;){if(N.size===0&&K.size===0)return;await ue();for(let[ee,be]of K)K.delete(ee),yield be,Fe(ee)}}async function I(R,L,N){let K=L;for await(let Z of N)K=await R(K,Z);return K}function _(R,L,N){return L===void 0?(K,Z)=>Z?I(R,K,Z):_(R,K):N===void 0?K=>_(R,L,K):I(R,L,N)}async function*d(R,L){let N=0;for await(let K of L)if(yield await K,N++,N>=R)break}function*S(R,L){let N=0;for(let K of L)if(yield K,N++,N>=R)break}function $(R,L){return L===void 0?N=>$(R,N):L[Symbol.asyncIterator]?d(R,L):S(R,L)}async function*Y(R,L){for await(let N of L)await R(N),yield N}function W(R,L){return L===void 0?N=>Y(R,N):Y(R,L)}function X(R,L){let N=R[0]+L[0],K=R[1]+L[1];if(K>=1e9){let Z=K%1e9;N+=(K-Z)/1e9,K=Z}return[N,K]}async function*oe(R,L){let N=L[Symbol.asyncIterator](),K=[0,0];for(;;){let Z=process.hrtime(),{value:ie,done:ae}=await N.next(),ze=process.hrtime(Z);if(K=X(K,ze),R.progress&&R.progress(ze,K),ae)return R.total&&R.total(K),ie;yield ie}}function*he(R,L){let N=L[Symbol.iterator](),K=[0,0];for(;;){let Z=process.hrtime(),{value:ie,done:ae}=N.next(),ze=process.hrtime(Z);if(K=X(K,ze),R.progress&&R.progress(ze,K),ae)return R.total&&R.total(K),ie;yield ie}}function Pe(R={},L){return L===void 0?N=>Pe(R,N):L[Symbol.asyncIterator]!==void 0?oe(R,L):he(R,L)}function le(R,L,N){let K=i(N),Z=[],ie=[],ae=!1,ze=!1,fe=0,ue=null;function Fe(){for(;ie.length>0&&Z.length>0;){let{resolve:de}=ie.shift(),Ce=Z.shift();de({done:!1,value:Ce})}for(;ie.length>0&&fe===0&&ae;){let{resolve:de,reject:Ce}=ie.shift();ue?(Ce(ue),ue=null):de({done:!0,value:void 0})}}async function ee(){if(ae){Fe();return}if(!ze&&!(fe+Z.length>=R)){ze=!0,fe++;try{let{done:de,value:Ce}=await K.next();de?(ae=!0,fe--,Fe()):be(Ce)}catch(de){ae=!0,fe--,ue=de,Fe()}ze=!1,ee()}}async function be(de){try{let Ce=await L(de);Z.push(Ce)}catch(Ce){ae=!0,ue=Ce}fe--,Fe(),ee()}async function ir(){if(Z.length===0){let Ce=a();return ie.push(Ce),ee(),Ce.promise}let de=Z.shift();return ee(),{done:!1,value:de}}let Me={next:ir,[Symbol.asyncIterator]:()=>Me};return Me}function ce(R,L,N){return L===void 0?(K,Z)=>Z?ce(R,K,Z):ce(R,K):N===void 0?K=>ce(R,L,K):le(R,L,N)}async function je(R,L){let N=null,K=null,Z=null,ie=ue=>{N=ue,K&&K(ue)},ae=()=>{Z&&Z()},ze=()=>{R.removeListener("error",ie),R.removeListener("drain",ae)};R.once("error",ie);let fe=()=>new Promise((ue,Fe)=>{if(N)return Fe(N);R.once("drain",ae),Z=ue,K=Fe});for await(let ue of L)if(R.write(ue)===!1&&await fe(),N)break;if(ze(),N)throw N}function ge(R,L){return L===void 0?N=>je(R,N):je(R,L)}t.batch=n,t.buffer=f,t.collect=c,t.concat=b,t.consume=v,t.filter=A,t.flatMap=D,t.flatTransform=j,t.flatten=P,t.fromStream=B,t.getIterator=i,t.map=F,t.merge=h,t.parallelFlatMap=w,t.parallelMap=x,t.parallelMerge=T,t.pipeline=p,t.reduce=_,t.take=$,t.tap=W,t.time=Pe,t.transform=ce,t.writeToStream=ge,Object.defineProperty(t,"__esModule",{value:!0})})});var tg=C((rP,eg)=>{"use strict";var Z_=async t=>{for await(let e of t)return e};eg.exports=Z_});var sg=C((nP,rg)=>{"use strict";var ng=()=>{},ig=Symbol.for("@libp2p/js-interfaces/topology"),ag=class{constructor({min:e=0,max:r=Infinity,handlers:n={}}){this.min=e,this.max=r,this._onConnect=n.onConnect||ng,this._onDisconnect=n.onDisconnect||ng,this.peers=new Set}get[Symbol.toStringTag](){return"Topology"}get[ig](){return!0}static isTopology(e){return Boolean(e&&e[ig])}set registrar(e){this._registrar=e}disconnect(e){this._onDisconnect(e)}};rg.exports=ag});var cg=C((iP,og)=>{"use strict";var X_=sg(),fg=Symbol.for("@libp2p/js-interfaces/topology/multicodec-topology"),ug=class extends X_{constructor({min:e,max:r,multicodecs:n,handlers:i}){super({min:e,max:r,handlers:i});if(!n)throw new Error("one or more multicodec should be provided");if(!i)throw new Error("the handlers should be provided");if(typeof i.onConnect!="function")throw new Error("the 'onConnect' handler must be provided");if(typeof i.onDisconnect!="function")throw new Error("the 'onDisconnect' handler must be provided");this.multicodecs=Array.isArray(n)?n:[n],this._registrar=void 0,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this)}get[Symbol.toStringTag](){return"Topology"}get[fg](){return!0}static isMulticodecTopology(e){return Boolean(e&&e[fg])}set registrar(e){this._registrar=e,this._registrar.peerStore.on("change:protocols",this._onProtocolChange),this._registrar.connectionManager.on("peer:connect",this._onPeerConnect),this._updatePeers(this._registrar.peerStore.peers.values())}_updatePeers(e){for(let{id:r,protocols:n}of e)if(this.multicodecs.filter(i=>n.includes(i)).length){this.peers.add(r.toB58String());let i=this._registrar.getConnection(r);i&&this._onConnect(r,i)}else this.peers.delete(r.toB58String())}_onProtocolChange({peerId:e,protocols:r}){let n=this.peers.has(e.toB58String()),i=r.filter(a=>this.multicodecs.includes(a));n&&i.length===0&&this._onDisconnect(e);for(let a of r)if(this.multicodecs.includes(a)){let s=this._registrar.peerStore.get(e);this._updatePeers([s]);return}}_onPeerConnect(e){let r=e.remotePeer,n=this._registrar.peerStore.protoBook.get(r);!n||this.multicodecs.find(i=>n.includes(i))&&(this.peers.add(r.toB58String()),this._onConnect(r,e))}};og.exports=ug});var dg=C((aP,hg)=>{"use strict";var lg="[a-fA-F\\d:]",Jn=t=>t&&t.includeBoundaries?`(?:(?<=\\s|^)(?=${lg})|(?<=${lg})(?=\\s|$))`:"",Mr="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",wt="[a-fA-F\\d]{1,4}",uf=`
(?:
(?:${wt}:){7}(?:${wt}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${wt}:){6}(?:${Mr}|:${wt}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${wt}:){5}(?::${Mr}|(?::${wt}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${wt}:){4}(?:(?::${wt}){0,1}:${Mr}|(?::${wt}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${wt}:){3}(?:(?::${wt}){0,2}:${Mr}|(?::${wt}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${wt}:){2}(?:(?::${wt}){0,3}:${Mr}|(?::${wt}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${wt}:){1}(?:(?::${wt}){0,4}:${Mr}|(?::${wt}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${wt}){0,5}:${Mr}|(?::${wt}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),eS=new RegExp(`(?:^${Mr}$)|(?:^${uf}$)`),tS=new RegExp(`^${Mr}$`),rS=new RegExp(`^${uf}$`),gc=t=>t&&t.exact?eS:new RegExp(`(?:${Jn(t)}${Mr}${Jn(t)})|(?:${Jn(t)}${uf}${Jn(t)})`,"g");gc.v4=t=>t&&t.exact?tS:new RegExp(`${Jn(t)}${Mr}${Jn(t)}`,"g");gc.v6=t=>t&&t.exact?rS:new RegExp(`${Jn(t)}${uf}${Jn(t)}`,"g");hg.exports=gc});var yg=C((sP,pg)=>{"use strict";var mc=dg(),Ea=t=>mc({exact:!0}).test(t);Ea.v4=t=>mc.v4({exact:!0}).test(t);Ea.v6=t=>mc.v6({exact:!0}).test(t);Ea.version=t=>Ea(t)?Ea.v4(t)?4:6:void 0;pg.exports=Ea});var xg=C((oP,bg)=>{"use strict";var xc=yg(),vg=Je(),nS=xc,wc=xc.v4,gg=xc.v6,mg=function(t,e,r){r=~~r;let n;if(wc(t))n=e||new Uint8Array(r+4),t.split(/\./g).map(function(i){n[r++]=parseInt(i,10)&255});else if(gg(t)){let i=t.split(":",8),a;for(a=0;a<i.length;a++){let s=wc(i[a]),o;s&&(o=mg(i[a]),i[a]=vg(o.slice(0,2),"base16")),o&&++a<8&&i.splice(a,0,vg(o.slice(2,4),"base16"))}if(i[0]==="")for(;i.length<8;)i.unshift("0");else if(i[i.length-1]==="")for(;i.length<8;)i.push("0");else if(i.length<8){for(a=0;a<i.length&&i[a]!=="";a++);let s=[a,"1"];for(a=9-i.length;a>0;a--)s.push("0");i.splice.apply(i,s)}for(n=e||new Uint8Array(r+16),a=0;a<i.length;a++){let s=parseInt(i[a],16);n[r++]=s>>8&255,n[r++]=s&255}}if(!n)throw Error("Invalid ip address: "+t);return n},iS=function(t,e,r){e=~~e,r=r||t.length-e;let n=[],i,a=new DataView(t.buffer);if(r===4){for(let s=0;s<r;s++)n.push(t[e+s]);i=n.join(".")}else if(r===16){for(let s=0;s<r;s+=2)n.push(a.getUint16(e+s).toString(16));i=n.join(":"),i=i.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),i=i.replace(/:{3,4}/,"::")}return i};bg.exports={isIP:nS,isV4:wc,isV6:gg,toBytes:mg,toString:iS}});var cf=C((fP,wg)=>{"use strict";function er(t){if(typeof t=="number"){if(er.codes[t])return er.codes[t];throw new Error("no protocol with code: "+t)}else if(typeof t=="string"){if(er.names[t])return er.names[t];throw new Error("no protocol with name: "+t)}throw new Error("invalid protocol id type: "+t)}var xr=-1;er.lengthPrefixedVarSize=xr;er.V=xr;er.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,xr,"ip6zone"],[53,xr,"dns","resolvable"],[54,xr,"dns4","resolvable"],[55,xr,"dns6","resolvable"],[56,xr,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,xr,"unix",!1,"path"],[421,xr,"ipfs"],[421,xr,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,xr,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,xr,"memory"]];er.names={};er.codes={};er.table.map(t=>{let e=Eg.apply(null,t);return er.codes[e.code]=e,er.names[e.name]=e,null});er.object=Eg;function Eg(t,e,r,n,i){return{code:t,size:e,name:r,resolvable:Boolean(n),path:Boolean(i)}}wg.exports=er});var Pg=C((uP,_g)=>{"use strict";var hf=xg(),Sg=cf(),{CID:aS}=($i(),Gi),{base32:Ag}=(U0(),_p),{base58btc:sS}=(Rn(),ai),oS=(za(),y0),_a=Si(),lf=Je(),Bg=fr(),df=On();_g.exports=ms;function ms(t,e){return e instanceof Uint8Array?ms.toString(t,e):ms.toBytes(t,e)}ms.toString=function(e,r){switch(Sg(e).code){case 4:case 41:return fS(r);case 6:case 273:case 33:case 132:return Ig(r).toString();case 53:case 54:case 55:case 56:case 400:case 777:return uS(r);case 421:return cS(r);case 444:return Cg(r);case 445:return Cg(r);default:return lf(r,"base16")}};ms.toBytes=function(e,r){switch(Sg(e).code){case 4:return Tg(r);case 41:return Tg(r);case 6:case 273:case 33:case 132:return Ec(parseInt(r,10));case 53:case 54:case 55:case 56:case 400:case 777:return hS(r);case 421:return lS(r);case 444:return dS(r);case 445:return pS(r);default:return Bg(r,"base16")}};function Tg(t){if(!hf.isIP(t))throw new Error("invalid ip address");return hf.toBytes(t)}function fS(t){let e=hf.toString(t);if(!e||!hf.isIP(e))throw new Error("invalid ip address");return e}function Ec(t){let e=new ArrayBuffer(2);return new DataView(e).setUint16(0,t),new Uint8Array(e)}function Ig(t){return new DataView(t.buffer).getUint16(t.byteOffset)}function hS(t){let e=Bg(t),r=Uint8Array.from(_a.encode(e.length));return df([r,e],r.length+e.length)}function uS(t){let e=_a.decode(t);if(t=t.slice(_a.decode.bytes),t.length!==e)throw new Error("inconsistent lengths");return lf(t)}function lS(t){let e;t[0]==="Q"||t[0]==="1"?e=oS.decode(sS.decode(`z${t}`)).bytes:e=aS.parse(t).multihash.bytes;let r=Uint8Array.from(_a.encode(e.length));return df([r,e],r.length+e.length)}function cS(t){let e=_a.decode(t),r=t.slice(_a.decode.bytes);if(r.length!==e)throw new Error("inconsistent lengths");return lf(r,"base58btc")}function dS(t){let e=t.split(":");if(e.length!==2)throw new Error("failed to parse onion addr: "+e+" does not contain a port number");if(e[0].length!==16)throw new Error("failed to parse onion addr: "+e[0]+" not a Tor onion address.");let r=Ag.decode("b"+e[0]),n=parseInt(e[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=Ec(n);return df([r,i],r.length+i.length)}function pS(t){let e=t.split(":");if(e.length!==2)throw new Error("failed to parse onion addr: "+e+" does not contain a port number");if(e[0].length!==56)throw new Error("failed to parse onion addr: "+e[0]+" not a Tor onion3 address.");let r=Ag.decode("b"+e[0]),n=parseInt(e[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=Ec(n);return df([r,i],r.length+i.length)}function Cg(t){let e=t.slice(0,t.length-2),r=t.slice(t.length-2),n=lf(e,"base32"),i=Ig(r);return n+":"+i}});var zg=C((cP,Mg)=>{"use strict";var Rg=Pg(),_c=cf(),xs=Si(),qg=On(),yS=Je();Mg.exports={stringToStringTuples:kg,stringTuplesToString:Ng,tuplesToStringTuples:Dg,stringTuplesToTuples:Lg,bytesToTuples:Sc,tuplesToBytes:Og,bytesToString:bS,stringToBytes:Fg,fromString:vS,fromBytes:Ug,validateBytes:Ac,isValidBytes:gS,cleanPath:pf,ParseError:Bc,protoFromTuple:ws,sizeForAddr:Kg};function kg(t){let e=[],r=t.split("/").slice(1);if(r.length===1&&r[0]==="")return[];for(let n=0;n<r.length;n++){let i=r[n],a=_c(i);if(a.size===0){e.push([i]);continue}if(n++,n>=r.length)throw Bc("invalid address: "+t);if(a.path){e.push([i,pf(r.slice(n).join("/"))]);break}e.push([i,r[n]])}return e}function Ng(t){let e=[];return t.map(r=>{let n=ws(r);return e.push(n.name),r.length>1&&e.push(r[1]),null}),pf(e.join("/"))}function Lg(t){return t.map(e=>{Array.isArray(e)||(e=[e]);let r=ws(e);return e.length>1?[r.code,Rg.toBytes(r.code,e[1])]:[r.code]})}function Dg(t){return t.map(e=>{let r=ws(e);return e[1]?[r.code,Rg.toString(r.code,e[1])]:[r.code]})}function Og(t){return Ug(qg(t.map(e=>{let r=ws(e),n=Uint8Array.from(xs.encode(r.code));return e.length>1&&(n=qg([n,e[1]])),n})))}function Kg(t,e){return t.size>0?t.size/8:t.size===0?0:xs.decode(e)+xs.decode.bytes}function Sc(t){let e=[],r=0;for(;r<t.length;){let n=xs.decode(t,r),i=xs.decode.bytes,a=_c(n),s=Kg(a,t.slice(r+i));if(s===0){e.push([n]),r+=i;continue}let o=t.slice(r+i,r+i+s);if(r+=s+i,r>t.length)throw Bc("Invalid address Uint8Array: "+yS(t,"base16"));e.push([n,o])}return e}function bS(t){let e=Sc(t),r=Dg(e);return Ng(r)}function Fg(t){t=pf(t);let e=kg(t),r=Lg(e);return Og(r)}function vS(t){return Fg(t)}function Ug(t){let e=Ac(t);if(e)throw e;return Uint8Array.from(t)}function Ac(t){try{Sc(t)}catch(e){return e}}function gS(t){return Ac(t)===void 0}function pf(t){return"/"+t.trim().split("/").filter(e=>e).join("/")}function Bc(t){return new Error("Error parsing address: "+t)}function ws(t){return _c(t[0])}});var Gg=C((hP,Vg)=>{"use strict";var Rr=zg(),Sa=cf(),Hg=Si(),{CID:mS}=($i(),Gi),{base58btc:xS}=(Rn(),ai),wS=qe(),ES=Symbol.for("nodejs.util.inspect.custom"),yf=Je(),_S=or(),Ic=new Map,jg=Symbol.for("@multiformats/js-multiaddr/multiaddr"),Gt=class{constructor(e){if(e==null&&(e=""),Object.defineProperty(this,jg,{value:!0}),e instanceof Uint8Array)this.bytes=Rr.fromBytes(e);else if(typeof e=="string"){if(e.length>0&&e.charAt(0)!=="/")throw new Error(`multiaddr "${e}" must start with a "/"`);this.bytes=Rr.fromString(e)}else if(Gt.isMultiaddr(e))this.bytes=Rr.fromBytes(e.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return Rr.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){let e={},r=this.toString().split("/");return e.family=r[1]==="ip4"?4:6,e.host=r[2],e.transport=r[3],e.port=parseInt(r[4]),e}protos(){return this.protoCodes().map(e=>Object.assign({},Sa(e)))}protoCodes(){let e=[],r=this.bytes,n=0;for(;n<r.length;){let i=Hg.decode(r,n),a=Hg.decode.bytes,s=Sa(i);n+=Rr.sizeForAddr(s,r.slice(n+a))+a,e.push(i)}return e}protoNames(){return this.protos().map(e=>e.name)}tuples(){return Rr.bytesToTuples(this.bytes)}stringTuples(){let e=Rr.bytesToTuples(this.bytes);return Rr.tuplesToStringTuples(e)}encapsulate(e){return e=new Gt(e),new Gt(this.toString()+e.toString())}decapsulate(e){let r=e.toString(),n=this.toString(),i=n.lastIndexOf(r);if(i<0)throw new Error("Address "+this+" does not contain subaddress: "+e);return new Gt(n.slice(0,i))}decapsulateCode(e){let r=this.tuples();for(let n=r.length-1;n>=0;n--)if(r[n][0]===e)return new Gt(Rr.tuplesToBytes(r.slice(0,n)));return this}getPeerId(){try{let r=this.stringTuples().filter(n=>n[0]===Sa.names.ipfs.code).pop();if(r&&r[1]){let n=r[1];return n[0]==="Q"||n[0]==="1"?yf(xS.decode(`z${n}`),"base58btc"):yf(mS.parse(n).multihash.bytes,"base58btc")}return null}catch(e){return null}}getPath(){let e=null;try{e=this.stringTuples().filter(r=>!!Sa(r[0]).path)[0][1],e||(e=null)}catch(r){e=null}return e}equals(e){return _S(this.bytes,e.bytes)}async resolve(){let e=this.protos().find(i=>i.resolvable);if(!e)return[this];let r=Ic.get(e.name);if(!r)throw wS(new Error(`no available resolver for ${e.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await r(this)).map(i=>new Gt(i))}nodeAddress(){let e=this.protoCodes(),r=this.protoNames(),n=this.toString().split("/").slice(1);if(n.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(e[0]!==4&&e[0]!==41&&e[0]!==54&&e[0]!==55)throw new Error(`no protocol with name: "'${r[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(n[2]!=="tcp"&&n[2]!=="udp")throw new Error(`no protocol with name: "'${r[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:e[0]===41||e[0]===55?6:4,address:n[1],port:parseInt(n[3])}}isThinWaistAddress(e){let r=(e||this).protos();return!(r.length!==2||r[0].code!==4&&r[0].code!==41||r[1].code!==6&&r[1].code!==273)}static fromNodeAddress(e,r){if(!e)throw new Error("requires node address object");if(!r)throw new Error("requires transport protocol");let n;switch(e.family){case 4:n="ip4";break;case 6:n="ip6";break;default:throw Error(`Invalid addr family. Got '${e.family}' instead of 4 or 6`)}return new Gt("/"+[n,e.address,r,e.port].join("/"))}static isName(e){return Gt.isMultiaddr(e)?e.protos().some(r=>r.resolvable):!1}static isMultiaddr(e){return e instanceof Gt||Boolean(e&&e[jg])}[ES](){return"<Multiaddr "+yf(this.bytes,"base16")+" - "+Rr.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+yf(this.bytes,"base16")+" - "+Rr.bytesToString(this.bytes)+">"}};Gt.protocols=Sa;Gt.resolvers=Ic;function SS(t){return new Gt(t)}Vg.exports={Multiaddr:Gt,multiaddr:SS,protocols:Sa,resolvers:Ic}});var Yg=C((lP,$g)=>{"use strict";var Zn=ka(),Aa=Zn.Reader,Cc=Zn.Writer,re=Zn.util,We=Zn.roots["libp2p-dht-message"]||(Zn.roots["libp2p-dht-message"]={});We.Record=function(){function t(r){if(r)for(var n=Object.keys(r),i=0;i<n.length;++i)r[n[i]]!=null&&(this[n[i]]=r[n[i]])}t.prototype.key=null,t.prototype.value=null,t.prototype.author=null,t.prototype.signature=null,t.prototype.timeReceived=null;var e;return Object.defineProperty(t.prototype,"_key",{get:re.oneOfGetter(e=["key"]),set:re.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_value",{get:re.oneOfGetter(e=["value"]),set:re.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_author",{get:re.oneOfGetter(e=["author"]),set:re.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_signature",{get:re.oneOfGetter(e=["signature"]),set:re.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_timeReceived",{get:re.oneOfGetter(e=["timeReceived"]),set:re.oneOfSetter(e)}),t.encode=function(n,i){return i||(i=Cc.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&i.uint32(10).bytes(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&i.uint32(18).bytes(n.value),n.author!=null&&Object.hasOwnProperty.call(n,"author")&&i.uint32(26).bytes(n.author),n.signature!=null&&Object.hasOwnProperty.call(n,"signature")&&i.uint32(34).bytes(n.signature),n.timeReceived!=null&&Object.hasOwnProperty.call(n,"timeReceived")&&i.uint32(42).string(n.timeReceived),i},t.decode=function(n,i){n instanceof Aa||(n=Aa.create(n));for(var a=i===void 0?n.len:n.pos+i,s=new We.Record;n.pos<a;){var o=n.uint32();switch(o>>>3){case 1:s.key=n.bytes();break;case 2:s.value=n.bytes();break;case 3:s.author=n.bytes();break;case 4:s.signature=n.bytes();break;case 5:s.timeReceived=n.string();break;default:n.skipType(o&7);break}}return s},t.fromObject=function(n){if(n instanceof We.Record)return n;var i=new We.Record;return n.key!=null&&(typeof n.key=="string"?re.base64.decode(n.key,i.key=re.newBuffer(re.base64.length(n.key)),0):n.key.length&&(i.key=n.key)),n.value!=null&&(typeof n.value=="string"?re.base64.decode(n.value,i.value=re.newBuffer(re.base64.length(n.value)),0):n.value.length&&(i.value=n.value)),n.author!=null&&(typeof n.author=="string"?re.base64.decode(n.author,i.author=re.newBuffer(re.base64.length(n.author)),0):n.author.length&&(i.author=n.author)),n.signature!=null&&(typeof n.signature=="string"?re.base64.decode(n.signature,i.signature=re.newBuffer(re.base64.length(n.signature)),0):n.signature.length&&(i.signature=n.signature)),n.timeReceived!=null&&(i.timeReceived=String(n.timeReceived)),i},t.toObject=function(n,i){i||(i={});var a={};return n.key!=null&&n.hasOwnProperty("key")&&(a.key=i.bytes===String?re.base64.encode(n.key,0,n.key.length):i.bytes===Array?Array.prototype.slice.call(n.key):n.key,i.oneofs&&(a._key="key")),n.value!=null&&n.hasOwnProperty("value")&&(a.value=i.bytes===String?re.base64.encode(n.value,0,n.value.length):i.bytes===Array?Array.prototype.slice.call(n.value):n.value,i.oneofs&&(a._value="value")),n.author!=null&&n.hasOwnProperty("author")&&(a.author=i.bytes===String?re.base64.encode(n.author,0,n.author.length):i.bytes===Array?Array.prototype.slice.call(n.author):n.author,i.oneofs&&(a._author="author")),n.signature!=null&&n.hasOwnProperty("signature")&&(a.signature=i.bytes===String?re.base64.encode(n.signature,0,n.signature.length):i.bytes===Array?Array.prototype.slice.call(n.signature):n.signature,i.oneofs&&(a._signature="signature")),n.timeReceived!=null&&n.hasOwnProperty("timeReceived")&&(a.timeReceived=n.timeReceived,i.oneofs&&(a._timeReceived="timeReceived")),a},t.prototype.toJSON=function(){return this.constructor.toObject(this,Zn.util.toJSONOptions)},t}();We.Message=function(){function t(r){if(this.closerPeers=[],this.providerPeers=[],r)for(var n=Object.keys(r),i=0;i<n.length;++i)r[n[i]]!=null&&(this[n[i]]=r[n[i]])}t.prototype.type=null,t.prototype.clusterLevelRaw=null,t.prototype.key=null,t.prototype.record=null,t.prototype.closerPeers=re.emptyArray,t.prototype.providerPeers=re.emptyArray;var e;return Object.defineProperty(t.prototype,"_type",{get:re.oneOfGetter(e=["type"]),set:re.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_clusterLevelRaw",{get:re.oneOfGetter(e=["clusterLevelRaw"]),set:re.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_key",{get:re.oneOfGetter(e=["key"]),set:re.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_record",{get:re.oneOfGetter(e=["record"]),set:re.oneOfSetter(e)}),t.encode=function(n,i){if(i||(i=Cc.create()),n.type!=null&&Object.hasOwnProperty.call(n,"type")&&i.uint32(8).int32(n.type),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&i.uint32(18).bytes(n.key),n.record!=null&&Object.hasOwnProperty.call(n,"record")&&i.uint32(26).bytes(n.record),n.closerPeers!=null&&n.closerPeers.length)for(var a=0;a<n.closerPeers.length;++a)We.Message.Peer.encode(n.closerPeers[a],i.uint32(66).fork()).ldelim();if(n.providerPeers!=null&&n.providerPeers.length)for(var a=0;a<n.providerPeers.length;++a)We.Message.Peer.encode(n.providerPeers[a],i.uint32(74).fork()).ldelim();return n.clusterLevelRaw!=null&&Object.hasOwnProperty.call(n,"clusterLevelRaw")&&i.uint32(80).int32(n.clusterLevelRaw),i},t.decode=function(n,i){n instanceof Aa||(n=Aa.create(n));for(var a=i===void 0?n.len:n.pos+i,s=new We.Message;n.pos<a;){var o=n.uint32();switch(o>>>3){case 1:s.type=n.int32();break;case 10:s.clusterLevelRaw=n.int32();break;case 2:s.key=n.bytes();break;case 3:s.record=n.bytes();break;case 8:s.closerPeers&&s.closerPeers.length||(s.closerPeers=[]),s.closerPeers.push(We.Message.Peer.decode(n,n.uint32()));break;case 9:s.providerPeers&&s.providerPeers.length||(s.providerPeers=[]),s.providerPeers.push(We.Message.Peer.decode(n,n.uint32()));break;default:n.skipType(o&7);break}}return s},t.fromObject=function(n){if(n instanceof We.Message)return n;var i=new We.Message;switch(n.type){case"PUT_VALUE":case 0:i.type=0;break;case"GET_VALUE":case 1:i.type=1;break;case"ADD_PROVIDER":case 2:i.type=2;break;case"GET_PROVIDERS":case 3:i.type=3;break;case"FIND_NODE":case 4:i.type=4;break;case"PING":case 5:i.type=5;break}if(n.clusterLevelRaw!=null&&(i.clusterLevelRaw=n.clusterLevelRaw|0),n.key!=null&&(typeof n.key=="string"?re.base64.decode(n.key,i.key=re.newBuffer(re.base64.length(n.key)),0):n.key.length&&(i.key=n.key)),n.record!=null&&(typeof n.record=="string"?re.base64.decode(n.record,i.record=re.newBuffer(re.base64.length(n.record)),0):n.record.length&&(i.record=n.record)),n.closerPeers){if(!Array.isArray(n.closerPeers))throw TypeError(".Message.closerPeers: array expected");i.closerPeers=[];for(var a=0;a<n.closerPeers.length;++a){if(typeof n.closerPeers[a]!="object")throw TypeError(".Message.closerPeers: object expected");i.closerPeers[a]=We.Message.Peer.fromObject(n.closerPeers[a])}}if(n.providerPeers){if(!Array.isArray(n.providerPeers))throw TypeError(".Message.providerPeers: array expected");i.providerPeers=[];for(var a=0;a<n.providerPeers.length;++a){if(typeof n.providerPeers[a]!="object")throw TypeError(".Message.providerPeers: object expected");i.providerPeers[a]=We.Message.Peer.fromObject(n.providerPeers[a])}}return i},t.toObject=function(n,i){i||(i={});var a={};if((i.arrays||i.defaults)&&(a.closerPeers=[],a.providerPeers=[]),n.type!=null&&n.hasOwnProperty("type")&&(a.type=i.enums===String?We.Message.MessageType[n.type]:n.type,i.oneofs&&(a._type="type")),n.key!=null&&n.hasOwnProperty("key")&&(a.key=i.bytes===String?re.base64.encode(n.key,0,n.key.length):i.bytes===Array?Array.prototype.slice.call(n.key):n.key,i.oneofs&&(a._key="key")),n.record!=null&&n.hasOwnProperty("record")&&(a.record=i.bytes===String?re.base64.encode(n.record,0,n.record.length):i.bytes===Array?Array.prototype.slice.call(n.record):n.record,i.oneofs&&(a._record="record")),n.closerPeers&&n.closerPeers.length){a.closerPeers=[];for(var s=0;s<n.closerPeers.length;++s)a.closerPeers[s]=We.Message.Peer.toObject(n.closerPeers[s],i)}if(n.providerPeers&&n.providerPeers.length){a.providerPeers=[];for(var s=0;s<n.providerPeers.length;++s)a.providerPeers[s]=We.Message.Peer.toObject(n.providerPeers[s],i)}return n.clusterLevelRaw!=null&&n.hasOwnProperty("clusterLevelRaw")&&(a.clusterLevelRaw=n.clusterLevelRaw,i.oneofs&&(a._clusterLevelRaw="clusterLevelRaw")),a},t.prototype.toJSON=function(){return this.constructor.toObject(this,Zn.util.toJSONOptions)},t.MessageType=function(){var r={},n=Object.create(r);return n[r[0]="PUT_VALUE"]=0,n[r[1]="GET_VALUE"]=1,n[r[2]="ADD_PROVIDER"]=2,n[r[3]="GET_PROVIDERS"]=3,n[r[4]="FIND_NODE"]=4,n[r[5]="PING"]=5,n}(),t.ConnectionType=function(){var r={},n=Object.create(r);return n[r[0]="NOT_CONNECTED"]=0,n[r[1]="CONNECTED"]=1,n[r[2]="CAN_CONNECT"]=2,n[r[3]="CANNOT_CONNECT"]=3,n}(),t.Peer=function(){function r(i){if(this.addrs=[],i)for(var a=Object.keys(i),s=0;s<a.length;++s)i[a[s]]!=null&&(this[a[s]]=i[a[s]])}r.prototype.id=null,r.prototype.addrs=re.emptyArray,r.prototype.connection=null;var n;return Object.defineProperty(r.prototype,"_id",{get:re.oneOfGetter(n=["id"]),set:re.oneOfSetter(n)}),Object.defineProperty(r.prototype,"_connection",{get:re.oneOfGetter(n=["connection"]),set:re.oneOfSetter(n)}),r.encode=function(a,s){if(s||(s=Cc.create()),a.id!=null&&Object.hasOwnProperty.call(a,"id")&&s.uint32(10).bytes(a.id),a.addrs!=null&&a.addrs.length)for(var o=0;o<a.addrs.length;++o)s.uint32(18).bytes(a.addrs[o]);return a.connection!=null&&Object.hasOwnProperty.call(a,"connection")&&s.uint32(24).int32(a.connection),s},r.decode=function(a,s){a instanceof Aa||(a=Aa.create(a));for(var o=s===void 0?a.len:a.pos+s,f=new We.Message.Peer;a.pos<o;){var u=a.uint32();switch(u>>>3){case 1:f.id=a.bytes();break;case 2:f.addrs&&f.addrs.length||(f.addrs=[]),f.addrs.push(a.bytes());break;case 3:f.connection=a.int32();break;default:a.skipType(u&7);break}}return f},r.fromObject=function(a){if(a instanceof We.Message.Peer)return a;var s=new We.Message.Peer;if(a.id!=null&&(typeof a.id=="string"?re.base64.decode(a.id,s.id=re.newBuffer(re.base64.length(a.id)),0):a.id.length&&(s.id=a.id)),a.addrs){if(!Array.isArray(a.addrs))throw TypeError(".Message.Peer.addrs: array expected");s.addrs=[];for(var o=0;o<a.addrs.length;++o)typeof a.addrs[o]=="string"?re.base64.decode(a.addrs[o],s.addrs[o]=re.newBuffer(re.base64.length(a.addrs[o])),0):a.addrs[o].length&&(s.addrs[o]=a.addrs[o])}switch(a.connection){case"NOT_CONNECTED":case 0:s.connection=0;break;case"CONNECTED":case 1:s.connection=1;break;case"CAN_CONNECT":case 2:s.connection=2;break;case"CANNOT_CONNECT":case 3:s.connection=3;break}return s},r.toObject=function(a,s){s||(s={});var o={};if((s.arrays||s.defaults)&&(o.addrs=[]),a.id!=null&&a.hasOwnProperty("id")&&(o.id=s.bytes===String?re.base64.encode(a.id,0,a.id.length):s.bytes===Array?Array.prototype.slice.call(a.id):a.id,s.oneofs&&(o._id="id")),a.addrs&&a.addrs.length){o.addrs=[];for(var f=0;f<a.addrs.length;++f)o.addrs[f]=s.bytes===String?re.base64.encode(a.addrs[f],0,a.addrs[f].length):s.bytes===Array?Array.prototype.slice.call(a.addrs[f]):a.addrs[f]}return a.connection!=null&&a.hasOwnProperty("connection")&&(o.connection=s.enums===String?We.Message.ConnectionType[a.connection]:a.connection,s.oneofs&&(o._connection="connection")),o},r.prototype.toJSON=function(){return this.constructor.toObject(this,Zn.util.toJSONOptions)},r}(),t}();$g.exports=We});var on=C((dP,Wg)=>{"use strict";var AS=ma(),{Multiaddr:BS}=Gg(),{Record:IS}=Ni(),bf=Yg(),CS=bf.Message.MessageType,Qg=bf.Message.ConnectionType,Ba=class{constructor(e,r,n){if(r&&!(r instanceof Uint8Array))throw new Error("Key must be a Uint8Array");this.type=e,this.key=r,this._clusterLevelRaw=n,this.closerPeers=[],this.providerPeers=[],this.record=void 0}get clusterLevel(){let e=this._clusterLevelRaw-1;return e<0?0:e}set clusterLevel(e){this._clusterLevelRaw=e}serialize(){let e={key:this.key,type:this.type,clusterLevelRaw:this._clusterLevelRaw,closerPeers:this.closerPeers.map(Jg),providerPeers:this.providerPeers.map(Jg),record:void 0};return this.record&&(this.record instanceof Uint8Array?e.record=this.record:e.record=this.record.serialize()),bf.Message.encode(e).finish()}static deserialize(e){let r=bf.Message.decode(e),n=new Ba(r.type||0,r.key||Uint8Array.from([]),r.clusterLevelRaw||0);return n.closerPeers=r.closerPeers.map(Zg),n.providerPeers=r.providerPeers.map(Zg),r.record&&r.record.length&&(n.record=IS.deserialize(r.record)),n}};Ba.TYPES=CS;Ba.CONNECTION_TYPES=Qg;function Jg(t){return{id:t.id.id,addrs:(t.multiaddrs||[]).map(r=>r.bytes),connection:Qg.CONNECTED}}function Zg(t){return{id:new AS(t.id),multiaddrs:(t.addrs||[]).map(e=>new BS(e))}}Wg.exports=Ba});var t3=C((pP,Xg)=>{"use strict";var{Record:TS}=Ni(),PS=qe(),e3=on(),Tc=Xe();Xg.exports=t=>{let e=Tc.logger(t.peerId,"rpc:get-value");async function r(n,i){let a=i.key;if(e("key: %b",a),!a||a.length===0)throw PS(new Error("Invalid key"),"ERR_INVALID_KEY");let s=new e3(e3.TYPES.GET_VALUE,a,i.clusterLevel);if(Tc.isPublicKeyKey(a)){e("is public key");let u=Tc.fromPublicKeyKey(a),c;if(t._isSelf(u))c=t.peerId;else{let l=t.peerStore.get(u);c=l&&l.id}if(c&&c.pubKey)return e("returning found public key"),s.record=new TS(a,c.pubKey.bytes),s}let[o,f]=await Promise.all([t._checkLocalDatastore(a),t._betterPeersToQuery(i,n)]);return o&&(e("got record"),s.record=o),f.length>0&&(e("got closer %s",f.length),s.closerPeers=f),s}return r}});var i3=C((yP,r3)=>{"use strict";var n3=Xe(),MS=qe();r3.exports=t=>{let e=n3.logger(t.peerId,"rpc:put-value");async function r(n,i){let a=i.key;e("key: %b",a);let s=i.record;if(!s){let f=`Empty record from: ${n.toB58String()}`;throw e.error(f),MS(new Error(f),"ERR_EMPTY_RECORD")}await t._verifyRecordLocally(s),s.timeReceived=new Date;let o=n3.bufferToKey(s.key);return await t.datastore.put(o,s.serialize()),t.onPut(s,n),i}return r}});var s3=C((bP,a3)=>{"use strict";var RS=or(),qS=on(),kS=Xe();a3.exports=t=>{let e=kS.logger(t.peerId,"rpc:find-node");async function r(n,i){e("start");let a;RS(i.key,t.peerId.id)?a=[{id:t.peerId,multiaddrs:t.libp2p.multiaddrs}]:a=await t._betterPeersToQuery(i,n);let s=new qS(i.type,new Uint8Array(0),i.clusterLevel);return a.length>0?s.closerPeers=a:e("handle FindNode %s: could not find anything",n.toB58String()),s}return r}});var u3=C((vP,o3)=>{"use strict";var{CID:NS}=($i(),Gi),f3=qe(),LS=Xe();o3.exports=t=>{let e=LS.logger(t.peerId,"rpc:add-provider");async function r(n,i){if(e("start"),!i.key||i.key.length===0)throw f3(new Error("Missing key"),"ERR_MISSING_KEY");let a;try{a=NS.decode(i.key)}catch(s){let o=`Invalid CID: ${s.message}`;throw f3(new Error(o),"ERR_INVALID_CID")}return i.providerPeers.forEach(s=>{if(!s.id.isEqual(n)){e("invalid provider peer %s from %s",s.id.toB58String(),n.toB58String());return}if(s.multiaddrs.length<1){e("no valid addresses for provider %s. Ignore",n.toB58String());return}if(e("received provider %s for %s (addrs %s)",n.toB58String(),a.toString(),s.multiaddrs.map(o=>o.toString())),!t._isSelf(s.id))return t.peerStore.addressBook.add(s.id,s.multiaddrs),t.providers.addProvider(a,s.id)}),t.providers.addProvider(a,n)}return r}});var l3=C((gP,c3)=>{"use strict";var{CID:DS}=($i(),Gi),OS=qe(),KS=on(),h3=Xe();c3.exports=t=>{let e=h3.logger(t.peerId,"rpc:get-providers");async function r(n,i){let a;try{a=DS.decode(i.key)}catch(b){throw OS(new Error(`Invalid CID: ${b.message}`),"ERR_INVALID_CID")}e("%s",a.toString());let s=h3.bufferToKey(a.bytes),[o,f,u]=await Promise.all([t.datastore.has(s),t.providers.getProviders(a),t._betterPeersToQuery(i,n)]),c=f.map(b=>({id:b,multiaddrs:[]})),l=u.map(b=>({id:b.id,multiaddrs:[]}));o&&c.push({id:t.peerId,multiaddrs:[]});let y=new KS(i.type,i.key,i.clusterLevel);return c.length>0&&(y.providerPeers=c),l.length>0&&(y.closerPeers=l),e("got %s providers %s closerPeers",c.length,l.length),y}return r}});var p3=C((mP,d3)=>{"use strict";var FS=Xe();d3.exports=t=>{let e=FS.logger(t.peerId,"rpc:ping");function r(n,i){return e("from %s",n.toB58String()),i}return r}});var b3=C((xP,y3)=>{"use strict";var Ia=on().TYPES;y3.exports=t=>{let e={[Ia.GET_VALUE]:t3()(t),[Ia.PUT_VALUE]:i3()(t),[Ia.FIND_NODE]:s3()(t),[Ia.ADD_PROVIDER]:u3()(t),[Ia.GET_PROVIDERS]:l3()(t),[Ia.PING]:p3()(t)};function r(n){return e[n]}return r}});var m3=C((wP,v3)=>{"use strict";var{pipe:US}=fc(),g3=vc(),zS=on(),VS=b3(),HS=Xe();v3.exports=t=>{let e=HS.logger(t.peerId,"rpc"),r=VS(t);async function n(a,s){let o=r(s.type);try{await t._add(a)}catch(f){e.error("Failed to update the kbucket store",f)}if(!o){e.error(`no handler found for message type: ${s.type}`);return}return o(a,s)}async function i({stream:a,connection:s}){let o=s.remotePeer;try{await t._add(o)}catch(u){e.error(u)}let f=o.toB58String();e("from: %s",f),await US(a.source,g3.decode(),u=>async function*(){for await(let c of u){let l=zS.deserialize(c.slice()),y=await n(o,l);y&&(yield y.serialize())}}(),g3.encode(),a.sink)}return i}});var _3=C((EP,x3)=>{"use strict";var vf=qe(),{pipe:w3}=fc(),Pc=vc(),jS=xa(),{consume:GS}=Xv(),$S=tg(),YS=cg(),WS=m3(),QS=Wn(),JS=on(),ZS=Xe(),E3=class{constructor(e){this.dht=e,this.readMessageTimeout=QS.READ_MESSAGE_TIMEOUT,this._log=ZS.logger(this.dht.peerId,"net"),this._rpc=WS(this.dht),this._onPeerConnected=this._onPeerConnected.bind(this),this._running=!1}start(){if(this._running)return;if(!this.dht.isStarted)throw vf(new Error("Can not start network"),"ERR_CANNOT_START_NETWORK");this._running=!0,this.dht._clientMode===!1&&this.dht.registrar.handle(this.dht.protocol,this._rpc);let e=new YS({multicodecs:[this.dht.protocol],handlers:{onConnect:this._onPeerConnected,onDisconnect:()=>{}}});this._registrarId=this.dht.registrar.register(e)}stop(){!this.dht.isStarted&&!this.isStarted||(this._running=!1,this._registrarId&&this.dht.registrar.unregister(this._registrarId))}get isStarted(){return this._running}get isConnected(){return this.dht.isStarted&&this.isStarted}async _onPeerConnected(e){await this.dht._add(e),this._log("added to the routing table: %s",e.toB58String())}async sendRequest(e,r){if(!this.isConnected)throw vf(new Error("Network is offline"),"ERR_NETWORK_OFFLINE");let n=e.toB58String();this._log("sending to: %s",n);let i=this.dht.registrar.connectionManager.get(e);i||(i=await this.dht.dialer.connectToPeer(e));let{stream:a}=await i.newStream(this.dht.protocol);return this._writeReadMessage(a,r.serialize())}async sendMessage(e,r){if(!this.isConnected)throw vf(new Error("Network is offline"),"ERR_NETWORK_OFFLINE");let n=e.toB58String();this._log("sending to: %s",n);let i=this.dht.registrar.connectionManager.get(e);i||(i=await this.dht.dialer.connectToPeer(e));let{stream:a}=await i.newStream(this.dht.protocol);return this._writeMessage(a,r.serialize())}async _writeReadMessage(e,r){return jS(XS(e,r),this.readMessageTimeout)}_writeMessage(e,r){return w3([r],Pc.encode(),e,GS)}};async function XS(t,e){let r=await w3([e],Pc.encode(),t,Pc.decode(),async n=>{let i=await $S(n);if(i)return i.slice()});if(r.length===0)throw vf(new Error("No message received"),"ERR_NO_MESSAGE_RECEIVED");return JS.deserialize(r)}x3.exports=E3});var I3=C((_P,S3)=>{"use strict";var gf=Xs(),A3=Xe(),eA=eo(),tA=or(),B3=class{constructor(e,r){this.originDhtKey=e,this.capacity=r,this.peerDistances=[]}get length(){return this.peerDistances.length}get peers(){return this.peerDistances.map(e=>e.peerId)}async add(e){if(this.peerDistances.find(i=>tA(i.peerId.id,e.id)))return;let r=await A3.convertPeerId(e),n={peerId:e,distance:gf(this.originDhtKey,r)};this.peerDistances.push(n),this.peerDistances.sort((i,a)=>gf.compare(i.distance,a.distance)),this.peerDistances=this.peerDistances.slice(0,this.capacity)}async anyCloser(e){if(!e.length)return!1;if(!this.length)return!0;let r=await eA(e,i=>A3.convertPeerId(i)),n=this.peerDistances[this.peerDistances.length-1].distance;for(let i of r){let a=gf(this.originDhtKey,i);if(gf.compare(a,n)<0)return!0}return!1}};S3.exports=B3});var T3=C((Mc,C3)=>{(function(){var t,e,r,n,i,a,s,o,f,u,c,l,y,b,g;r=Math.floor,u=Math.min,e=function(v,E){return v<E?-1:v>E?1:0},f=function(v,E,A,P,q){var F;if(A==null&&(A=0),q==null&&(q=e),A<0)throw new Error("lo must be non-negative");for(P==null&&(P=v.length);A<P;)F=r((A+P)/2),q(E,v[F])<0?P=F:A=F+1;return[].splice.apply(v,[A,A-A].concat(E)),E},a=function(v,E,A){return A==null&&(A=e),v.push(E),b(v,0,v.length-1,A)},i=function(v,E){var A,P;return E==null&&(E=e),A=v.pop(),v.length?(P=v[0],v[0]=A,g(v,0,E)):P=A,P},o=function(v,E,A){var P;return A==null&&(A=e),P=v[0],v[0]=E,g(v,0,A),P},s=function(v,E,A){var P;return A==null&&(A=e),v.length&&A(v[0],E)<0&&(P=[v[0],E],E=P[0],v[0]=P[1],g(v,0,A)),E},n=function(v,E){var A,P,q,F,D,O,j,H;for(E==null&&(E=e),O=function(){H=[];for(var ne=0,B=r(v.length/2);0<=B?ne<B:ne>B;0<=B?ne++:ne--)H.push(ne);return H}.apply(this).reverse(),j=[],P=0,F=O.length;P<F;P++)A=O[P],j.push(g(v,A,E));return j},y=function(v,E,A){var P;if(A==null&&(A=e),P=v.indexOf(E),P!==-1)return b(v,0,P,A),g(v,P,A)},c=function(v,E,A){var P,q,F,D,O;if(A==null&&(A=e),q=v.slice(0,E),!q.length)return q;for(n(q,A),O=v.slice(E),F=0,D=O.length;F<D;F++)P=O[F],s(q,P,A);return q.sort(A).reverse()},l=function(v,E,A){var P,q,F,D,O,j,H,ne,B,h;if(A==null&&(A=e),E*10<=v.length){if(D=v.slice(0,E).sort(A),!D.length)return D;for(F=D[D.length-1],ne=v.slice(E),O=0,H=ne.length;O<H;O++)P=ne[O],A(P,F)<0&&(f(D,P,0,null,A),D.pop(),F=D[D.length-1]);return D}for(n(v,A),h=[],q=j=0,B=u(E,v.length);0<=B?j<B:j>B;q=0<=B?++j:--j)h.push(i(v,A));return h},b=function(v,E,A,P){var q,F,D;for(P==null&&(P=e),q=v[A];A>E;){if(D=A-1>>1,F=v[D],P(q,F)<0){v[A]=F,A=D;continue}break}return v[A]=q},g=function(v,E,A){var P,q,F,D,O;for(A==null&&(A=e),q=v.length,O=E,F=v[E],P=2*E+1;P<q;)D=P+1,D<q&&!(A(v[P],v[D])<0)&&(P=D),v[E]=v[P],E=P,P=2*E+1;return v[E]=F,b(v,O,E,A)},t=function(){v.push=a,v.pop=i,v.replace=o,v.pushpop=s,v.heapify=n,v.updateItem=y,v.nlargest=c,v.nsmallest=l;function v(E){this.cmp=E??e,this.nodes=[]}return v.prototype.push=function(E){return a(this.nodes,E,this.cmp)},v.prototype.pop=function(){return i(this.nodes,this.cmp)},v.prototype.peek=function(){return this.nodes[0]},v.prototype.contains=function(E){return this.nodes.indexOf(E)!==-1},v.prototype.replace=function(E){return o(this.nodes,E,this.cmp)},v.prototype.pushpop=function(E){return s(this.nodes,E,this.cmp)},v.prototype.heapify=function(){return n(this.nodes,this.cmp)},v.prototype.updateItem=function(E){return y(this.nodes,E,this.cmp)},v.prototype.clear=function(){return this.nodes=[]},v.prototype.empty=function(){return this.nodes.length===0},v.prototype.size=function(){return this.nodes.length},v.prototype.clone=function(){var E;return E=new v,E.nodes=this.nodes.slice(0),E},v.prototype.toArray=function(){return this.nodes.slice(0)},v.prototype.insert=v.prototype.push,v.prototype.top=v.prototype.peek,v.prototype.front=v.prototype.peek,v.prototype.has=v.prototype.contains,v.prototype.copy=v.prototype.clone,v}(),function(v,E){return typeof define=="function"&&define.amd?define([],E):typeof Mc=="object"?C3.exports=E():v.Heap=E()}(this,function(){return t})}).call(Mc)});var M3=C((SP,P3)=>{P3.exports=T3()});var q3=C((AP,R3)=>{"use strict";var rA=M3(),nA=Xs(),iA=F0(),mf=Xe(),Rc=iA("libp2p:dht:peer-queue"),Es=class{static async fromPeerId(e){let r=await mf.convertPeerId(e);return new Es(r)}static async fromKey(e){let r=await mf.convertBuffer(e);return new Es(r)}constructor(e){Rc("create: %b",e),this.from=e,this.heap=new rA(mf.xorCompare)}async enqueue(e){Rc("enqueue %s",e.toB58String());let r=await mf.convertPeerId(e),n={id:e,distance:nA(this.from,r)};this.heap.push(n)}dequeue(){let e=this.heap.pop();return Rc("dequeue %s",e.id.toB58String()),e.id}get length(){return this.heap.size()}};R3.exports=Es});var L3=C((BP,k3)=>{"use strict";var aA=q3(),sA=Xe(),oA=3e4,N3=class{constructor(e,r){if(this.run=e,this.queryFunc=sA.withTimeout(r,oA),!this.queryFunc)throw new Error("Path requires a `queryFn` to be specified");if(typeof this.queryFunc!="function")throw new Error("Path expected `queryFn` to be a function. Got "+typeof this.queryFunc);this.initialPeers=[],this.peersToQuery=null,this.res=null}addInitialPeer(e){this.initialPeers.push(e)}async execute(){let e=await aA.fromKey(this.run.query.key);this.peersToQuery=e,await Promise.all(this.initialPeers.map(r=>this.addPeerToQuery(r))),await this.run.workerQueue(this)}async addPeerToQuery(e){this.run.query.dht._isSelf(e)||this.run.peersSeen.has(e.toB58String())||this.peersToQuery&&await this.peersToQuery.enqueue(e)}};k3.exports=N3});var O3=C((IP,qc)=>{"use strict";var fA=Object.prototype.hasOwnProperty,$t="~";function _s(){}Object.create&&(_s.prototype=Object.create(null),new _s().__proto__||($t=!1));function uA(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function D3(t,e,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var a=new uA(r,n||t,i),s=$t?$t+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],a]:t._events[s].push(a):(t._events[s]=a,t._eventsCount++),t}function xf(t,e){--t._eventsCount==0?t._events=new _s:delete t._events[e]}function Ut(){this._events=new _s,this._eventsCount=0}Ut.prototype.eventNames=function(){var e=[],r,n;if(this._eventsCount===0)return e;for(n in r=this._events)fA.call(r,n)&&e.push($t?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};Ut.prototype.listeners=function(e){var r=$t?$t+e:e,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,s=new Array(a);i<a;i++)s[i]=n[i].fn;return s};Ut.prototype.listenerCount=function(e){var r=$t?$t+e:e,n=this._events[r];return n?n.fn?1:n.length:0};Ut.prototype.emit=function(e,r,n,i,a,s){var o=$t?$t+e:e;if(!this._events[o])return!1;var f=this._events[o],u=arguments.length,c,l;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),u){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,r),!0;case 3:return f.fn.call(f.context,r,n),!0;case 4:return f.fn.call(f.context,r,n,i),!0;case 5:return f.fn.call(f.context,r,n,i,a),!0;case 6:return f.fn.call(f.context,r,n,i,a,s),!0}for(l=1,c=new Array(u-1);l<u;l++)c[l-1]=arguments[l];f.fn.apply(f.context,c)}else{var y=f.length,b;for(l=0;l<y;l++)switch(f[l].once&&this.removeListener(e,f[l].fn,void 0,!0),u){case 1:f[l].fn.call(f[l].context);break;case 2:f[l].fn.call(f[l].context,r);break;case 3:f[l].fn.call(f[l].context,r,n);break;case 4:f[l].fn.call(f[l].context,r,n,i);break;default:if(!c)for(b=1,c=new Array(u-1);b<u;b++)c[b-1]=arguments[b];f[l].fn.apply(f[l].context,c)}}return!0};Ut.prototype.on=function(e,r,n){return D3(this,e,r,n,!1)};Ut.prototype.once=function(e,r,n){return D3(this,e,r,n,!0)};Ut.prototype.removeListener=function(e,r,n,i){var a=$t?$t+e:e;if(!this._events[a])return this;if(!r)return xf(this,a),this;var s=this._events[a];if(s.fn)s.fn===r&&(!i||s.once)&&(!n||s.context===n)&&xf(this,a);else{for(var o=0,f=[],u=s.length;o<u;o++)(s[o].fn!==r||i&&!s[o].once||n&&s[o].context!==n)&&f.push(s[o]);f.length?this._events[a]=f.length===1?f[0]:f:xf(this,a)}return this};Ut.prototype.removeAllListeners=function(e){var r;return e?(r=$t?$t+e:e,this._events[r]&&xf(this,r)):(this._events=new _s,this._eventsCount=0),this};Ut.prototype.off=Ut.prototype.removeListener;Ut.prototype.addListener=Ut.prototype.on;Ut.prefixed=$t;Ut.EventEmitter=Ut;typeof qc!="undefined"&&(qc.exports=Ut)});var F3=C((CP,K3)=>{"use strict";K3.exports=(t,e)=>(e=e||(()=>{}),t.then(r=>new Promise(n=>{n(e())}).then(()=>r),r=>new Promise(n=>{n(e())}).then(()=>{throw r})))});var z3=C((TP,wf)=>{"use strict";var cA=F3(),kc=class extends Error{constructor(e){super(e);this.name="TimeoutError"}},U3=(t,e,r)=>new Promise((n,i)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===Infinity){n(t);return}let a=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(f){i(f)}return}let s=typeof r=="string"?r:`Promise timed out after ${e} milliseconds`,o=r instanceof Error?r:new kc(s);typeof t.cancel=="function"&&t.cancel(),i(o)},e);cA(t.then(n,i),()=>{clearTimeout(a)})});wf.exports=U3;wf.exports.default=U3;wf.exports.TimeoutError=kc});var V3=C(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});function hA(t,e,r){let n=0,i=t.length;for(;i>0;){let a=i/2|0,s=n+a;r(t[s],e)<=0?(n=++s,i-=a+1):i=a}return n}Nc.default=hA});var j3=C(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});var lA=V3(),H3=class{constructor(){this._queue=[]}enqueue(e,r){r=Object.assign({priority:0},r);let n={priority:r.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}let i=lA.default(this._queue,n,(a,s)=>s.priority-a.priority);this._queue.splice(i,0,n)}dequeue(){let e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(r=>r.priority===e.priority).map(r=>r.run)}get size(){return this._queue.length}};Lc.default=H3});var Oc=C(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});var dA=O3(),G3=z3(),pA=j3(),Ef=()=>{},yA=new G3.TimeoutError,$3=class extends dA{constructor(e){var r,n,i,a;super();if(this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Ef,this._resolveIdle=Ef,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:Infinity,interval:0,concurrency:Infinity,autoStart:!0,queueClass:pA.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=e.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(a=(i=e.interval)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===Infinity||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Ef,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Ef,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let e=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-e;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,r={}){return new Promise((n,i)=>{let a=async()=>{this._pendingCount++,this._intervalCount++;try{let s=this._timeout===void 0&&r.timeout===void 0?e():G3.default(Promise.resolve(e()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&i(yA)});n(await s)}catch(s){i(s)}this._next()};this._queue.enqueue(a,r),this._tryToStartAnother(),this.emit("add")})}async addAll(e,r){return Promise.all(e.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}};Dc.default=$3});var Q3=C((qP,Y3)=>{"use strict";var{default:bA}=Oc(),W3=class{constructor(e,r,n,i){this.dht=e,this.run=r,this.path=n,this.log=i,this.concurrency=this.dht.concurrency,this.queue=this.setupQueue(),this.execution=null,this.queuedPeerIds=new Set}setupQueue(){let e=new bA({concurrency:this.concurrency});return e.on("idle",()=>{this.path.peersToQuery&&!this.path.peersToQuery.length&&(this.log("queue:drain"),this.stop())}),e.on("next",()=>{!this.running||e.pending<this.concurrency&&this.fill()}),e}stop(e){!this.running||(this.running=!1,this.queue.clear(),this.log("worker:stop, %d workers still running",this.run.workers.filter(r=>r.running).length),this.execution&&(e?this.execution.reject(e):this.execution.resolve()))}async execute(){this.running=!0,this.execution=null;let e=new Promise((r,n)=>{this.execution={resolve:r,reject:n}});this.fill(),await e}fill(){if(!!this.path.peersToQuery)for(;this.queue.pending+this.queue.size<this.concurrency&&this.path.peersToQuery.length>0;){let e=this.path.peersToQuery.dequeue();this.queuedPeerIds.add(e),this.queue.add(()=>this.processNext(e).catch(r=>{this.log.error("queue",r),this.stop(r)}).finally(()=>{this.queuedPeerIds.delete(e)}))}}async processNext(e){if(!this.running||this.run.peersSeen.has(e.toB58String()))return;let r,n;try{r=await this.run.continueQuerying(this)}catch(s){n=s}if(!this.running)return;if(n)throw n;if(!r){this.stop();return}if(this.run.peersSeen.has(e.toB58String()))return;this.run.peersSeen.add(e.toB58String()),this.log("queue:work");let i,a;try{i=await this.execQuery(e)}catch(s){a=s}if(!!this.running){if(this.log("queue:work:done",a,i),a)throw a;if(i&&i.queryComplete){this.log("query:complete"),this.run.stop();return}i&&i.pathComplete&&this.stop()}}async execQuery(e){let r,n;try{r=await this.path.queryFunc(e)}catch(i){n=i}if(!!this.running){if(n){this.run.errors.push(n);return}if(this.run.peersQueried&&await this.run.peersQueried.add(e),!!r){if(r.pathComplete||r.queryComplete)return this.path.res=r,{pathComplete:r.pathComplete,queryComplete:r.queryComplete};if(r.closerPeers&&r.closerPeers.length>0){let i=async a=>{this.dht._isSelf(a.id)||(this.dht._peerDiscovered(a.id,a.multiaddrs),await this.path.addPeerToQuery(a.id))};await Promise.all(r.closerPeers.map(i))}}}}};Y3.exports=W3});var X3=C((kP,J3)=>{"use strict";var vA=I3(),gA=qs(),mA=L3(),xA=Q3(),wA=Xe(),Z3=class extends gA{constructor(e){super();this.query=e,this.running=!1,this.workers=[],this.peersSeen=new Set,this.errors=[],this.peersQueried=null}stop(){if(!!this.running){this.running=!1;for(let e of this.workers)e.stop()}}async execute(e){let r=[],n=Math.min(this.query.dht.disjointPaths,e.length);for(let a=0;a<n;a++)r.push(new mA(this,this.query.makePath(a,n)));e.forEach((a,s)=>{r[s%n].addInitialPeer(a)}),await this.executePaths(r);let i={finalSet:new Set(this.peersQueried&&this.peersQueried.peers),paths:[]};for(let a of r)a.res&&(a.res.pathComplete||a.res.queryComplete)&&(a.res.success=!0,i.paths.push(a.res));return i}async executePaths(e){this.running=!0,this.emit("start");try{await Promise.all(e.map(r=>r.execute()))}finally{this.stop(),this.emit("complete")}if(this.errors.length===this.peersSeen.size)throw this.errors[0]}async workerQueue(e){await this.init(),await this.startWorker(e)}async startWorker(e){let r=new xA(this.query.dht,this,e,this.query._log);this.workers.push(r),await r.execute()}async init(){if(!this.peersQueried){if(this.peersQueriedPromise){await this.peersQueriedPromise;return}this.peersQueriedPromise=(async()=>{let e=await wA.convertBuffer(this.query.key);this.peersQueried=new vA(e,this.query.dht.kBucketSize)})(),await this.peersQueriedPromise,delete this.peersQueriedPromise}}async continueQuerying(e){if(this.peersQueried&&this.peersQueried.length<this.peersQueried.capacity)return!0;let r=Array.from(e.queuedPeerIds);return!!(this.peersQueried&&await this.peersQueried.anyCloser(r))}};J3.exports=Z3});var _f=C((NP,e4)=>{"use strict";var{base58btc:EA}=(Rn(),ai),_A=Xe(),SA=X3(),t4=class{constructor(e,r,n){this.dht=e,this.key=r,this.makePath=n,this._log=_A.logger(this.dht.peerId,"query:"+EA.baseEncode(r)),this.running=!1,this._onStart=this._onStart.bind(this),this._onComplete=this._onComplete.bind(this)}async run(e){return this.dht._queryManager.running?e.length===0?(this._log.error("Running query with no peers"),{finalSet:new Set,paths:[]}):(this._run=new SA(this),this._log(`query running with K=${this.dht.kBucketSize}, A=${this.dht.concurrency}, D=${Math.min(this.dht.disjointPaths,e.length)}`),this._run.once("start",this._onStart),this._run.once("complete",this._onComplete),this._run.execute(e)):(this._log.error("Attempt to run query after shutdown"),{finalSet:new Set,paths:[]})}_onStart(){this.running=!0,this._startTime=Date.now(),this._log("query:start"),this.dht._queryManager.queryStarted(this)}_onComplete(){this.stop()}stop(){this._log(`query:done in ${Date.now()-(this._startTime||0)}ms`),this._run&&this._log(`${this._run.errors.length} of ${this._run.peersSeen.size} peers errored (${this._run.errors.length/this._run.peersSeen.size*100}% fail rate)`),!!this.running&&(this.running=!1,this._run&&(this._run.removeListener("start",this._onStart),this._run.removeListener("complete",this._onComplete),this._run.stop()),this.dht._queryManager.queryCompleted(this))}};e4.exports=t4});var a4=C((LP,r4)=>{"use strict";var Kc=qe(),AA=xa(),BA=or(),n4=Je(),i4=Ni(),Fc=Wn(),IA=_f(),Bi=Xe(),CA=i4.Record;r4.exports=t=>{let e=async(i,a)=>t.datastore.put(Bi.bufferToKey(i),a),r=async i=>{t._log(`getLocal ${n4(i,"base32")}`);let a=await t.datastore.get(Bi.bufferToKey(i));t._log(`found ${n4(i,"base32")} in local datastore`);let s=CA.deserialize(a);return await t._verifyRecordLocally(s),s},n=async(i,a,s)=>{let o=await Bi.createPutRecord(i,s);return Promise.all(a.map(async f=>{if(!BA(f.val,s)){if(t._isSelf(f.from)){try{await t._putLocal(i,o)}catch(u){t._log.error("Failed error correcting self",u)}return}try{await t._putValueToPeer(i,o,f.from)}catch(u){t._log.error("Failed error correcting entry",u)}}}))};return{async _putLocal(i,a){return e(i,a)},async put(i,a,s={}){t._log("PutValue %b",i);let o=await Bi.createPutRecord(i,a);await e(i,o);let f=0,u=0;await Bi.mapParallel(t.getClosestPeers(i,{shallow:!0}),async l=>{try{f+=1,await t._putValueToPeer(i,o,l),u+=1}catch(y){t._log.error("Failed to put to peer (%b): %s",l.id,y)}});let c=s.minPeers||f;if(c>u){let l=Kc(new Error(`Failed to put value to enough peers: ${u}/${c}`),"ERR_NOT_ENOUGH_PUT_PEERS");throw t._log.error(l),l}},async get(i,a={}){a.timeout=a.timeout||Fc.minute,t._log("_get %b",i);let s=await t.getMany(i,Fc.GET_MANY_RECORD_COUNT,a),o=s.map(c=>c.val),f=0;try{f=i4.selection.bestRecord(t.selectors,i,o)}catch(c){if(c.code!=="ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY")throw c}let u=o[f];if(t._log("GetValue %b %s",i,u),!u)throw Kc(new Error("best value was not found"),"ERR_NOT_FOUND");return await n(i,s,u),u},async getMany(i,a,s={}){s.timeout=s.timeout||Fc.minute,t._log("getMany %b (%s)",i,a);let o=[],f;try{f=await r(i)}catch(g){if(a===0)throw g}if(f&&o.push({val:f.value,from:t.peerId}),o.length>=a)return o;let u=await Bi.convertBuffer(i),c=t.routingTable.closestPeers(u,t.kBucketSize);if(t._log("peers in rt: %d",c.length),c.length===0){let g="Failed to lookup key! No peers from routing table!";if(t._log.error(g),o.length===0)throw Kc(new Error(g),"ERR_NO_PEERS_IN_ROUTING_TABLE");return o}let l=o.length;function y(g,v){let E=Bi.pathSize(a-l,v),A=0;async function P(q){let F,D,O;try{let H=await t._getValueOrPeers(q,i);F=H.record,D=H.peers}catch(H){if(H.code!=="ERR_INVALID_RECORD")throw H;O=H}let j={closerPeers:D};return F&&F.value?(o.push({val:F.value,from:q}),A++):O&&(o.push({err:O,from:q}),A++),A>=E&&(j.pathComplete=!0),j}return P}let b=new IA(t,i,y);try{await AA(b.run(c),s.timeout)}catch(g){if(o.length===0)throw g}finally{b.stop()}return o}}}});var f4=C((DP,s4)=>{"use strict";var o4=class{constructor(){this.list=[]}push(e){return this.has(e.id)?!1:(this.list.push(e),!0)}has(e){let r=this.list.find(n=>n.id.equals(e));return Boolean(r)}toArray(){return this.list.slice()}pop(){return this.list.pop()}get length(){return this.list.length}};s4.exports=o4});var h4=C((OP,u4)=>{"use strict";var TA=f4(),c4=class extends TA{constructor(e){super();this.limit=e}push(e){return this.length<this.limit?super.push(e):!1}};u4.exports=c4});var v4=C((KP,l4)=>{"use strict";var PA=qe(),d4=xa(),p4=Wn(),y4=h4(),Sf=on(),MA=_f(),b4=Xe();l4.exports=t=>{let e=async(r,n)=>{let i=new Sf(Sf.TYPES.GET_PROVIDERS,n.bytes,0);return t.network.sendRequest(r,i)};return{async provide(r){t._log(`provide: ${r}`);let n=[];await t.providers.addProvider(r,t.peerId);let i=t.libp2p?t.libp2p.multiaddrs:[],a=new Sf(Sf.TYPES.ADD_PROVIDER,r.bytes,0);a.providerPeers=[{id:t.peerId,multiaddrs:i}];async function s(o){t._log(`putProvider ${r} to ${o.toB58String()}`);try{await t.network.sendMessage(o,a)}catch(f){n.push(f)}}if(await b4.mapParallel(t.getClosestPeers(r.bytes),s),n.length)throw PA(new Error(`Failed to provide to ${n.length} of ${t.kBucketSize} peers`),"ERR_SOME_PROVIDES_FAILED",{errors:n})},async*findProviders(r,n={timeout:6e4,maxNumProviders:5}){let i=n.timeout||p4.minute,a=n.maxNumProviders||p4.K;t._log(`findProviders ${r}`);let s=new y4(a);if((await t.providers.getProviders(r)).forEach(y=>{let b=t.peerStore.get(y);b?s.push({id:b.id,multiaddrs:b.addresses.map(g=>g.multiaddr)}):s.push({id:y,multiaddrs:[]})}),s.length>=a){for(let y of s.toArray())yield y;return}let f=[];function u(y,b){let g=b4.pathSize(a-s.length,b),v=new y4(g);f.push(v);async function E(A){let P=await e(A,r),q=P.providerPeers;return t._log(`Found ${q.length} provider entries for ${r}`),q.forEach(F=>{v.push({...F})}),v.length>=g?{pathComplete:!0}:{closerPeers:P.closerPeers}}return E}let c=new MA(t,r.bytes,u),l=t.routingTable.closestPeers(r.bytes,t.kBucketSize);try{await d4(c.run(l),i)}catch(y){if(y.name!==d4.TimeoutError.name)throw y}finally{c.stop()}f.forEach(y=>{y.toArray().forEach(b=>{s.push(b)})});for(let y of s.toArray())yield y}}}});var x4=C((FP,g4)=>{"use strict";lo();var Af=Be(),Ca=Je(),m4=fr();g4.exports={createCipheriv:(t,e,r)=>{let n=Af.cipher.createCipher("AES-CTR",Ca(e,"ascii"));return n.start({iv:Ca(r,"ascii")}),{update:i=>(n.update(Af.util.createBuffer(Ca(i,"ascii"))),m4(n.output.getBytes(),"ascii"))}},createDecipheriv:(t,e,r)=>{let n=Af.cipher.createDecipher("AES-CTR",Ca(e,"ascii"));return n.start({iv:Ca(r,"ascii")}),{update:i=>(n.update(Af.util.createBuffer(Ca(i,"ascii"))),m4(n.output.getBytes(),"ascii"))}}}});var _4=C((UP,w4)=>{"use strict";var RA=qe(),E4={16:"aes-128-ctr",32:"aes-256-ctr"};w4.exports=function(t){let e=E4[t.length];if(!e){let r=Object.entries(E4).map(([n,i])=>`${n} (${i})`).join(" / ");throw RA(new Error(`Invalid key length ${t.length} bytes. Must be ${r}`),"ERR_INVALID_KEY_LENGTH")}return e}});var B4=C(S4=>{"use strict";var A4=x4(),qA=_4();S4.create=async function(t,e){let r=qA(t),n=A4.createCipheriv(r,t,e),i=A4.createDecipheriv(r,t,e);return{async encrypt(s){return n.update(s)},async decrypt(s){return i.update(s)}}}});var T4=C((VP,I4)=>{"use strict";var kA=eu(),NA=$e(),LA=qe(),C4={sha1:"sha1","sha2-256":"sha256","sha2-512":"sha512"};function DA(t,e,r,n,i){let a=C4[i];if(!a){let o=Object.keys(C4).join(" / ");throw LA(new Error(`Hash '${i}' is unknown or not supported. Must be ${o}`),"ERR_UNSUPPORTED_HASH_TYPE")}let s=kA(t,e,r,n,a);return NA.encode64(s)}I4.exports=DA});var Uc=C(Ta=>{"use strict";var OA=Zu(),KA=B4(),FA=tc();Ta.aes=KA;Ta.hmac=OA;Ta.keys=FA;Ta.randomBytes=Io();Ta.pbkdf2=T4()});var R4=C((jP,P4)=>{"use strict";var Ss=qe(),UA=xa(),zc=ma(),zA=Uc(),VA=Je(),HA=Wn(),Bf=on(),M4=_f(),As=Xe();P4.exports=t=>{let e=async a=>{t._log(`findPeerLocal ${a.toB58String()}`);let s=await t.routingTable.find(a),o=s&&t.peerStore.get(s);if(o)return{id:o.id,multiaddrs:o.addresses.map(f=>f.multiaddr)}},r=async(a,s)=>{let o=new Bf(Bf.TYPES.GET_VALUE,s,0);return t.network.sendRequest(a,o)},n=async(a,s)=>(t._log(`closerPeersSingle ${VA(a,"base32")} from ${s.toB58String()}`),(await t.peerRouting._findPeerSingle(s,new zc(a))).closerPeers.filter(f=>!t._isSelf(f.id)).map(f=>(t.peerStore.addressBook.add(f.id,f.multiaddrs),f))),i=async a=>{let s=As.keyForPublicKey(a),o=await r(a,s);if(!o.record||!o.record.value)throw Ss(new Error(`Node not responding with its public key: ${a.toB58String()}`),"ERR_INVALID_RECORD");let f=await zc.createFromPubKey(o.record.value);if(!f.equals(a))throw Ss(new Error("public key does not match id"),"ERR_PUBLIC_KEY_DOES_NOT_MATCH_ID");return f.pubKey};return{async _findPeerSingle(a,s){t._log("findPeerSingle %s",a.toB58String());let o=new Bf(Bf.TYPES.FIND_NODE,s.id,0);return t.network.sendRequest(a,o)},async findPeer(a,s={timeout:6e4}){s.timeout=s.timeout||HA.minute,t._log("findPeer %s",a.toB58String());let o=await e(a);if(o!=null)return t._log("found local"),o;let f=await As.convertPeerId(a),u=t.routingTable.closestPeers(f,t.kBucketSize);if(u.length===0)throw Ss(new Error("Peer lookup failed"),"ERR_LOOKUP_FAILED");if(u.find(v=>v.isEqual(a))){let v=t.peerStore.get(a);if(v)return t._log("found in peerStore"),{id:v.id,multiaddrs:v.addresses.map(E=>E.multiaddr)}}let l=new M4(t,a.id,()=>async E=>{let A=await this._findPeerSingle(E,a),P=A.closerPeers.find(q=>q.id.isEqual(a));return P?{peer:P,queryComplete:!0}:{closerPeers:A.closerPeers}}),y;try{y=await UA(l.run(u),s.timeout)}finally{l.stop()}let b=!1;if(y.paths.forEach(v=>{v.success&&v.peer&&(b=!0,t.peerStore.addressBook.add(v.peer.id,v.peer.multiaddrs))}),t._log("findPeer %s: %s",a.toB58String(),b),!b)throw Ss(new Error("No peer found"),"ERR_NOT_FOUND");let g=t.peerStore.get(a);if(!g)throw Ss(new Error("No peer found in peer store"),"ERR_NOT_FOUND");return{id:g.id,multiaddrs:g.addresses.map(v=>v.multiaddr)}},async*getClosestPeers(a,s={shallow:!1}){t._log("getClosestPeers to %b",a);let o=await As.convertBuffer(a),f=t.routingTable.closestPeers(o,t.kBucketSize),c=await new M4(t,a,()=>async y=>({closerPeers:await n(a,y),pathComplete:s.shallow?!0:void 0})).run(f);if(!c||!c.finalSet)return[];let l=await As.sortClosestPeers(Array.from(c.finalSet),o);for(let y of l.slice(0,t.kBucketSize))yield y},async getPublicKey(a){t._log("getPublicKey %s",a.toB58String());let s=t.peerStore.get(a);if(s&&s.id.pubKey)return t._log("getPublicKey: found local copy"),s.id.pubKey;let o;try{o=await i(a)}catch(c){let l=As.keyForPublicKey(a),y=await t.get(l);o=zA.keys.unmarshalPublicKey(y)}let f=new zc(a.id,void 0,o),u=(s&&s.addresses||[]).map(c=>c.multiaddr);return t.peerStore.addressBook.add(f,u),t.peerStore.keyBook.set(f,o),o}}}});var k4=C((GP,q4)=>{q4.exports=function(t){if(!t)throw Error("hashlru must have a max value, of type number, greater than 0");var e=0,r=Object.create(null),n=Object.create(null);function i(a,s){r[a]=s,e++,e>=t&&(e=0,n=r,r=Object.create(null))}return{has:function(a){return r[a]!==void 0||n[a]!==void 0},remove:function(a){r[a]!==void 0&&(r[a]=void 0),n[a]!==void 0&&(n[a]=void 0)},get:function(a){var s=r[a];if(s!==void 0)return s;if((s=n[a])!==void 0)return i(a,s),s},set:function(a,s){r[a]!==void 0?r[a]=s:i(a,s)},clear:function(){r=Object.create(null),n=Object.create(null)}}}});var F4=C(($P,N4)=>{"use strict";var jA=k4(),L4=Si(),GA=ma(),{Key:$A}=zs(),{default:YA}=Oc(),Bs=Wn(),Is=Xe(),D4=class{constructor(e,r,n){this.datastore=e,this._log=Is.logger(r,"providers"),this.cleanupInterval=Bs.PROVIDERS_CLEANUP_INTERVAL,this.provideValidity=Bs.PROVIDERS_VALIDITY,this.lruCacheSize=n||Bs.PROVIDERS_LRU_CACHE_SIZE,this.providers=jA(this.lruCacheSize),this.syncQueue=new YA({concurrency:1})}start(){this._cleaner=setInterval(()=>this._cleanup(),this.cleanupInterval)}stop(){this._cleaner&&(clearInterval(this._cleaner),this._cleaner=null)}_cleanup(){return this.syncQueue.add(async()=>{this._log("start cleanup");let e=Date.now(),r=0,n=0,i=new Map,a=this.datastore.batch(),s=this.datastore.query({prefix:Bs.PROVIDERS_KEY_PREFIX});for await(let o of s)try{let{cid:f,peerId:u}=O4(o.key),c=K4(o.value),l=Date.now(),y=l-c,b=y>this.provideValidity;if(this._log("comparing: %d - %d = %d > %d %s",l,c,y,this.provideValidity,b?"(expired)":""),b){n++,a.delete(o.key);let g=i.get(f)||new Set;g.add(u),i.set(f,g)}r++}catch(f){this._log.error(f.message)}this._log("deleting %d / %d entries",n,r),i.size&&await a.commit();for(let[o,f]of i){let u=Cs(o),c=this.providers.get(u);if(c){for(let l of f)c.delete(l);c.size===0?this.providers.remove(u):this.providers.set(u,c)}}this._log("Cleanup successful (%dms)",Date.now()-e)})}async _getProvidersMap(e){let r=Cs(e),n=this.providers.get(r);return n||(n=await QA(this.datastore,e),this.providers.set(r,n)),n}async addProvider(e,r){return this.syncQueue.add(async()=>{this._log("addProvider %s",e.toString());let n=await this._getProvidersMap(e);this._log("loaded %s provs",n.size);let i=new Date;n.set(Is.encodeBase32(r.id),i);let a=Cs(e);return this.providers.set(a,n),WA(this.datastore,e,r,i)})}async getProviders(e){return this.syncQueue.add(async()=>(this._log("getProviders %s",e.toString()),[...(await this._getProvidersMap(e)).keys()].map(n=>new GA(Is.decodeBase32(n)))))}};function Cs(t){return t=typeof t=="string"?t:Is.encodeBase32(t.bytes),Bs.PROVIDERS_KEY_PREFIX+t}async function WA(t,e,r,n){let i=[Cs(e),"/",Is.encodeBase32(r.id)].join(""),a=new $A(i),s=Uint8Array.from(L4.encode(n.getTime()));return t.put(a,s)}function O4(t){let e=t.toString().split("/");if(e.length!==4)throw new Error("incorrectly formatted provider entry key in datastore: "+t);return{cid:e[2],peerId:e[3]}}async function QA(t,e){let r=new Map,n=t.query({prefix:Cs(e)});for await(let i of n){let{peerId:a}=O4(i.key);r.set(a,K4(i.value))}return r}function K4(t){return L4.decode(t)}N4.exports=D4});var z4=C((YP,If)=>{"use strict";var{AbortController:U4,AbortSignal:JA}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;If.exports=U4;If.exports.AbortSignal=JA;If.exports.default=U4});var H4=C((WP,Vc)=>{"use strict";var ZA=eo(),V4=async(t,e,r)=>ZA(new Array(t).fill(),(n,i)=>e(i),r);Vc.exports=V4;Vc.exports.default=V4});var $4=C((QP,j4)=>{"use strict";var XA=Uc(),{sha256:eB}=(Tn(),Cn),tB=ma(),{AbortController:rB}=z4(),nB=qe(),iB=H4(),aB=Wn(),{logger:sB}=Xe(),G4=class{constructor(e,r){if(!e)throw new Error("Random Walk needs an instance of the Kademlia DHT");this._kadDHT=e,this._options={...aB.defaultRandomWalk,...r},this.log=sB(e.peerId,"random-walk"),this._timeoutId=void 0}start(){this._running||(this._running=!0,!(this._timeoutId||!this._options.enabled)&&(this._timeoutId=setTimeout(()=>{this._runPeriodically()},this._options.delay)))}stop(){this._running=!1,this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=void 0),this._controller&&this._controller.abort()}async _runPeriodically(){for(;this._timeoutId;){try{await this._walk(this._options.queriesPerPeriod,this._options.timeout)}catch(e){this._kadDHT._log.error("random-walk:error",e)}if(!this._running)return;await new Promise(e=>{this._timeoutId=setTimeout(e,this._options.interval)})}}async _walk(e,r){this.log("start"),this._controller=new rB;try{await iB(e,async n=>{this.log("running query %d",n);try{let i=await this._randomPeerId();if(!this._controller)return;await this._query(i,{timeout:r,signal:this._controller.signal})}catch(i){if(i&&i.code!=="ETIMEDOUT")throw this.log.error("query %d finished with error",n,i),i}this.log("finished query %d",n)})}finally{this._controller=null,this.log("finished queries")}}async _query(e,r){this.log("query:%s",e.toB58String());let n;try{n=await this._kadDHT.findPeer(e,r)}catch(i){if(i&&i.code==="ERR_NOT_FOUND")return;throw i}throw this.log("query:found",n),nB(new Error(`random-walk: ACTUALLY FOUND PEER: ${n}, ${e.toB58String()}`),"ERR_FOUND_RANDOM_PEER")}async _randomPeerId(){let e=await eB.digest(XA.randomBytes(16));return new tB(e.bytes)}};j4.exports=G4});var Q4=C((JP,Y4)=>{"use strict";var W4=class{constructor(){this.queries=new Set,this.running=!1}queryStarted(e){this.queries.add(e)}queryCompleted(e){this.queries.delete(e)}start(){this.running=!0}stop(){this.running=!1;for(let e of this.queries)e.stop();this.queries.clear()}};Y4.exports=W4});var vB=C((ZP,Hc)=>{"use strict";var{EventEmitter:oB}=qs(),Cf=qe(),Ts=Ni(),{MemoryDatastore:fB}=zs(),J4=or(),jc=Je(),uB=yv(),Pa=Xe(),Ps=Wn(),cB=_3(),hB=a4(),lB=v4(),dB=R4(),Tf=on(),pB=F4(),yB=$4(),bB=Q4(),Gc=Ts.Record,Z4=class extends oB{constructor({libp2p:e,dialer:r,peerId:n,peerStore:i,registrar:a,protocolPrefix:s="/ipfs",forceProtocolLegacy:o=!1,datastore:f=new fB,kBucketSize:u=Ps.K,clientMode:c=!1,concurrency:l=Ps.ALPHA,validators:y={},selectors:b={},randomWalk:g={enabled:!1,queriesPerPeriod:1,interval:3e5,timeout:3e4,delay:1e4},onPut:v=()=>{},onRemove:E=()=>{}}){super();if(!r)throw new Error("libp2p-kad-dht requires an instance of Dialer");this.libp2p=e,this.dialer=r,this.peerId=n,this.peerStore=i,this.registrar=a,this.protocol=s+(o?"":Ps.PROTOCOL_DHT),this.kBucketSize=u,this._clientMode=c,this.concurrency=l,this.disjointPaths=Math.ceil(this.kBucketSize/2),this.routingTable=new uB(this.peerId,this.kBucketSize),this.datastore=f,this.providers=new pB(this.datastore,this.peerId),this.validators={pk:Ts.validator.validators.pk,...y},this.selectors={pk:Ts.selection.selectors.pk,...b},this.network=new cB(this),this._log=Pa.logger(this.peerId),this.randomWalk=new yB(this,g),this._queryManager=new bB,this._running=!1,this.contentFetching=hB(this),this.contentRouting=lB(this),this.peerRouting=dB(this),this.onPut=v,this.onRemove=E}get isStarted(){return this._running}start(){this._running||(this._running=!0,this.providers.start(),this._queryManager.start(),this.network.start(),this.randomWalk.start())}stop(){this._running=!1,this.randomWalk.stop(),this.network.stop(),this._queryManager.stop(),this.providers.stop()}async put(e,r,n={}){return this.contentFetching.put(e,r,n)}async get(e,r={}){return this.contentFetching.get(e,r)}async getMany(e,r,n={}){return this.contentFetching.getMany(e,r,n)}async removeLocal(e){this._log(`removeLocal: ${jc(e,"base32")}`);let r=Pa.bufferToKey(e);try{await this.datastore.delete(r)}catch(n){if(n.code==="ERR_NOT_FOUND")return;throw n}}async _putLocal(e,r){this._log(`_putLocal: ${jc(e,"base32")}`);let n=Pa.bufferToKey(e);await this.datastore.put(n,r)}async provide(e){return this.contentRouting.provide(e)}async*findProviders(e,r={timeout:6e3,maxNumProviders:5}){for await(let n of this.contentRouting.findProviders(e,r))yield n}async findPeer(e,r={timeout:6e4}){return this.peerRouting.findPeer(e,r)}async*getClosestPeers(e,r={shallow:!1}){yield*this.peerRouting.getClosestPeers(e,r)}getPublicKey(e){return this.peerRouting.getPublicKey(e)}_peerDiscovered(e,r){this.emit("peer",{id:e,multiaddrs:r})}async _nearestPeersToQuery(e){let r=await Pa.convertBuffer(e.key);return this.routingTable.closestPeers(r,this.kBucketSize).map(i=>{let a=this.peerStore.get(i);return{id:i,multiaddrs:a?a.addresses.map(s=>s.multiaddr):[]}})}async _betterPeersToQuery(e,r){return this._log("betterPeersToQuery"),(await this._nearestPeersToQuery(e)).filter(i=>this._isSelf(i.id)?(this._log.error("trying to return self as closer"),!1):!i.id.isEqual(r))}async _checkLocalDatastore(e){this._log(`checkLocalDatastore: ${jc(e)} %b`,e);let r=Pa.bufferToKey(e),n;try{n=await this.datastore.get(r)}catch(a){if(a.code==="ERR_NOT_FOUND")return;throw a}let i=Gc.deserialize(n);if(!i)throw Cf(new Error("Invalid record"),"ERR_INVALID_RECORD");if(i.timeReceived==null||Pa.now()-i.timeReceived.getTime()>Ps.MAX_RECORD_AGE){await this.datastore.delete(r),this.onRemove(i);return}return i}async _add(e){await this.routingTable.add(e)}async _verifyRecordLocally(e){this._log("verifyRecordLocally"),await Ts.validator.verifyRecord(this.validators,e)}_isSelf(e){return e&&J4(this.peerId.id,e.id)}async _putValueToPeer(e,r,n){let i=new Tf(Tf.TYPES.PUT_VALUE,e,0);i.record=Gc.deserialize(r);let a=await this.network.sendRequest(n,i);if(a.record&&!J4(a.record.value,Gc.deserialize(r).value))throw Cf(new Error("value not put correctly"),"ERR_PUT_VALUE_INVALID")}async _getValueOrPeers(e,r){let n=await this._getValueSingle(e,r),i=n.closerPeers,a=n.record;if(a){try{await this._verifyRecordOnline(a)}catch(s){let o="invalid record received, discarded";throw this._log(o),Cf(new Error(o),"ERR_INVALID_RECORD")}return{record:a,peers:i}}if(i.length>0)return{peers:i};throw Cf(new Error("Not found"),"ERR_NOT_FOUND")}async _getValueSingle(e,r){let n=new Tf(Tf.TYPES.GET_VALUE,r,0);return this.network.sendRequest(e,n)}async _verifyRecordOnline(e){await Ts.validator.verifyRecord(this.validators,e)}};Hc.exports=Z4;Hc.exports.multicodec="/ipfs"+Ps.PROTOCOL_DHT});return vB();})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
return Libp2pKadDht}));
